(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Hh={exports:{}},Kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function Q0(){if(Cy)return Kl;Cy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:h,ref:o!==void 0?o:null,props:c}}return Kl.Fragment=t,Kl.jsx=i,Kl.jsxs=i,Kl}var Dy;function G0(){return Dy||(Dy=1,Hh.exports=Q0()),Hh.exports}var tt=G0(),Fh={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function K0(){if(Oy)return wt;Oy=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.iterator;function V(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,G={};function j(N,W,dt){this.props=N,this.context=W,this.refs=G,this.updater=dt||P}j.prototype.isReactComponent={},j.prototype.setState=function(N,W){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,W,"setState")},j.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function at(){}at.prototype=j.prototype;function st(N,W,dt){this.props=N,this.context=W,this.refs=G,this.updater=dt||P}var $=st.prototype=new at;$.constructor=st,q($,j.prototype),$.isPureReactComponent=!0;var rt=Array.isArray,nt={H:null,A:null,T:null,S:null},yt=Object.prototype.hasOwnProperty;function O(N,W,dt,lt,ot,Ct){return dt=Ct.ref,{$$typeof:r,type:N,key:W,ref:dt!==void 0?dt:null,props:Ct}}function R(N,W){return O(N.type,W,void 0,void 0,void 0,N.props)}function b(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function D(N){var W={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(dt){return W[dt]})}var x=/\/+/g;function z(N,W){return typeof N=="object"&&N!==null&&N.key!=null?D(""+N.key):W.toString(36)}function C(){}function Ae(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(C,C):(N.status="pending",N.then(function(W){N.status==="pending"&&(N.status="fulfilled",N.value=W)},function(W){N.status==="pending"&&(N.status="rejected",N.reason=W)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function de(N,W,dt,lt,ot){var Ct=typeof N;(Ct==="undefined"||Ct==="boolean")&&(N=null);var Rt=!1;if(N===null)Rt=!0;else switch(Ct){case"bigint":case"string":case"number":Rt=!0;break;case"object":switch(N.$$typeof){case r:case t:Rt=!0;break;case A:return Rt=N._init,de(Rt(N._payload),W,dt,lt,ot)}}if(Rt)return ot=ot(N),Rt=lt===""?"."+z(N,0):lt,rt(ot)?(dt="",Rt!=null&&(dt=Rt.replace(x,"$&/")+"/"),de(ot,W,dt,"",function(re){return re})):ot!=null&&(b(ot)&&(ot=R(ot,dt+(ot.key==null||N&&N.key===ot.key?"":(""+ot.key).replace(x,"$&/")+"/")+Rt)),W.push(ot)),1;Rt=0;var me=lt===""?".":lt+":";if(rt(N))for(var Pt=0;Pt<N.length;Pt++)lt=N[Pt],Ct=me+z(lt,Pt),Rt+=de(lt,W,dt,Ct,ot);else if(Pt=V(N),typeof Pt=="function")for(N=Pt.call(N),Pt=0;!(lt=N.next()).done;)lt=lt.value,Ct=me+z(lt,Pt++),Rt+=de(lt,W,dt,Ct,ot);else if(Ct==="object"){if(typeof N.then=="function")return de(Ae(N),W,dt,lt,ot);throw W=String(N),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Rt}function it(N,W,dt){if(N==null)return N;var lt=[],ot=0;return de(N,lt,"","",function(Ct){return W.call(dt,Ct,ot++)}),lt}function vt(N){if(N._status===-1){var W=N._result;W=W(),W.then(function(dt){(N._status===0||N._status===-1)&&(N._status=1,N._result=dt)},function(dt){(N._status===0||N._status===-1)&&(N._status=2,N._result=dt)}),N._status===-1&&(N._status=0,N._result=W)}if(N._status===1)return N._result.default;throw N._result}var gt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Ft(){}return wt.Children={map:it,forEach:function(N,W,dt){it(N,function(){W.apply(this,arguments)},dt)},count:function(N){var W=0;return it(N,function(){W++}),W},toArray:function(N){return it(N,function(W){return W})||[]},only:function(N){if(!b(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},wt.Component=j,wt.Fragment=i,wt.Profiler=o,wt.PureComponent=st,wt.StrictMode=a,wt.Suspense=y,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nt,wt.act=function(){throw Error("act(...) is not supported in production builds of React.")},wt.cache=function(N){return function(){return N.apply(null,arguments)}},wt.cloneElement=function(N,W,dt){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var lt=q({},N.props),ot=N.key,Ct=void 0;if(W!=null)for(Rt in W.ref!==void 0&&(Ct=void 0),W.key!==void 0&&(ot=""+W.key),W)!yt.call(W,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&W.ref===void 0||(lt[Rt]=W[Rt]);var Rt=arguments.length-2;if(Rt===1)lt.children=dt;else if(1<Rt){for(var me=Array(Rt),Pt=0;Pt<Rt;Pt++)me[Pt]=arguments[Pt+2];lt.children=me}return O(N.type,ot,void 0,void 0,Ct,lt)},wt.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},wt.createElement=function(N,W,dt){var lt,ot={},Ct=null;if(W!=null)for(lt in W.key!==void 0&&(Ct=""+W.key),W)yt.call(W,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(ot[lt]=W[lt]);var Rt=arguments.length-2;if(Rt===1)ot.children=dt;else if(1<Rt){for(var me=Array(Rt),Pt=0;Pt<Rt;Pt++)me[Pt]=arguments[Pt+2];ot.children=me}if(N&&N.defaultProps)for(lt in Rt=N.defaultProps,Rt)ot[lt]===void 0&&(ot[lt]=Rt[lt]);return O(N,Ct,void 0,void 0,null,ot)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(N){return{$$typeof:g,render:N}},wt.isValidElement=b,wt.lazy=function(N){return{$$typeof:A,_payload:{_status:-1,_result:N},_init:vt}},wt.memo=function(N,W){return{$$typeof:p,type:N,compare:W===void 0?null:W}},wt.startTransition=function(N){var W=nt.T,dt={};nt.T=dt;try{var lt=N(),ot=nt.S;ot!==null&&ot(dt,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(Ft,gt)}catch(Ct){gt(Ct)}finally{nt.T=W}},wt.unstable_useCacheRefresh=function(){return nt.H.useCacheRefresh()},wt.use=function(N){return nt.H.use(N)},wt.useActionState=function(N,W,dt){return nt.H.useActionState(N,W,dt)},wt.useCallback=function(N,W){return nt.H.useCallback(N,W)},wt.useContext=function(N){return nt.H.useContext(N)},wt.useDebugValue=function(){},wt.useDeferredValue=function(N,W){return nt.H.useDeferredValue(N,W)},wt.useEffect=function(N,W){return nt.H.useEffect(N,W)},wt.useId=function(){return nt.H.useId()},wt.useImperativeHandle=function(N,W,dt){return nt.H.useImperativeHandle(N,W,dt)},wt.useInsertionEffect=function(N,W){return nt.H.useInsertionEffect(N,W)},wt.useLayoutEffect=function(N,W){return nt.H.useLayoutEffect(N,W)},wt.useMemo=function(N,W){return nt.H.useMemo(N,W)},wt.useOptimistic=function(N,W){return nt.H.useOptimistic(N,W)},wt.useReducer=function(N,W,dt){return nt.H.useReducer(N,W,dt)},wt.useRef=function(N){return nt.H.useRef(N)},wt.useState=function(N){return nt.H.useState(N)},wt.useSyncExternalStore=function(N,W,dt){return nt.H.useSyncExternalStore(N,W,dt)},wt.useTransition=function(){return nt.H.useTransition()},wt.version="19.0.0",wt}var Ny;function Ld(){return Ny||(Ny=1,Fh.exports=K0()),Fh.exports}var Ht=Ld(),Qh={exports:{}},Yl={},Gh={exports:{}},Kh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function Y0(){return Vy||(Vy=1,function(r){function t(it,vt){var gt=it.length;it.push(vt);t:for(;0<gt;){var Ft=gt-1>>>1,N=it[Ft];if(0<o(N,vt))it[Ft]=vt,it[gt]=N,gt=Ft;else break t}}function i(it){return it.length===0?null:it[0]}function a(it){if(it.length===0)return null;var vt=it[0],gt=it.pop();if(gt!==vt){it[0]=gt;t:for(var Ft=0,N=it.length,W=N>>>1;Ft<W;){var dt=2*(Ft+1)-1,lt=it[dt],ot=dt+1,Ct=it[ot];if(0>o(lt,gt))ot<N&&0>o(Ct,lt)?(it[Ft]=Ct,it[ot]=gt,Ft=ot):(it[Ft]=lt,it[dt]=gt,Ft=dt);else if(ot<N&&0>o(Ct,gt))it[Ft]=Ct,it[ot]=gt,Ft=ot;else break t}}return vt}function o(it,vt){var gt=it.sortIndex-vt.sortIndex;return gt!==0?gt:it.id-vt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var h=Date,g=h.now();r.unstable_now=function(){return h.now()-g}}var y=[],p=[],A=1,S=null,V=3,P=!1,q=!1,G=!1,j=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function $(it){for(var vt=i(p);vt!==null;){if(vt.callback===null)a(p);else if(vt.startTime<=it)a(p),vt.sortIndex=vt.expirationTime,t(y,vt);else break;vt=i(p)}}function rt(it){if(G=!1,$(it),!q)if(i(y)!==null)q=!0,Ae();else{var vt=i(p);vt!==null&&de(rt,vt.startTime-it)}}var nt=!1,yt=-1,O=5,R=-1;function b(){return!(r.unstable_now()-R<O)}function D(){if(nt){var it=r.unstable_now();R=it;var vt=!0;try{t:{q=!1,G&&(G=!1,at(yt),yt=-1),P=!0;var gt=V;try{e:{for($(it),S=i(y);S!==null&&!(S.expirationTime>it&&b());){var Ft=S.callback;if(typeof Ft=="function"){S.callback=null,V=S.priorityLevel;var N=Ft(S.expirationTime<=it);if(it=r.unstable_now(),typeof N=="function"){S.callback=N,$(it),vt=!0;break e}S===i(y)&&a(y),$(it)}else a(y);S=i(y)}if(S!==null)vt=!0;else{var W=i(p);W!==null&&de(rt,W.startTime-it),vt=!1}}break t}finally{S=null,V=gt,P=!1}vt=void 0}}finally{vt?x():nt=!1}}}var x;if(typeof st=="function")x=function(){st(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,C=z.port2;z.port1.onmessage=D,x=function(){C.postMessage(null)}}else x=function(){j(D,0)};function Ae(){nt||(nt=!0,x())}function de(it,vt){yt=j(function(){it(r.unstable_now())},vt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(it){it.callback=null},r.unstable_continueExecution=function(){q||P||(q=!0,Ae())},r.unstable_forceFrameRate=function(it){0>it||125<it?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<it?Math.floor(1e3/it):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_getFirstCallbackNode=function(){return i(y)},r.unstable_next=function(it){switch(V){case 1:case 2:case 3:var vt=3;break;default:vt=V}var gt=V;V=vt;try{return it()}finally{V=gt}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(it,vt){switch(it){case 1:case 2:case 3:case 4:case 5:break;default:it=3}var gt=V;V=it;try{return vt()}finally{V=gt}},r.unstable_scheduleCallback=function(it,vt,gt){var Ft=r.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Ft+gt:Ft):gt=Ft,it){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=gt+N,it={id:A++,callback:vt,priorityLevel:it,startTime:gt,expirationTime:N,sortIndex:-1},gt>Ft?(it.sortIndex=gt,t(p,it),i(y)===null&&it===i(p)&&(G?(at(yt),yt=-1):G=!0,de(rt,gt-Ft))):(it.sortIndex=N,t(y,it),q||P||(q=!0,Ae())),it},r.unstable_shouldYield=b,r.unstable_wrapCallback=function(it){var vt=V;return function(){var gt=V;V=vt;try{return it.apply(this,arguments)}finally{V=gt}}}}(Kh)),Kh}var Iy;function X0(){return Iy||(Iy=1,Gh.exports=Y0()),Gh.exports}var Yh={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function Z0(){if(My)return Ge;My=1;var r=Ld();function t(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)p+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,p,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:p,implementation:A}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ge.createPortal=function(y,p){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return c(y,p,null,A)},Ge.flushSync=function(y){var p=h.T,A=a.p;try{if(h.T=null,a.p=2,y)return y()}finally{h.T=p,a.p=A,a.d.f()}},Ge.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(y,p))},Ge.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Ge.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var A=p.as,S=g(A,p.crossOrigin),V=typeof p.integrity=="string"?p.integrity:void 0,P=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;A==="style"?a.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:V,fetchPriority:P}):A==="script"&&a.d.X(y,{crossOrigin:S,integrity:V,fetchPriority:P,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ge.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var A=g(p.as,p.crossOrigin);a.d.M(y,{crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(y)},Ge.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var A=p.as,S=g(A,p.crossOrigin);a.d.L(y,A,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ge.preloadModule=function(y,p){if(typeof y=="string")if(p){var A=g(p.as,p.crossOrigin);a.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:A,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(y)},Ge.requestFormReset=function(y){a.d.r(y)},Ge.unstable_batchedUpdates=function(y,p){return y(p)},Ge.useFormState=function(y,p,A){return h.H.useFormState(y,p,A)},Ge.useFormStatus=function(){return h.H.useHostTransitionStatus()},Ge.version="19.0.0",Ge}var xy;function J0(){if(xy)return Yh.exports;xy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Yh.exports=Z0(),Yh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy;function $0(){if(Uy)return Yl;Uy=1;var r=X0(),t=Ld(),i=J0();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var c=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),V=Symbol.for("react.consumer"),P=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),at=Symbol.for("react.memo"),st=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),rt=Symbol.for("react.memo_cache_sentinel"),nt=Symbol.iterator;function yt(e){return e===null||typeof e!="object"?null:(e=nt&&e[nt]||e["@@iterator"],typeof e=="function"?e:null)}var O=Symbol.for("react.client.reference");function R(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===O?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case y:return"Fragment";case g:return"Portal";case A:return"Profiler";case p:return"StrictMode";case G:return"Suspense";case j:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case P:return(e.displayName||"Context")+".Provider";case V:return(e._context.displayName||"Context")+".Consumer";case q:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case at:return n=e.displayName||null,n!==null?n:R(e.type)||"Memo";case st:n=e._payload,e=e._init;try{return R(e(n))}catch{}}return null}var b=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,x,z;function C(e){if(x===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);x=n&&n[1]||"",z=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+x+e+z}var Ae=!1;function de(e,n){if(!e||Ae)return"";Ae=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Q){var k=Q}Reflect.construct(e,[],J)}else{try{J.call()}catch(Q){k=Q}e.call(J.prototype)}}else{try{throw Error()}catch(Q){k=Q}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Q){if(Q&&k&&typeof Q.stack=="string")return[Q.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var w=v.split(`
`),M=E.split(`
`);for(f=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;f<M.length&&!M[f].includes("DetermineComponentFrameRoot");)f++;if(l===w.length||f===M.length)for(l=w.length-1,f=M.length-1;1<=l&&0<=f&&w[l]!==M[f];)f--;for(;1<=l&&0<=f;l--,f--)if(w[l]!==M[f]){if(l!==1||f!==1)do if(l--,f--,0>f||w[l]!==M[f]){var K=`
`+w[l].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=l&&0<=f);break}}}finally{Ae=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?C(s):""}function it(e){switch(e.tag){case 26:case 27:case 5:return C(e.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 15:return e=de(e.type,!1),e;case 11:return e=de(e.type.render,!1),e;case 1:return e=de(e.type,!0),e;default:return""}}function vt(e){try{var n="";do n+=it(e),e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function gt(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function Ft(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function N(e){if(gt(e)!==e)throw Error(a(188))}function W(e){var n=e.alternate;if(!n){if(n=gt(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return N(f),e;if(d===l)return N(f),n;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=d;else{for(var v=!1,E=f.child;E;){if(E===s){v=!0,s=f,l=d;break}if(E===l){v=!0,l=f,s=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===s){v=!0,s=d,l=f;break}if(E===l){v=!0,l=d,s=f;break}E=E.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function dt(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=dt(e),n!==null)return n;e=e.sibling}return null}var lt=Array.isArray,ot=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ct={pending:!1,data:null,method:null,action:null},Rt=[],me=-1;function Pt(e){return{current:e}}function re(e){0>me||(e.current=Rt[me],Rt[me]=null,me--)}function Kt(e,n){me++,Rt[me]=e.current,e.current=n}var Je=Pt(null),di=Pt(null),_n=Pt(null),Qi=Pt(null);function Gi(e,n){switch(Kt(_n,n),Kt(di,e),Kt(Je,null),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?ny(n):0;break;default:if(e=e===8?n.parentNode:n,n=e.tagName,e=e.namespaceURI)e=ny(e),n=iy(e,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}re(Je),Kt(Je,n)}function mi(){re(Je),re(di),re(_n)}function qa(e){e.memoizedState!==null&&Kt(Qi,e);var n=Je.current,s=iy(n,e.type);n!==s&&(Kt(di,e),Kt(Je,s))}function Vs(e){di.current===e&&(re(Je),re(di)),Qi.current===e&&(re(Qi),ql._currentValue=Ct)}var Is=Object.prototype.hasOwnProperty,kr=r.unstable_scheduleCallback,Ms=r.unstable_cancelCallback,Fc=r.unstable_shouldYield,Ha=r.unstable_requestPaint,sn=r.unstable_now,To=r.unstable_getCurrentPriorityLevel,Ee=r.unstable_ImmediatePriority,Oe=r.unstable_UserBlockingPriority,gi=r.unstable_NormalPriority,So=r.unstable_LowPriority,Fa=r.unstable_IdlePriority,Qc=r.log,jr=r.unstable_setDisableYieldValue,Ki=null,Fe=null;function Qa(e){if(Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(Ki,e,void 0,(e.current.flags&128)===128)}catch{}}function Qn(e){if(typeof Qc=="function"&&jr(e),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(Ki,e)}catch{}}var $e=Math.clz32?Math.clz32:Ro,Ga=Math.log,bo=Math.LN2;function Ro(e){return e>>>=0,e===0?32:31-(Ga(e)/bo|0)|0}var Gn=128,Yi=4194304;function Ln(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function vn(e,n){var s=e.pendingLanes;if(s===0)return 0;var l=0,f=e.suspendedLanes,d=e.pingedLanes,v=e.warmLanes;e=e.finishedLanes!==0;var E=s&134217727;return E!==0?(s=E&~f,s!==0?l=Ln(s):(d&=E,d!==0?l=Ln(d):e||(v=E&~v,v!==0&&(l=Ln(v))))):(E=s&~f,E!==0?l=Ln(E):d!==0?l=Ln(d):e||(v=s&~v,v!==0&&(l=Ln(v)))),l===0?0:n!==0&&n!==l&&(n&f)===0&&(f=l&-l,v=n&-n,f>=v||f===32&&(v&4194176)!==0)?n:l}function Xi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function xs(e,n){switch(e){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ka(){var e=Gn;return Gn<<=1,(Gn&4194176)===0&&(Gn=128),e}function Zi(){var e=Yi;return Yi<<=1,(Yi&62914560)===0&&(Yi=4194304),e}function Us(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ue(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function wo(e,n,s,l,f,d){var v=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,w=e.expirationTimes,M=e.hiddenUpdates;for(s=v&~s;0<s;){var K=31-$e(s),J=1<<K;E[K]=0,w[K]=-1;var k=M[K];if(k!==null)for(M[K]=null,K=0;K<k.length;K++){var Q=k[K];Q!==null&&(Q.lane&=-536870913)}s&=~J}l!==0&&Ji(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~n))}function Ji(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-$e(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&4194218}function $i(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-$e(s),f=1<<l;f&n|e[l]&n&&(e[l]|=n),s&=~f}}function Co(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Do(){var e=ot.p;return e!==0?e:(e=window.event,e===void 0?32:Ey(e.type))}function Wi(e,n){var s=ot.p;try{return ot.p=e,n()}finally{ot.p=s}}var Kn=Math.random().toString(36).slice(2),Ne="__reactFiber$"+Kn,Te="__reactProps$"+Kn,pi="__reactContainer$"+Kn,qr="__reactEvents$"+Kn,Ls="__reactListeners$"+Kn,Yn="__reactHandles$"+Kn,Ya="__reactResources$"+Kn,tr="__reactMarker$"+Kn;function Hr(e){delete e[Ne],delete e[Te],delete e[qr],delete e[Ls],delete e[Yn]}function zn(e){var n=e[Ne];if(n)return n;for(var s=e.parentNode;s;){if(n=s[pi]||s[Ne]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=ay(e);e!==null;){if(s=e[Ne])return s;e=ay(e)}return n}e=s,s=e.parentNode}return null}function yi(e){if(e=e[Ne]||e[pi]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function er(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function nr(e){var n=e[Ya];return n||(n=e[Ya]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function te(e){e[tr]=!0}var Xa=new Set,zs={};function cn(e,n){an(e,n),an(e+"Capture",n)}function an(e,n){for(zs[e]=n,e=0;e<n.length;e++)Xa.add(n[e])}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Za={},Ja={};function Oo(e){return Is.call(Ja,e)?!0:Is.call(Za,e)?!1:Gc.test(e)?Ja[e]=!0:(Za[e]=!0,!1)}function ir(e,n,s){if(Oo(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function rr(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function An(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function We(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function No(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Kc(e){var n=No(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Fr(e){e._valueTracker||(e._valueTracker=Kc(e))}function $a(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=No(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function Bs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _i=/[\n"\\]/g;function se(e){return e.replace(_i,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sr(e,n,s,l,f,d,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+We(n)):e.value!==""+We(n)&&(e.value=""+We(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?Ps(e,v,We(n)):s!=null?Ps(e,v,We(s)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+We(E):e.removeAttribute("name")}function Qr(e,n,s,l,f,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;s=s!=null?""+We(s):"",n=n!=null?""+We(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Ps(e,n,s){n==="number"&&Bs(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function kt(e,n,s,l){if(e=e.options,n){n={};for(var f=0;f<s.length;f++)n["$"+s[f]]=!0;for(s=0;s<e.length;s++)f=n.hasOwnProperty("$"+e[s].value),e[s].selected!==f&&(e[s].selected=f),f&&l&&(e[s].defaultSelected=!0)}else{for(s=""+We(s),n=null,f=0;f<e.length;f++){if(e[f].value===s){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function Gr(e,n,s){if(n!=null&&(n=""+We(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+We(s):""}function ar(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(lt(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=We(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l)}function En(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Yc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wa(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||Yc.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Vo(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in n)l=n[f],n.hasOwnProperty(f)&&s[f]!==l&&Wa(e,f,l)}else for(var d in n)n.hasOwnProperty(d)&&Wa(e,d,n[d])}function tl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xn(e){return Zc.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Tn=null;function ks(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vi=null,Ai=null;function Ei(e){var n=yi(e);if(n&&(e=n.stateNode)){var s=e[Te]||null;t:switch(e=n.stateNode,n.type){case"input":if(sr(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+se(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var f=l[Te]||null;if(!f)throw Error(a(90));sr(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&$a(l)}break t;case"textarea":Gr(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&kt(e,!!s.multiple,n,!1)}}}var el=!1;function Io(e,n,s){if(el)return e(n,s);el=!0;try{var l=e(n);return l}finally{if(el=!1,(vi!==null||Ai!==null)&&(Su(),vi&&(n=vi,e=Ai,Ai=vi=null,Ei(n),e)))for(n=0;n<e.length;n++)Ei(e[n])}}function Kr(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Te]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Sn=!1;if(fn)try{var Yr={};Object.defineProperty(Yr,"passive",{get:function(){Sn=!0}}),window.addEventListener("test",Yr,Yr),window.removeEventListener("test",Yr,Yr)}catch{Sn=!1}var Zn=null,lr=null,Ti=null;function nl(){if(Ti)return Ti;var e,n=lr,s=n.length,l,f="value"in Zn?Zn.value:Zn.textContent,d=f.length;for(e=0;e<s&&n[e]===f[e];e++);var v=s-e;for(l=1;l<=v&&n[s-l]===f[d-l];l++);return Ti=f.slice(e,1<l?1-l:void 0)}function Jn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function $n(){return!0}function il(){return!1}function Ve(e){function n(s,l,f,d,v){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?$n:il,this.isPropagationStopped=il,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=$n)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=$n)},persist:function(){},isPersistent:$n}),n}var Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},js=Ve(Qt),Xr=D({},Qt,{view:0,detail:0}),Mo=Ve(Xr),qs,Hs,Wn,Zr=D({},Xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wn&&(Wn&&e.type==="mousemove"?(qs=e.screenX-Wn.screenX,Hs=e.screenY-Wn.screenY):Hs=qs=0,Wn=e),qs)},movementY:function(e){return"movementY"in e?e.movementY:Hs}}),bn=Ve(Zr),xo=D({},Zr,{dataTransfer:0}),Jc=Ve(xo),Jr=D({},Xr,{relatedTarget:0}),Fs=Ve(Jr),rl=D({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Qs=Ve(rl),Uo=D({},Qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gs=Ve(Uo),$c=D({},Qt,{data:0}),sl=Ve($c),$r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function al(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=zo[e])?!!n[e]:!1}function Wr(){return al}var Bo=D({},Xr,{key:function(e){if(e.key){var n=$r[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Jn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wr,charCode:function(e){return e.type==="keypress"?Jn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ks=Ve(Bo),Po=D({},Zr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ll=Ve(Po),Si=D({},Xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wr}),ko=Ve(Si),jo=D({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),qo=Ve(jo),Ho=D({},Zr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ys=Ve(Ho),tn=D({},Qt,{newState:0,oldState:0}),Fo=Ve(tn),Qo=[9,13,27,32],ti=fn&&"CompositionEvent"in window,u=null;fn&&"documentMode"in document&&(u=document.documentMode);var m=fn&&"TextEvent"in window&&!u,_=fn&&(!ti||u&&8<u&&11>=u),T=" ",L=!1;function H(e,n){switch(e){case"keyup":return Qo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function et(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xt=!1;function Se(e,n){switch(e){case"compositionend":return et(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return e=n.data,e===T&&L?null:e;default:return null}}function Ut(e,n){if(xt)return e==="compositionend"||!ti&&H(e,n)?(e=nl(),Ti=lr=Zn=null,xt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function be(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ie[e.type]:n==="textarea"}function bi(e,n,s,l){vi?Ai?Ai.push(l):Ai=[l]:vi=l,n=Du(n,"onChange"),0<n.length&&(s=new js("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var ze=null,ei=null;function ol(e){Jp(e,0)}function Go(e){var n=er(e);if($a(n))return e}function wm(e,n){if(e==="change")return n}var Cm=!1;if(fn){var Wc;if(fn){var tf="oninput"in document;if(!tf){var Dm=document.createElement("div");Dm.setAttribute("oninput","return;"),tf=typeof Dm.oninput=="function"}Wc=tf}else Wc=!1;Cm=Wc&&(!document.documentMode||9<document.documentMode)}function Om(){ze&&(ze.detachEvent("onpropertychange",Nm),ei=ze=null)}function Nm(e){if(e.propertyName==="value"&&Go(ei)){var n=[];bi(n,ei,e,ks(e)),Io(ol,n)}}function EE(e,n,s){e==="focusin"?(Om(),ze=n,ei=s,ze.attachEvent("onpropertychange",Nm)):e==="focusout"&&Om()}function TE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Go(ei)}function SE(e,n){if(e==="click")return Go(n)}function bE(e,n){if(e==="input"||e==="change")return Go(n)}function RE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var hn=typeof Object.is=="function"?Object.is:RE;function ul(e,n){if(hn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!Is.call(n,f)||!hn(e[f],n[f]))return!1}return!0}function Vm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Im(e,n){var s=Vm(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Vm(s)}}function Mm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Mm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function xm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Bs(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Bs(e.document)}return n}function ef(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function wE(e,n){var s=xm(n);n=e.focusedElem;var l=e.selectionRange;if(s!==n&&n&&n.ownerDocument&&Mm(n.ownerDocument.documentElement,n)){if(l!==null&&ef(n)){if(e=l.start,s=l.end,s===void 0&&(s=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(s,n.value.length);else if(s=(e=n.ownerDocument||document)&&e.defaultView||window,s.getSelection){s=s.getSelection();var f=n.textContent.length,d=Math.min(l.start,f);l=l.end===void 0?d:Math.min(l.end,f),!s.extend&&d>l&&(f=l,l=d,d=f),f=Im(n,d);var v=Im(n,l);f&&v&&(s.rangeCount!==1||s.anchorNode!==f.node||s.anchorOffset!==f.offset||s.focusNode!==v.node||s.focusOffset!==v.offset)&&(e=e.createRange(),e.setStart(f.node,f.offset),s.removeAllRanges(),d>l?(s.addRange(e),s.extend(v.node,v.offset)):(e.setEnd(v.node,v.offset),s.addRange(e)))}}for(e=[],s=n;s=s.parentNode;)s.nodeType===1&&e.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)s=e[n],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var CE=fn&&"documentMode"in document&&11>=document.documentMode,Xs=null,nf=null,cl=null,rf=!1;function Um(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;rf||Xs==null||Xs!==Bs(l)||(l=Xs,"selectionStart"in l&&ef(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),cl&&ul(cl,l)||(cl=l,l=Du(nf,"onSelect"),0<l.length&&(n=new js("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=Xs)))}function ts(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Zs={animationend:ts("Animation","AnimationEnd"),animationiteration:ts("Animation","AnimationIteration"),animationstart:ts("Animation","AnimationStart"),transitionrun:ts("Transition","TransitionRun"),transitionstart:ts("Transition","TransitionStart"),transitioncancel:ts("Transition","TransitionCancel"),transitionend:ts("Transition","TransitionEnd")},sf={},Lm={};fn&&(Lm=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function es(e){if(sf[e])return sf[e];if(!Zs[e])return e;var n=Zs[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Lm)return sf[e]=n[s];return e}var zm=es("animationend"),Bm=es("animationiteration"),Pm=es("animationstart"),DE=es("transitionrun"),OE=es("transitionstart"),NE=es("transitioncancel"),km=es("transitionend"),jm=new Map,qm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Bn(e,n){jm.set(e,n),cn(n,[e])}var Rn=[],Js=0,af=0;function Ko(){for(var e=Js,n=af=Js=0;n<e;){var s=Rn[n];Rn[n++]=null;var l=Rn[n];Rn[n++]=null;var f=Rn[n];Rn[n++]=null;var d=Rn[n];if(Rn[n++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&Hm(s,f,d)}}function Yo(e,n,s,l){Rn[Js++]=e,Rn[Js++]=n,Rn[Js++]=s,Rn[Js++]=l,af|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function lf(e,n,s,l){return Yo(e,n,s,l),Xo(e)}function or(e,n){return Yo(e,null,null,n),Xo(e)}function Hm(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var f=!1,d=e.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;f&&n!==null&&e.tag===3&&(d=e.stateNode,f=31-$e(s),d=d.hiddenUpdates,e=d[f],e===null?d[f]=[n]:e.push(n),n.lane=s|536870912)}function Xo(e){if(50<Ul)throw Ul=0,dh=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var $s={},Fm=new WeakMap;function wn(e,n){if(typeof e=="object"&&e!==null){var s=Fm.get(e);return s!==void 0?s:(n={value:e,source:n,stack:vt(n)},Fm.set(e,n),n)}return{value:e,source:n,stack:vt(n)}}var Ws=[],ta=0,Zo=null,Jo=0,Cn=[],Dn=0,ns=null,Ri=1,wi="";function is(e,n){Ws[ta++]=Jo,Ws[ta++]=Zo,Zo=e,Jo=n}function Qm(e,n,s){Cn[Dn++]=Ri,Cn[Dn++]=wi,Cn[Dn++]=ns,ns=e;var l=Ri;e=wi;var f=32-$e(l)-1;l&=~(1<<f),s+=1;var d=32-$e(n)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Ri=1<<32-$e(n)+f|s<<f|l,wi=d+e}else Ri=1<<d|s<<f|l,wi=e}function of(e){e.return!==null&&(is(e,1),Qm(e,1,0))}function uf(e){for(;e===Zo;)Zo=Ws[--ta],Ws[ta]=null,Jo=Ws[--ta],Ws[ta]=null;for(;e===ns;)ns=Cn[--Dn],Cn[Dn]=null,wi=Cn[--Dn],Cn[Dn]=null,Ri=Cn[--Dn],Cn[Dn]=null}var en=null,Be=null,jt=!1,Pn=null,ni=!1,cf=Error(a(519));function rs(e){var n=Error(a(418,""));throw dl(wn(n,e)),cf}function Gm(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[Ne]=e,n[Te]=l,s){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(s=0;s<zl.length;s++)It(zl[s],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),Qr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Fr(n);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),ar(n,l.value,l.defaultValue,l.children),Fr(n)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||ey(n.textContent,s)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=Ou),n=!0):n=!1,n||rs(e)}function Km(e){for(en=e.return;en;)switch(en.tag){case 3:case 27:ni=!0;return;case 5:case 13:ni=!1;return;default:en=en.return}}function fl(e){if(e!==en)return!1;if(!jt)return Km(e),jt=!0,!1;var n=!1,s;if((s=e.tag!==3&&e.tag!==27)&&((s=e.tag===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Nh(e.type,e.memoizedProps)),s=!s),s&&(n=!0),n&&Be&&rs(e),Km(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(n===0){Be=jn(e.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;e=e.nextSibling}Be=null}}else Be=en?jn(e.stateNode.nextSibling):null;return!0}function hl(){Be=en=null,jt=!1}function dl(e){Pn===null?Pn=[e]:Pn.push(e)}var ml=Error(a(460)),Ym=Error(a(474)),ff={then:function(){}};function Xm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function $o(){}function Zm(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then($o,$o),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===ml?Error(a(483)):e;default:if(typeof n.status=="string")n.then($o,$o);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=l}},function(l){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===ml?Error(a(483)):e}throw gl=n,ml}}var gl=null;function Jm(){if(gl===null)throw Error(a(459));var e=gl;return gl=null,e}var ea=null,pl=0;function Wo(e){var n=pl;return pl+=1,ea===null&&(ea=[]),Zm(ea,e,n)}function yl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function tu(e,n){throw n.$$typeof===c?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function $m(e){var n=e._init;return n(e._payload)}function Wm(e){function n(U,I){if(e){var B=U.deletions;B===null?(U.deletions=[I],U.flags|=16):B.push(I)}}function s(U,I){if(!e)return null;for(;I!==null;)n(U,I),I=I.sibling;return null}function l(U){for(var I=new Map;U!==null;)U.key!==null?I.set(U.key,U):I.set(U.index,U),U=U.sibling;return I}function f(U,I){return U=Ar(U,I),U.index=0,U.sibling=null,U}function d(U,I,B){return U.index=B,e?(B=U.alternate,B!==null?(B=B.index,B<I?(U.flags|=33554434,I):B):(U.flags|=33554434,I)):(U.flags|=1048576,I)}function v(U){return e&&U.alternate===null&&(U.flags|=33554434),U}function E(U,I,B,Y){return I===null||I.tag!==6?(I=sh(B,U.mode,Y),I.return=U,I):(I=f(I,B),I.return=U,I)}function w(U,I,B,Y){var ft=B.type;return ft===y?K(U,I,B.props.children,Y,B.key):I!==null&&(I.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===st&&$m(ft)===I.type)?(I=f(I,B.props),yl(I,B),I.return=U,I):(I=_u(B.type,B.key,B.props,null,U.mode,Y),yl(I,B),I.return=U,I)}function M(U,I,B,Y){return I===null||I.tag!==4||I.stateNode.containerInfo!==B.containerInfo||I.stateNode.implementation!==B.implementation?(I=ah(B,U.mode,Y),I.return=U,I):(I=f(I,B.children||[]),I.return=U,I)}function K(U,I,B,Y,ft){return I===null||I.tag!==7?(I=ms(B,U.mode,Y,ft),I.return=U,I):(I=f(I,B),I.return=U,I)}function J(U,I,B){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=sh(""+I,U.mode,B),I.return=U,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case h:return B=_u(I.type,I.key,I.props,null,U.mode,B),yl(B,I),B.return=U,B;case g:return I=ah(I,U.mode,B),I.return=U,I;case st:var Y=I._init;return I=Y(I._payload),J(U,I,B)}if(lt(I)||yt(I))return I=ms(I,U.mode,B,null),I.return=U,I;if(typeof I.then=="function")return J(U,Wo(I),B);if(I.$$typeof===P)return J(U,gu(U,I),B);tu(U,I)}return null}function k(U,I,B,Y){var ft=I!==null?I.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ft!==null?null:E(U,I,""+B,Y);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case h:return B.key===ft?w(U,I,B,Y):null;case g:return B.key===ft?M(U,I,B,Y):null;case st:return ft=B._init,B=ft(B._payload),k(U,I,B,Y)}if(lt(B)||yt(B))return ft!==null?null:K(U,I,B,Y,null);if(typeof B.then=="function")return k(U,I,Wo(B),Y);if(B.$$typeof===P)return k(U,I,gu(U,B),Y);tu(U,B)}return null}function Q(U,I,B,Y,ft){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return U=U.get(B)||null,E(I,U,""+Y,ft);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case h:return U=U.get(Y.key===null?B:Y.key)||null,w(I,U,Y,ft);case g:return U=U.get(Y.key===null?B:Y.key)||null,M(I,U,Y,ft);case st:var Ot=Y._init;return Y=Ot(Y._payload),Q(U,I,B,Y,ft)}if(lt(Y)||yt(Y))return U=U.get(B)||null,K(I,U,Y,ft,null);if(typeof Y.then=="function")return Q(U,I,B,Wo(Y),ft);if(Y.$$typeof===P)return Q(U,I,B,gu(I,Y),ft);tu(I,Y)}return null}function ht(U,I,B,Y){for(var ft=null,Ot=null,mt=I,_t=I=0,Ue=null;mt!==null&&_t<B.length;_t++){mt.index>_t?(Ue=mt,mt=null):Ue=mt.sibling;var qt=k(U,mt,B[_t],Y);if(qt===null){mt===null&&(mt=Ue);break}e&&mt&&qt.alternate===null&&n(U,mt),I=d(qt,I,_t),Ot===null?ft=qt:Ot.sibling=qt,Ot=qt,mt=Ue}if(_t===B.length)return s(U,mt),jt&&is(U,_t),ft;if(mt===null){for(;_t<B.length;_t++)mt=J(U,B[_t],Y),mt!==null&&(I=d(mt,I,_t),Ot===null?ft=mt:Ot.sibling=mt,Ot=mt);return jt&&is(U,_t),ft}for(mt=l(mt);_t<B.length;_t++)Ue=Q(mt,U,_t,B[_t],Y),Ue!==null&&(e&&Ue.alternate!==null&&mt.delete(Ue.key===null?_t:Ue.key),I=d(Ue,I,_t),Ot===null?ft=Ue:Ot.sibling=Ue,Ot=Ue);return e&&mt.forEach(function(Cr){return n(U,Cr)}),jt&&is(U,_t),ft}function Tt(U,I,B,Y){if(B==null)throw Error(a(151));for(var ft=null,Ot=null,mt=I,_t=I=0,Ue=null,qt=B.next();mt!==null&&!qt.done;_t++,qt=B.next()){mt.index>_t?(Ue=mt,mt=null):Ue=mt.sibling;var Cr=k(U,mt,qt.value,Y);if(Cr===null){mt===null&&(mt=Ue);break}e&&mt&&Cr.alternate===null&&n(U,mt),I=d(Cr,I,_t),Ot===null?ft=Cr:Ot.sibling=Cr,Ot=Cr,mt=Ue}if(qt.done)return s(U,mt),jt&&is(U,_t),ft;if(mt===null){for(;!qt.done;_t++,qt=B.next())qt=J(U,qt.value,Y),qt!==null&&(I=d(qt,I,_t),Ot===null?ft=qt:Ot.sibling=qt,Ot=qt);return jt&&is(U,_t),ft}for(mt=l(mt);!qt.done;_t++,qt=B.next())qt=Q(mt,U,_t,qt.value,Y),qt!==null&&(e&&qt.alternate!==null&&mt.delete(qt.key===null?_t:qt.key),I=d(qt,I,_t),Ot===null?ft=qt:Ot.sibling=qt,Ot=qt);return e&&mt.forEach(function(F0){return n(U,F0)}),jt&&is(U,_t),ft}function oe(U,I,B,Y){if(typeof B=="object"&&B!==null&&B.type===y&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case h:t:{for(var ft=B.key;I!==null;){if(I.key===ft){if(ft=B.type,ft===y){if(I.tag===7){s(U,I.sibling),Y=f(I,B.props.children),Y.return=U,U=Y;break t}}else if(I.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===st&&$m(ft)===I.type){s(U,I.sibling),Y=f(I,B.props),yl(Y,B),Y.return=U,U=Y;break t}s(U,I);break}else n(U,I);I=I.sibling}B.type===y?(Y=ms(B.props.children,U.mode,Y,B.key),Y.return=U,U=Y):(Y=_u(B.type,B.key,B.props,null,U.mode,Y),yl(Y,B),Y.return=U,U=Y)}return v(U);case g:t:{for(ft=B.key;I!==null;){if(I.key===ft)if(I.tag===4&&I.stateNode.containerInfo===B.containerInfo&&I.stateNode.implementation===B.implementation){s(U,I.sibling),Y=f(I,B.children||[]),Y.return=U,U=Y;break t}else{s(U,I);break}else n(U,I);I=I.sibling}Y=ah(B,U.mode,Y),Y.return=U,U=Y}return v(U);case st:return ft=B._init,B=ft(B._payload),oe(U,I,B,Y)}if(lt(B))return ht(U,I,B,Y);if(yt(B)){if(ft=yt(B),typeof ft!="function")throw Error(a(150));return B=ft.call(B),Tt(U,I,B,Y)}if(typeof B.then=="function")return oe(U,I,Wo(B),Y);if(B.$$typeof===P)return oe(U,I,gu(U,B),Y);tu(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,I!==null&&I.tag===6?(s(U,I.sibling),Y=f(I,B),Y.return=U,U=Y):(s(U,I),Y=sh(B,U.mode,Y),Y.return=U,U=Y),v(U)):s(U,I)}return function(U,I,B,Y){try{pl=0;var ft=oe(U,I,B,Y);return ea=null,ft}catch(mt){if(mt===ml)throw mt;var Ot=In(29,mt,null,U.mode);return Ot.lanes=Y,Ot.return=U,Ot}finally{}}}var ss=Wm(!0),tg=Wm(!1),na=Pt(null),eu=Pt(0);function eg(e,n){e=zi,Kt(eu,e),Kt(na,n),zi=e|n.baseLanes}function hf(){Kt(eu,zi),Kt(na,na.current)}function df(){zi=eu.current,re(na),re(eu)}var On=Pt(null),ii=null;function ur(e){var n=e.alternate;Kt(Re,Re.current&1),Kt(On,e),ii===null&&(n===null||na.current!==null||n.memoizedState!==null)&&(ii=e)}function ng(e){if(e.tag===22){if(Kt(Re,Re.current),Kt(On,e),ii===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(ii=e)}}else cr()}function cr(){Kt(Re,Re.current),Kt(On,On.current)}function Ci(e){re(On),ii===e&&(ii=null),re(Re)}var Re=Pt(0);function nu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var VE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},IE=r.unstable_scheduleCallback,ME=r.unstable_NormalPriority,we={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mf(){return{controller:new VE,data:new Map,refCount:0}}function _l(e){e.refCount--,e.refCount===0&&IE(ME,function(){e.controller.abort()})}var vl=null,gf=0,ia=0,ra=null;function xE(e,n){if(vl===null){var s=vl=[];gf=0,ia=Eh(),ra={status:"pending",value:void 0,then:function(l){s.push(l)}}}return gf++,n.then(ig,ig),n}function ig(){if(--gf===0&&vl!==null){ra!==null&&(ra.status="fulfilled");var e=vl;vl=null,ia=0,ra=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function UE(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var f=0;f<s.length;f++)(0,s[f])(n)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var rg=b.S;b.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&xE(e,n),rg!==null&&rg(e,n)};var as=Pt(null);function pf(){var e=as.current;return e!==null?e:Jt.pooledCache}function iu(e,n){n===null?Kt(as,as.current):Kt(as,n.pool)}function sg(){var e=pf();return e===null?null:{parent:we._currentValue,pool:e}}var fr=0,Dt=null,Yt=null,ge=null,ru=!1,sa=!1,ls=!1,su=0,Al=0,aa=null,LE=0;function ce(){throw Error(a(321))}function yf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!hn(e[s],n[s]))return!1;return!0}function _f(e,n,s,l,f,d){return fr=d,Dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,b.H=e===null||e.memoizedState===null?os:hr,ls=!1,d=s(l,f),ls=!1,sa&&(d=lg(n,s,l,f)),ag(e),d}function ag(e){b.H=ri;var n=Yt!==null&&Yt.next!==null;if(fr=0,ge=Yt=Dt=null,ru=!1,Al=0,aa=null,n)throw Error(a(300));e===null||Me||(e=e.dependencies,e!==null&&mu(e)&&(Me=!0))}function lg(e,n,s,l){Dt=e;var f=0;do{if(sa&&(aa=null),Al=0,sa=!1,25<=f)throw Error(a(301));if(f+=1,ge=Yt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}b.H=us,d=n(s,l)}while(sa);return d}function zE(){var e=b.H,n=e.useState()[0];return n=typeof n.then=="function"?El(n):n,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(Dt.flags|=1024),n}function vf(){var e=su!==0;return su=0,e}function Af(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Ef(e){if(ru){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ru=!1}fr=0,ge=Yt=Dt=null,sa=!1,Al=su=0,aa=null}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?Dt.memoizedState=ge=e:ge=ge.next=e,ge}function pe(){if(Yt===null){var e=Dt.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var n=ge===null?Dt.memoizedState:ge.next;if(n!==null)ge=n,Yt=e;else{if(e===null)throw Dt.alternate===null?Error(a(467)):Error(a(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},ge===null?Dt.memoizedState=ge=e:ge=ge.next=e}return ge}var au;au=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function El(e){var n=Al;return Al+=1,aa===null&&(aa=[]),e=Zm(aa,e,n),n=Dt,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,b.H=n===null||n.memoizedState===null?os:hr),e}function lu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return El(e);if(e.$$typeof===P)return Qe(e)}throw Error(a(438,String(e)))}function Tf(e){var n=null,s=Dt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Dt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=au(),Dt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=rt;return n.index++,s}function Di(e,n){return typeof n=="function"?n(e):n}function ou(e){var n=pe();return Sf(n,Yt,e)}function Sf(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}n.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{n=f.next;var E=v=null,w=null,M=n,K=!1;do{var J=M.lane&-536870913;if(J!==M.lane?(Lt&J)===J:(fr&J)===J){var k=M.revertLane;if(k===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),J===ia&&(K=!0);else if((fr&k)===k){M=M.next,k===ia&&(K=!0);continue}else J={lane:0,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},w===null?(E=w=J,v=d):w=w.next=J,Dt.lanes|=k,Er|=k;J=M.action,ls&&s(d,J),d=M.hasEagerState?M.eagerState:s(d,J)}else k={lane:J,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},w===null?(E=w=k,v=d):w=w.next=k,Dt.lanes|=J,Er|=J;M=M.next}while(M!==null&&M!==n);if(w===null?v=d:w.next=E,!hn(d,e.memoizedState)&&(Me=!0,K&&(s=ra,s!==null)))throw s;e.memoizedState=d,e.baseState=v,e.baseQueue=w,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function bf(e){var n=pe(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,f=s.pending,d=n.memoizedState;if(f!==null){s.pending=null;var v=f=f.next;do d=e(d,v.action),v=v.next;while(v!==f);hn(d,n.memoizedState)||(Me=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,l]}function og(e,n,s){var l=Dt,f=pe(),d=jt;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=n();var v=!hn((Yt||f).memoizedState,s);if(v&&(f.memoizedState=s,Me=!0),f=f.queue,Cf(fg.bind(null,l,f,e),[e]),f.getSnapshot!==n||v||ge!==null&&ge.memoizedState.tag&1){if(l.flags|=2048,la(9,cg.bind(null,l,f,s,n),{destroy:void 0},null),Jt===null)throw Error(a(349));d||(fr&60)!==0||ug(l,n,s)}return s}function ug(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Dt.updateQueue,n===null?(n=au(),Dt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function cg(e,n,s,l){n.value=s,n.getSnapshot=l,hg(n)&&dg(e)}function fg(e,n,s){return s(function(){hg(n)&&dg(e)})}function hg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!hn(e,s)}catch{return!0}}function dg(e){var n=or(e,2);n!==null&&nn(n,e,2)}function Rf(e){var n=ln();if(typeof e=="function"){var s=e;if(e=s(),ls){Qn(!0);try{s()}finally{Qn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:e},n}function mg(e,n,s,l){return e.baseState=s,Sf(e,Yt,typeof l=="function"?l:Di)}function BE(e,n,s,l,f){if(fu(e))throw Error(a(485));if(e=n.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};b.T!==null?s(!0):d.isTransition=!1,l(d),s=n.pending,s===null?(d.next=n.pending=d,gg(n,d)):(d.next=s.next,n.pending=s.next=d)}}function gg(e,n){var s=n.action,l=n.payload,f=e.state;if(n.isTransition){var d=b.T,v={};b.T=v;try{var E=s(f,l),w=b.S;w!==null&&w(v,E),pg(e,n,E)}catch(M){wf(e,n,M)}finally{b.T=d}}else try{d=s(f,l),pg(e,n,d)}catch(M){wf(e,n,M)}}function pg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){yg(e,n,l)},function(l){return wf(e,n,l)}):yg(e,n,s)}function yg(e,n,s){n.status="fulfilled",n.value=s,_g(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,gg(e,s)))}function wf(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,_g(n),n=n.next;while(n!==l)}e.action=null}function _g(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function vg(e,n){return n}function Ag(e,n){if(jt){var s=Jt.formState;if(s!==null){t:{var l=Dt;if(jt){if(Be){e:{for(var f=Be,d=ni;f.nodeType!==8;){if(!d){f=null;break e}if(f=jn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Be=jn(f.nextSibling),l=f.data==="F!";break t}}rs(l)}l=!1}l&&(n=s[0])}}return s=ln(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vg,lastRenderedState:n},s.queue=l,s=Bg.bind(null,Dt,l),l.dispatch=s,l=Rf(!1),d=If.bind(null,Dt,!1,l.queue),l=ln(),f={state:n,dispatch:null,action:e,pending:null},l.queue=f,s=BE.bind(null,Dt,f,d,s),f.dispatch=s,l.memoizedState=e,[n,s,!1]}function Eg(e){var n=pe();return Tg(n,Yt,e)}function Tg(e,n,s){n=Sf(e,n,vg)[0],e=ou(Di)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?El(n):n;var l=pe(),f=l.queue,d=f.dispatch;return s!==l.memoizedState&&(Dt.flags|=2048,la(9,PE.bind(null,f,s),{destroy:void 0},null)),[n,d,e]}function PE(e,n){e.action=n}function Sg(e){var n=pe(),s=Yt;if(s!==null)return Tg(n,s,e);pe(),n=n.memoizedState,s=pe();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function la(e,n,s,l){return e={tag:e,create:n,inst:s,deps:l,next:null},n=Dt.updateQueue,n===null&&(n=au(),Dt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function bg(){return pe().memoizedState}function uu(e,n,s,l){var f=ln();Dt.flags|=e,f.memoizedState=la(1|n,s,{destroy:void 0},l===void 0?null:l)}function cu(e,n,s,l){var f=pe();l=l===void 0?null:l;var d=f.memoizedState.inst;Yt!==null&&l!==null&&yf(l,Yt.memoizedState.deps)?f.memoizedState=la(n,s,d,l):(Dt.flags|=e,f.memoizedState=la(1|n,s,d,l))}function Rg(e,n){uu(8390656,8,e,n)}function Cf(e,n){cu(2048,8,e,n)}function wg(e,n){return cu(4,2,e,n)}function Cg(e,n){return cu(4,4,e,n)}function Dg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Og(e,n,s){s=s!=null?s.concat([e]):null,cu(4,4,Dg.bind(null,n,e),s)}function Df(){}function Ng(e,n){var s=pe();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&yf(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Vg(e,n){var s=pe();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&yf(n,l[1]))return l[0];if(l=e(),ls){Qn(!0);try{e()}finally{Qn(!1)}}return s.memoizedState=[l,n],l}function Of(e,n,s){return s===void 0||(fr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=s,e=Mp(),Dt.lanes|=e,Er|=e,s)}function Ig(e,n,s,l){return hn(s,n)?s:na.current!==null?(e=Of(e,s,l),hn(e,n)||(Me=!0),e):(fr&42)===0?(Me=!0,e.memoizedState=s):(e=Mp(),Dt.lanes|=e,Er|=e,n)}function Mg(e,n,s,l,f){var d=ot.p;ot.p=d!==0&&8>d?d:8;var v=b.T,E={};b.T=E,If(e,!1,n,s);try{var w=f(),M=b.S;if(M!==null&&M(E,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var K=UE(w,l);Tl(e,n,K,pn(e))}else Tl(e,n,l,pn(e))}catch(J){Tl(e,n,{then:function(){},status:"rejected",reason:J},pn())}finally{ot.p=d,b.T=v}}function kE(){}function Nf(e,n,s,l){if(e.tag!==5)throw Error(a(476));var f=xg(e).queue;Mg(e,f,n,Ct,s===null?kE:function(){return Ug(e),s(l)})}function xg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Ct,baseState:Ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:Ct},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ug(e){var n=xg(e).next.queue;Tl(e,n,{},pn())}function Vf(){return Qe(ql)}function Lg(){return pe().memoizedState}function zg(){return pe().memoizedState}function jE(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=pn();e=gr(s);var l=pr(n,e,s);l!==null&&(nn(l,n,s),Rl(l,n,s)),n={cache:mf()},e.payload=n;return}n=n.return}}function qE(e,n,s){var l=pn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},fu(e)?Pg(n,s):(s=lf(e,n,s,l),s!==null&&(nn(s,e,l),kg(s,n,l)))}function Bg(e,n,s){var l=pn();Tl(e,n,s,l)}function Tl(e,n,s,l){var f={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(fu(e))Pg(n,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var v=n.lastRenderedState,E=d(v,s);if(f.hasEagerState=!0,f.eagerState=E,hn(E,v))return Yo(e,n,f,0),Jt===null&&Ko(),!1}catch{}finally{}if(s=lf(e,n,f,l),s!==null)return nn(s,e,l),kg(s,n,l),!0}return!1}function If(e,n,s,l){if(l={lane:2,revertLane:Eh(),action:l,hasEagerState:!1,eagerState:null,next:null},fu(e)){if(n)throw Error(a(479))}else n=lf(e,s,l,2),n!==null&&nn(n,e,2)}function fu(e){var n=e.alternate;return e===Dt||n!==null&&n===Dt}function Pg(e,n){sa=ru=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function kg(e,n,s){if((s&4194176)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,$i(e,s)}}var ri={readContext:Qe,use:lu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce};ri.useCacheRefresh=ce,ri.useMemoCache=ce,ri.useHostTransitionStatus=ce,ri.useFormState=ce,ri.useActionState=ce,ri.useOptimistic=ce;var os={readContext:Qe,use:lu,useCallback:function(e,n){return ln().memoizedState=[e,n===void 0?null:n],e},useContext:Qe,useEffect:Rg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,uu(4194308,4,Dg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return uu(4194308,4,e,n)},useInsertionEffect:function(e,n){uu(4,2,e,n)},useMemo:function(e,n){var s=ln();n=n===void 0?null:n;var l=e();if(ls){Qn(!0);try{e()}finally{Qn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=ln();if(s!==void 0){var f=s(n);if(ls){Qn(!0);try{s(n)}finally{Qn(!1)}}}else f=n;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=qE.bind(null,Dt,e),[l.memoizedState,e]},useRef:function(e){var n=ln();return e={current:e},n.memoizedState=e},useState:function(e){e=Rf(e);var n=e.queue,s=Bg.bind(null,Dt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Df,useDeferredValue:function(e,n){var s=ln();return Of(s,e,n)},useTransition:function(){var e=Rf(!1);return e=Mg.bind(null,Dt,e.queue,!0,!1),ln().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=Dt,f=ln();if(jt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Jt===null)throw Error(a(349));(Lt&60)!==0||ug(l,n,s)}f.memoizedState=s;var d={value:s,getSnapshot:n};return f.queue=d,Rg(fg.bind(null,l,d,e),[e]),l.flags|=2048,la(9,cg.bind(null,l,d,s,n),{destroy:void 0},null),s},useId:function(){var e=ln(),n=Jt.identifierPrefix;if(jt){var s=wi,l=Ri;s=(l&~(1<<32-$e(l)-1)).toString(32)+s,n=":"+n+"R"+s,s=su++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=LE++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},useCacheRefresh:function(){return ln().memoizedState=jE.bind(null,Dt)}};os.useMemoCache=Tf,os.useHostTransitionStatus=Vf,os.useFormState=Ag,os.useActionState=Ag,os.useOptimistic=function(e){var n=ln();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=If.bind(null,Dt,!0,s),s.dispatch=n,[e,n]};var hr={readContext:Qe,use:lu,useCallback:Ng,useContext:Qe,useEffect:Cf,useImperativeHandle:Og,useInsertionEffect:wg,useLayoutEffect:Cg,useMemo:Vg,useReducer:ou,useRef:bg,useState:function(){return ou(Di)},useDebugValue:Df,useDeferredValue:function(e,n){var s=pe();return Ig(s,Yt.memoizedState,e,n)},useTransition:function(){var e=ou(Di)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:El(e),n]},useSyncExternalStore:og,useId:Lg};hr.useCacheRefresh=zg,hr.useMemoCache=Tf,hr.useHostTransitionStatus=Vf,hr.useFormState=Eg,hr.useActionState=Eg,hr.useOptimistic=function(e,n){var s=pe();return mg(s,Yt,e,n)};var us={readContext:Qe,use:lu,useCallback:Ng,useContext:Qe,useEffect:Cf,useImperativeHandle:Og,useInsertionEffect:wg,useLayoutEffect:Cg,useMemo:Vg,useReducer:bf,useRef:bg,useState:function(){return bf(Di)},useDebugValue:Df,useDeferredValue:function(e,n){var s=pe();return Yt===null?Of(s,e,n):Ig(s,Yt.memoizedState,e,n)},useTransition:function(){var e=bf(Di)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:El(e),n]},useSyncExternalStore:og,useId:Lg};us.useCacheRefresh=zg,us.useMemoCache=Tf,us.useHostTransitionStatus=Vf,us.useFormState=Sg,us.useActionState=Sg,us.useOptimistic=function(e,n){var s=pe();return Yt!==null?mg(s,Yt,e,n):(s.baseState=e,[e,s.queue.dispatch])};function Mf(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:D({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var xf={isMounted:function(e){return(e=e._reactInternals)?gt(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var l=pn(),f=gr(l);f.payload=n,s!=null&&(f.callback=s),n=pr(e,f,l),n!==null&&(nn(n,e,l),Rl(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=pn(),f=gr(l);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=pr(e,f,l),n!==null&&(nn(n,e,l),Rl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=pn(),l=gr(s);l.tag=2,n!=null&&(l.callback=n),n=pr(e,l,s),n!==null&&(nn(n,e,s),Rl(n,e,s))}};function jg(e,n,s,l,f,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):n.prototype&&n.prototype.isPureReactComponent?!ul(s,l)||!ul(f,d):!0}function qg(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&xf.enqueueReplaceState(n,n.state,null)}function cs(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=D({},s));for(var f in e)s[f]===void 0&&(s[f]=e[f])}return s}var hu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Hg(e){hu(e)}function Fg(e){console.error(e)}function Qg(e){hu(e)}function du(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Gg(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Uf(e,n,s){return s=gr(s),s.tag=3,s.payload={element:null},s.callback=function(){du(e,n)},s}function Kg(e){return e=gr(e),e.tag=3,e}function Yg(e,n,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){Gg(n,s,l)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Gg(n,s,l),typeof f!="function"&&(Tr===null?Tr=new Set([this]):Tr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function HE(e,n,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&bl(n,s,f,!0),s=On.current,s!==null){switch(s.tag){case 13:return ii===null?ph():s.alternate===null&&le===0&&(le=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===ff?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),_h(e,l,f)),!1;case 22:return s.flags|=65536,l===ff?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),_h(e,l,f)),!1}throw Error(a(435,s.tag))}return _h(e,l,f),ph(),!1}if(jt)return n=On.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,l!==cf&&(e=Error(a(422),{cause:l}),dl(wn(e,s)))):(l!==cf&&(n=Error(a(423),{cause:l}),dl(wn(n,s))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=wn(l,s),f=Uf(e.stateNode,l,f),Zf(e,f),le!==4&&(le=2)),!1;var d=Error(a(520),{cause:l});if(d=wn(d,s),Ml===null?Ml=[d]:Ml.push(d),le!==4&&(le=2),n===null)return!0;l=wn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=f&-f,s.lanes|=e,e=Uf(s.stateNode,l,e),Zf(s,e),!1;case 1:if(n=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Tr===null||!Tr.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Kg(f),Yg(f,e,s,l),Zf(s,f),!1}s=s.return}while(s!==null);return!1}var Xg=Error(a(461)),Me=!1;function Pe(e,n,s,l){n.child=e===null?tg(n,null,s,l):ss(n,e.child,s,l)}function Zg(e,n,s,l,f){s=s.render;var d=n.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return hs(n),l=_f(e,n,s,v,d,f),E=vf(),e!==null&&!Me?(Af(e,n,f),Oi(e,n,f)):(jt&&E&&of(n),n.flags|=1,Pe(e,n,l,f),n.child)}function Jg(e,n,s,l,f){if(e===null){var d=s.type;return typeof d=="function"&&!rh(d)&&d.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=d,$g(e,n,d,l,f)):(e=_u(s.type,null,l,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!Ff(e,f)){var v=d.memoizedProps;if(s=s.compare,s=s!==null?s:ul,s(v,l)&&e.ref===n.ref)return Oi(e,n,f)}return n.flags|=1,e=Ar(d,l),e.ref=n.ref,e.return=n,n.child=e}function $g(e,n,s,l,f){if(e!==null){var d=e.memoizedProps;if(ul(d,l)&&e.ref===n.ref)if(Me=!1,n.pendingProps=l=d,Ff(e,f))(e.flags&131072)!==0&&(Me=!0);else return n.lanes=e.lanes,Oi(e,n,f)}return Lf(e,n,s,l,f)}function Wg(e,n,s){var l=n.pendingProps,f=l.children,d=(n.stateNode._pendingVisibility&2)!==0,v=e!==null?e.memoizedState:null;if(Sl(e,n),l.mode==="hidden"||d){if((n.flags&128)!==0){if(l=v!==null?v.baseLanes|s:s,e!==null){for(f=n.child=e.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;n.childLanes=d&~l}else n.childLanes=0,n.child=null;return tp(e,n,l,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&iu(n,v!==null?v.cachePool:null),v!==null?eg(n,v):hf(),ng(n);else return n.lanes=n.childLanes=536870912,tp(e,n,v!==null?v.baseLanes|s:s,s)}else v!==null?(iu(n,v.cachePool),eg(n,v),cr(),n.memoizedState=null):(e!==null&&iu(n,null),hf(),cr());return Pe(e,n,f,s),n.child}function tp(e,n,s,l){var f=pf();return f=f===null?null:{parent:we._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&iu(n,null),hf(),ng(n),e!==null&&bl(e,n,l,!0),null}function Sl(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=2097664);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=2097664)}}function Lf(e,n,s,l,f){return hs(n),s=_f(e,n,s,l,void 0,f),l=vf(),e!==null&&!Me?(Af(e,n,f),Oi(e,n,f)):(jt&&l&&of(n),n.flags|=1,Pe(e,n,s,f),n.child)}function ep(e,n,s,l,f,d){return hs(n),n.updateQueue=null,s=lg(n,l,s,f),ag(e),l=vf(),e!==null&&!Me?(Af(e,n,d),Oi(e,n,d)):(jt&&l&&of(n),n.flags|=1,Pe(e,n,s,d),n.child)}function np(e,n,s,l,f){if(hs(n),n.stateNode===null){var d=$s,v=s.contextType;typeof v=="object"&&v!==null&&(d=Qe(v)),d=new s(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=xf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},Yf(n),v=s.contextType,d.context=typeof v=="object"&&v!==null?Qe(v):$s,d.state=n.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(Mf(n,s,v,l),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&xf.enqueueReplaceState(d,d.state,null),Cl(n,l,d,f),wl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){d=n.stateNode;var E=n.memoizedProps,w=cs(s,E);d.props=w;var M=d.context,K=s.contextType;v=$s,typeof K=="object"&&K!==null&&(v=Qe(K));var J=s.getDerivedStateFromProps;K=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||M!==v)&&qg(n,d,l,v),mr=!1;var k=n.memoizedState;d.state=k,Cl(n,l,d,f),wl(),M=n.memoizedState,E||k!==M||mr?(typeof J=="function"&&(Mf(n,s,J,l),M=n.memoizedState),(w=mr||jg(n,s,w,l,k,M,v))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=M),d.props=l,d.state=M,d.context=v,l=w):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,Xf(e,n),v=n.memoizedProps,K=cs(s,v),d.props=K,J=n.pendingProps,k=d.context,M=s.contextType,w=$s,typeof M=="object"&&M!==null&&(w=Qe(M)),E=s.getDerivedStateFromProps,(M=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||k!==w)&&qg(n,d,l,w),mr=!1,k=n.memoizedState,d.state=k,Cl(n,l,d,f),wl();var Q=n.memoizedState;v!==J||k!==Q||mr||e!==null&&e.dependencies!==null&&mu(e.dependencies)?(typeof E=="function"&&(Mf(n,s,E,l),Q=n.memoizedState),(K=mr||jg(n,s,K,l,k,Q,w)||e!==null&&e.dependencies!==null&&mu(e.dependencies))?(M||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,w)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Q),d.props=l,d.state=Q,d.context=w,l=K):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),l=!1)}return d=l,Sl(e,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&l?(n.child=ss(n,e.child,null,f),n.child=ss(n,null,s,f)):Pe(e,n,s,f),n.memoizedState=d.state,e=n.child):e=Oi(e,n,f),e}function ip(e,n,s,l){return hl(),n.flags|=256,Pe(e,n,s,l),n.child}var zf={dehydrated:null,treeContext:null,retryLane:0};function Bf(e){return{baseLanes:e,cachePool:sg()}}function Pf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Mn),e}function rp(e,n,s){var l=n.pendingProps,f=!1,d=(n.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Re.current&2)!==0),v&&(f=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(jt){if(f?ur(n):cr(),jt){var E=Be,w;if(w=E){t:{for(w=E,E=ni;w.nodeType!==8;){if(!E){E=null;break t}if(w=jn(w.nextSibling),w===null){E=null;break t}}E=w}E!==null?(n.memoizedState={dehydrated:E,treeContext:ns!==null?{id:Ri,overflow:wi}:null,retryLane:536870912},w=In(18,null,null,0),w.stateNode=E,w.return=n,n.child=w,en=n,Be=null,w=!0):w=!1}w||rs(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;Ci(n)}return E=l.children,l=l.fallback,f?(cr(),f=n.mode,E=jf({mode:"hidden",children:E},f),l=ms(l,f,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,f=n.child,f.memoizedState=Bf(s),f.childLanes=Pf(e,v,s),n.memoizedState=zf,l):(ur(n),kf(n,E))}if(w=e.memoizedState,w!==null&&(E=w.dehydrated,E!==null)){if(d)n.flags&256?(ur(n),n.flags&=-257,n=qf(e,n,s)):n.memoizedState!==null?(cr(),n.child=e.child,n.flags|=128,n=null):(cr(),f=l.fallback,E=n.mode,l=jf({mode:"visible",children:l.children},E),f=ms(f,E,s,null),f.flags|=2,l.return=n,f.return=n,l.sibling=f,n.child=l,ss(n,e.child,null,s),l=n.child,l.memoizedState=Bf(s),l.childLanes=Pf(e,v,s),n.memoizedState=zf,n=f);else if(ur(n),E.data==="$!"){if(v=E.nextSibling&&E.nextSibling.dataset,v)var M=v.dgst;v=M,l=Error(a(419)),l.stack="",l.digest=v,dl({value:l,source:null,stack:null}),n=qf(e,n,s)}else if(Me||bl(e,n,s,!1),v=(s&e.childLanes)!==0,Me||v){if(v=Jt,v!==null){if(l=s&-s,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|s))!==0?0:l,l!==0&&l!==w.retryLane)throw w.retryLane=l,or(e,l),nn(v,e,l),Xg}E.data==="$?"||ph(),n=qf(e,n,s)}else E.data==="$?"?(n.flags|=128,n.child=e.child,n=r0.bind(null,e),E._reactRetry=n,n=null):(e=w.treeContext,Be=jn(E.nextSibling),en=n,jt=!0,Pn=null,ni=!1,e!==null&&(Cn[Dn++]=Ri,Cn[Dn++]=wi,Cn[Dn++]=ns,Ri=e.id,wi=e.overflow,ns=n),n=kf(n,l.children),n.flags|=4096);return n}return f?(cr(),f=l.fallback,E=n.mode,w=e.child,M=w.sibling,l=Ar(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&31457280,M!==null?f=Ar(M,f):(f=ms(f,E,s,null),f.flags|=2),f.return=n,l.return=n,l.sibling=f,n.child=l,l=f,f=n.child,E=e.child.memoizedState,E===null?E=Bf(s):(w=E.cachePool,w!==null?(M=we._currentValue,w=w.parent!==M?{parent:M,pool:M}:w):w=sg(),E={baseLanes:E.baseLanes|s,cachePool:w}),f.memoizedState=E,f.childLanes=Pf(e,v,s),n.memoizedState=zf,l):(ur(n),s=e.child,e=s.sibling,s=Ar(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=s,n.memoizedState=null,s)}function kf(e,n){return n=jf({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function jf(e,n){return Np(e,n,0,null)}function qf(e,n,s){return ss(n,e.child,null,s),e=kf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function sp(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Gf(e.return,n,s)}function Hf(e,n,s,l,f){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=f)}function ap(e,n,s){var l=n.pendingProps,f=l.revealOrder,d=l.tail;if(Pe(e,n,l.children,s),l=Re.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sp(e,s,n);else if(e.tag===19)sp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Kt(Re,l),f){case"forwards":for(s=n.child,f=null;s!==null;)e=s.alternate,e!==null&&nu(e)===null&&(f=s),s=s.sibling;s=f,s===null?(f=n.child,n.child=null):(f=s.sibling,s.sibling=null),Hf(n,!1,f,s,d);break;case"backwards":for(s=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&nu(e)===null){n.child=f;break}e=f.sibling,f.sibling=s,s=f,f=e}Hf(n,!0,s,null,d);break;case"together":Hf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Oi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Er|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(bl(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Ar(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Ar(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Ff(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&mu(e)))}function FE(e,n,s){switch(n.tag){case 3:Gi(n,n.stateNode.containerInfo),dr(n,we,e.memoizedState.cache),hl();break;case 27:case 5:qa(n);break;case 4:Gi(n,n.stateNode.containerInfo);break;case 10:dr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ur(n),n.flags|=128,null):(s&n.child.childLanes)!==0?rp(e,n,s):(ur(n),e=Oi(e,n,s),e!==null?e.sibling:null);ur(n);break;case 19:var f=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(bl(e,n,s,!1),l=(s&n.childLanes)!==0),f){if(l)return ap(e,n,s);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Kt(Re,Re.current),l)break;return null;case 22:case 23:return n.lanes=0,Wg(e,n,s);case 24:dr(n,we,e.memoizedState.cache)}return Oi(e,n,s)}function lp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Me=!0;else{if(!Ff(e,s)&&(n.flags&128)===0)return Me=!1,FE(e,n,s);Me=(e.flags&131072)!==0}else Me=!1,jt&&(n.flags&1048576)!==0&&Qm(n,Jo,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var l=n.elementType,f=l._init;if(l=f(l._payload),n.type=l,typeof l=="function")rh(l)?(e=cs(l,e),n.tag=1,n=np(null,n,l,e,s)):(n.tag=0,n=Lf(null,n,l,e,s));else{if(l!=null){if(f=l.$$typeof,f===q){n.tag=11,n=Zg(null,n,l,e,s);break t}else if(f===at){n.tag=14,n=Jg(null,n,l,e,s);break t}}throw n=R(l)||l,Error(a(306,n,""))}}return n;case 0:return Lf(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,f=cs(l,n.pendingProps),np(e,n,l,f,s);case 3:t:{if(Gi(n,n.stateNode.containerInfo),e===null)throw Error(a(387));var d=n.pendingProps;f=n.memoizedState,l=f.element,Xf(e,n),Cl(n,d,null,s);var v=n.memoizedState;if(d=v.cache,dr(n,we,d),d!==f.cache&&Kf(n,[we],s,!0),wl(),d=v.element,f.isDehydrated)if(f={element:d,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ip(e,n,d,s);break t}else if(d!==l){l=wn(Error(a(424)),n),dl(l),n=ip(e,n,d,s);break t}else for(Be=jn(n.stateNode.containerInfo.firstChild),en=n,jt=!0,Pn=null,ni=!0,s=tg(n,null,d,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(hl(),d===l){n=Oi(e,n,s);break t}Pe(e,n,d,s)}n=n.child}return n;case 26:return Sl(e,n),e===null?(s=cy(n.type,null,n.pendingProps,null))?n.memoizedState=s:jt||(s=n.type,e=n.pendingProps,l=Nu(_n.current).createElement(s),l[Ne]=n,l[Te]=e,ke(l,s,e),te(l),n.stateNode=l):n.memoizedState=cy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return qa(n),e===null&&jt&&(l=n.stateNode=ly(n.type,n.pendingProps,_n.current),en=n,ni=!0,Be=jn(l.firstChild)),l=n.pendingProps.children,e!==null||jt?Pe(e,n,l,s):n.child=ss(n,null,l,s),Sl(e,n),n.child;case 5:return e===null&&jt&&((f=l=Be)&&(l=A0(l,n.type,n.pendingProps,ni),l!==null?(n.stateNode=l,en=n,Be=jn(l.firstChild),ni=!1,f=!0):f=!1),f||rs(n)),qa(n),f=n.type,d=n.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,Nh(f,d)?l=null:v!==null&&Nh(f,v)&&(n.flags|=32),n.memoizedState!==null&&(f=_f(e,n,zE,null,null,s),ql._currentValue=f),Sl(e,n),Pe(e,n,l,s),n.child;case 6:return e===null&&jt&&((e=s=Be)&&(s=E0(s,n.pendingProps,ni),s!==null?(n.stateNode=s,en=n,Be=null,e=!0):e=!1),e||rs(n)),null;case 13:return rp(e,n,s);case 4:return Gi(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=ss(n,null,l,s):Pe(e,n,l,s),n.child;case 11:return Zg(e,n,n.type,n.pendingProps,s);case 7:return Pe(e,n,n.pendingProps,s),n.child;case 8:return Pe(e,n,n.pendingProps.children,s),n.child;case 12:return Pe(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,dr(n,n.type,l.value),Pe(e,n,l.children,s),n.child;case 9:return f=n.type._context,l=n.pendingProps.children,hs(n),f=Qe(f),l=l(f),n.flags|=1,Pe(e,n,l,s),n.child;case 14:return Jg(e,n,n.type,n.pendingProps,s);case 15:return $g(e,n,n.type,n.pendingProps,s);case 19:return ap(e,n,s);case 22:return Wg(e,n,s);case 24:return hs(n),l=Qe(we),e===null?(f=pf(),f===null&&(f=Jt,d=mf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),n.memoizedState={parent:l,cache:f},Yf(n),dr(n,we,f)):((e.lanes&s)!==0&&(Xf(e,n),Cl(n,null,null,s),wl()),f=e.memoizedState,d=n.memoizedState,f.parent!==l?(f={parent:l,cache:l},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),dr(n,we,l)):(l=d.cache,dr(n,we,l),l!==f.cache&&Kf(n,[we],s,!0))),Pe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}var Qf=Pt(null),fs=null,Ni=null;function dr(e,n,s){Kt(Qf,n._currentValue),n._currentValue=s}function Vi(e){e._currentValue=Qf.current,re(Qf)}function Gf(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Kf(e,n,s,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=f;for(var w=0;w<n.length;w++)if(E.context===n[w]){d.lanes|=s,E=d.alternate,E!==null&&(E.lanes|=s),Gf(d.return,s,e),l||(v=null);break t}d=E.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(a(341));v.lanes|=s,d=v.alternate,d!==null&&(d.lanes|=s),Gf(v,s,e),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===e){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function bl(e,n,s,l){e=null;for(var f=n,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var E=f.type;hn(f.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(f===Qi.current){if(v=f.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(ql):e=[ql])}f=f.return}e!==null&&Kf(n,e,s,l),n.flags|=262144}function mu(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function hs(e){fs=e,Ni=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qe(e){return op(fs,e)}function gu(e,n){return fs===null&&hs(e),op(e,n)}function op(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ni===null){if(e===null)throw Error(a(308));Ni=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ni=Ni.next=n;return s}var mr=!1;function Yf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function gr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function pr(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ne&2)!==0){var f=l.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),l.pending=n,n=Xo(e),Hm(e,null,s),n}return Yo(e,l,n,s),Xo(e)}function Rl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194176)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,$i(e,s)}}function Zf(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,s=s.next}while(s!==null);d===null?f=d=n:d=d.next=n}else f=d=n;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Jf=!1;function wl(){if(Jf){var e=ra;if(e!==null)throw e}}function Cl(e,n,s,l){Jf=!1;var f=e.updateQueue;mr=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var w=E,M=w.next;w.next=null,v===null?d=M:v.next=M,v=w;var K=e.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==v&&(E===null?K.firstBaseUpdate=M:E.next=M,K.lastBaseUpdate=w))}if(d!==null){var J=f.baseState;v=0,K=M=w=null,E=d;do{var k=E.lane&-536870913,Q=k!==E.lane;if(Q?(Lt&k)===k:(l&k)===k){k!==0&&k===ia&&(Jf=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ht=e,Tt=E;k=n;var oe=s;switch(Tt.tag){case 1:if(ht=Tt.payload,typeof ht=="function"){J=ht.call(oe,J,k);break t}J=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=Tt.payload,k=typeof ht=="function"?ht.call(oe,J,k):ht,k==null)break t;J=D({},J,k);break t;case 2:mr=!0}}k=E.callback,k!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[k]:Q.push(k))}else Q={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(M=K=Q,w=J):K=K.next=Q,v|=k;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;Q=E,E=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);K===null&&(w=J),f.baseState=w,f.firstBaseUpdate=M,f.lastBaseUpdate=K,d===null&&(f.shared.lanes=0),Er|=v,e.lanes=v,e.memoizedState=J}}function up(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function cp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)up(s[e],n)}function Dl(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&e)===e){l=void 0;var d=s.create,v=s.inst;l=d(),v.destroy=l}s=s.next}while(s!==f)}}catch(E){Zt(n,n.return,E)}}function yr(e,n,s){try{var l=n.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,f=n;var w=s;try{E()}catch(M){Zt(f,w,M)}}}l=l.next}while(l!==d)}}catch(M){Zt(n,n.return,M)}}function fp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{cp(n,s)}catch(l){Zt(e,e.return,l)}}}function hp(e,n,s){s.props=cs(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Zt(e,n,l)}}function ds(e,n){try{var s=e.ref;if(s!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var f=l;break;default:f=l}typeof s=="function"?e.refCleanup=s(f):s.current=f}}catch(d){Zt(e,n,d)}}function dn(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){Zt(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){Zt(e,n,f)}else s.current=null}function dp(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){Zt(e,e.return,f)}}function mp(e,n,s){try{var l=e.stateNode;g0(l,e.type,s,n),l[Te]=n}catch(f){Zt(e,e.return,f)}}function gp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function $f(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||gp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Ou));else if(l!==4&&l!==27&&(e=e.child,e!==null))for(Wf(e,n,s),e=e.sibling;e!==null;)Wf(e,n,s),e=e.sibling}function pu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&l!==27&&(e=e.child,e!==null))for(pu(e,n,s),e=e.sibling;e!==null;)pu(e,n,s),e=e.sibling}var Ii=!1,ae=!1,th=!1,pp=typeof WeakSet=="function"?WeakSet:Set,xe=null,yp=!1;function QE(e,n){if(e=e.containerInfo,Dh=Lu,e=xm(e),ef(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var v=0,E=-1,w=-1,M=0,K=0,J=e,k=null;e:for(;;){for(var Q;J!==s||f!==0&&J.nodeType!==3||(E=v+f),J!==d||l!==0&&J.nodeType!==3||(w=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(Q=J.firstChild)!==null;)k=J,J=Q;for(;;){if(J===e)break e;if(k===s&&++M===f&&(E=v),k===d&&++K===l&&(w=v),(Q=J.nextSibling)!==null)break;J=k,k=J.parentNode}J=Q}s=E===-1||w===-1?null:{start:E,end:w}}else s=null}s=s||{start:0,end:0}}else s=null;for(Oh={focusedElem:e,selectionRange:s},Lu=!1,xe=n;xe!==null;)if(n=xe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,xe=e;else for(;xe!==null;){switch(n=xe,d=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=n,f=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var ht=cs(s.type,f,s.elementType===s.type);e=l.getSnapshotBeforeUpdate(ht,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Tt){Zt(s,s.return,Tt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Mh(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Mh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,xe=e;break}xe=n.return}return ht=yp,yp=!1,ht}function _p(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:xi(e,s),l&4&&Dl(5,s);break;case 1:if(xi(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(E){Zt(s,s.return,E)}else{var f=cs(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(E){Zt(s,s.return,E)}}l&64&&fp(s),l&512&&ds(s,s.return);break;case 3:if(xi(e,s),l&64&&(l=s.updateQueue,l!==null)){if(e=null,s.child!==null)switch(s.child.tag){case 27:case 5:e=s.child.stateNode;break;case 1:e=s.child.stateNode}try{cp(l,e)}catch(E){Zt(s,s.return,E)}}break;case 26:xi(e,s),l&512&&ds(s,s.return);break;case 27:case 5:xi(e,s),n===null&&l&4&&dp(s),l&512&&ds(s,s.return);break;case 12:xi(e,s);break;case 13:xi(e,s),l&4&&Ep(e,s);break;case 22:if(f=s.memoizedState!==null||Ii,!f){n=n!==null&&n.memoizedState!==null||ae;var d=Ii,v=ae;Ii=f,(ae=n)&&!v?_r(e,s,(s.subtreeFlags&8772)!==0):xi(e,s),Ii=d,ae=v}l&512&&(s.memoizedProps.mode==="manual"?ds(s,s.return):dn(s,s.return));break;default:xi(e,s)}}function vp(e){var n=e.alternate;n!==null&&(e.alternate=null,vp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Hr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ye=null,mn=!1;function Mi(e,n,s){for(s=s.child;s!==null;)Ap(e,n,s),s=s.sibling}function Ap(e,n,s){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(Ki,s)}catch{}switch(s.tag){case 26:ae||dn(s,n),Mi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ae||dn(s,n);var l=ye,f=mn;for(ye=s.stateNode,Mi(e,n,s),s=s.stateNode,n=s.attributes;n.length;)s.removeAttributeNode(n[0]);Hr(s),ye=l,mn=f;break;case 5:ae||dn(s,n);case 6:f=ye;var d=mn;if(ye=null,Mi(e,n,s),ye=f,mn=d,ye!==null)if(mn)try{e=ye,l=s.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)}catch(v){Zt(s,n,v)}else try{ye.removeChild(s.stateNode)}catch(v){Zt(s,n,v)}break;case 18:ye!==null&&(mn?(n=ye,s=s.stateNode,n.nodeType===8?Ih(n.parentNode,s):n.nodeType===1&&Ih(n,s),Gl(n)):Ih(ye,s.stateNode));break;case 4:l=ye,f=mn,ye=s.stateNode.containerInfo,mn=!0,Mi(e,n,s),ye=l,mn=f;break;case 0:case 11:case 14:case 15:ae||yr(2,s,n),ae||yr(4,s,n),Mi(e,n,s);break;case 1:ae||(dn(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&hp(s,n,l)),Mi(e,n,s);break;case 21:Mi(e,n,s);break;case 22:ae||dn(s,n),ae=(l=ae)||s.memoizedState!==null,Mi(e,n,s),ae=l;break;default:Mi(e,n,s)}}function Ep(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Gl(e)}catch(s){Zt(n,n.return,s)}}function GE(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new pp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new pp),n;default:throw Error(a(435,e.tag))}}function eh(e,n){var s=GE(e);n.forEach(function(l){var f=s0.bind(null,e,l);s.has(l)||(s.add(l),l.then(f,f))})}function Nn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],d=e,v=n,E=v;t:for(;E!==null;){switch(E.tag){case 27:case 5:ye=E.stateNode,mn=!1;break t;case 3:ye=E.stateNode.containerInfo,mn=!0;break t;case 4:ye=E.stateNode.containerInfo,mn=!0;break t}E=E.return}if(ye===null)throw Error(a(160));Ap(d,v,f),ye=null,mn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Tp(n,e),n=n.sibling}var kn=null;function Tp(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nn(n,e),Vn(e),l&4&&(yr(3,e,e.return),Dl(3,e),yr(5,e,e.return));break;case 1:Nn(n,e),Vn(e),l&512&&(ae||s===null||dn(s,s.return)),l&64&&Ii&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=kn;if(Nn(n,e),Vn(e),l&512&&(ae||s===null||dn(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[tr]||d[Ne]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),ke(d,l,s),d[Ne]=e,te(d),l=d;break t;case"link":var v=dy("link","href",f).get(l+(s.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(s.href==null?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(E,1);break e}}d=f.createElement(l),ke(d,l,s),f.head.appendChild(d);break;case"meta":if(v=dy("meta","content",f).get(l+(s.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(E,1);break e}}d=f.createElement(l),ke(d,l,s),f.head.appendChild(d);break;default:throw Error(a(468,l))}d[Ne]=e,te(d),l=d}e.stateNode=l}else my(f,e.type,e.stateNode);else e.stateNode=hy(f,l,e.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?my(f,e.type,e.stateNode):hy(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&mp(e,e.memoizedProps,s.memoizedProps)}break;case 27:if(l&4&&e.alternate===null){f=e.stateNode,d=e.memoizedProps;try{for(var w=f.firstChild;w;){var M=w.nextSibling,K=w.nodeName;w[tr]||K==="HEAD"||K==="BODY"||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&w.rel.toLowerCase()==="stylesheet"||f.removeChild(w),w=M}for(var J=e.type,k=f.attributes;k.length;)f.removeAttributeNode(k[0]);ke(f,J,d),f[Ne]=e,f[Te]=d}catch(ht){Zt(e,e.return,ht)}}case 5:if(Nn(n,e),Vn(e),l&512&&(ae||s===null||dn(s,s.return)),e.flags&32){f=e.stateNode;try{En(f,"")}catch(ht){Zt(e,e.return,ht)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,mp(e,f,s!==null?s.memoizedProps:f)),l&1024&&(th=!0);break;case 6:if(Nn(n,e),Vn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(ht){Zt(e,e.return,ht)}}break;case 3:if(Mu=null,f=kn,kn=Vu(n.containerInfo),Nn(n,e),kn=f,Vn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Gl(n.containerInfo)}catch(ht){Zt(e,e.return,ht)}th&&(th=!1,Sp(e));break;case 4:l=kn,kn=Vu(e.stateNode.containerInfo),Nn(n,e),Vn(e),kn=l;break;case 12:Nn(n,e),Vn(e);break;case 13:Nn(n,e),Vn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ch=sn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,eh(e,l)));break;case 22:if(l&512&&(ae||s===null||dn(s,s.return)),w=e.memoizedState!==null,M=s!==null&&s.memoizedState!==null,K=Ii,J=ae,Ii=K||w,ae=J||M,Nn(n,e),ae=J,Ii=K,Vn(e),n=e.stateNode,n._current=e,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=w?n._visibility&-2:n._visibility|1,w&&(n=Ii||ae,s===null||M||n||oa(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(s=null,n=e;;){if(n.tag===5||n.tag===26||n.tag===27){if(s===null){M=s=n;try{if(f=M.stateNode,w)d=f.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=M.stateNode,E=M.memoizedProps.style;var Q=E!=null&&E.hasOwnProperty("display")?E.display:null;v.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(ht){Zt(M,M.return,ht)}}}else if(n.tag===6){if(s===null){M=n;try{M.stateNode.nodeValue=w?"":M.memoizedProps}catch(ht){Zt(M,M.return,ht)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,eh(e,s))));break;case 19:Nn(n,e),Vn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,eh(e,l)));break;case 21:break;default:Nn(n,e),Vn(e)}}function Vn(e){var n=e.flags;if(n&2){try{if(e.tag!==27){t:{for(var s=e.return;s!==null;){if(gp(s)){var l=s;break t}s=s.return}throw Error(a(160))}switch(l.tag){case 27:var f=l.stateNode,d=$f(e);pu(e,d,f);break;case 5:var v=l.stateNode;l.flags&32&&(En(v,""),l.flags&=-33);var E=$f(e);pu(e,E,v);break;case 3:case 4:var w=l.stateNode.containerInfo,M=$f(e);Wf(e,M,w);break;default:throw Error(a(161))}}}catch(K){Zt(e,e.return,K)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Sp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Sp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function xi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)_p(e,n.alternate,n),n=n.sibling}function oa(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:yr(4,n,n.return),oa(n);break;case 1:dn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&hp(n,n.return,s),oa(n);break;case 26:case 27:case 5:dn(n,n.return),oa(n);break;case 22:dn(n,n.return),n.memoizedState===null&&oa(n);break;default:oa(n)}e=e.sibling}}function _r(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,f=e,d=n,v=d.flags;switch(d.tag){case 0:case 11:case 15:_r(f,d,s),Dl(4,d);break;case 1:if(_r(f,d,s),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(M){Zt(l,l.return,M)}if(l=d,f=l.updateQueue,f!==null){var E=l.stateNode;try{var w=f.shared.hiddenCallbacks;if(w!==null)for(f.shared.hiddenCallbacks=null,f=0;f<w.length;f++)up(w[f],E)}catch(M){Zt(l,l.return,M)}}s&&v&64&&fp(d),ds(d,d.return);break;case 26:case 27:case 5:_r(f,d,s),s&&l===null&&v&4&&dp(d),ds(d,d.return);break;case 12:_r(f,d,s);break;case 13:_r(f,d,s),s&&v&4&&Ep(f,d);break;case 22:d.memoizedState===null&&_r(f,d,s),ds(d,d.return);break;default:_r(f,d,s)}n=n.sibling}}function nh(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&_l(s))}function ih(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&_l(e))}function vr(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)bp(e,n,s,l),n=n.sibling}function bp(e,n,s,l){var f=n.flags;switch(n.tag){case 0:case 11:case 15:vr(e,n,s,l),f&2048&&Dl(9,n);break;case 3:vr(e,n,s,l),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&_l(e)));break;case 12:if(f&2048){vr(e,n,s,l),e=n.stateNode;try{var d=n.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Zt(n,n.return,w)}}else vr(e,n,s,l);break;case 23:break;case 22:d=n.stateNode,n.memoizedState!==null?d._visibility&4?vr(e,n,s,l):Ol(e,n):d._visibility&4?vr(e,n,s,l):(d._visibility|=4,ua(e,n,s,l,(n.subtreeFlags&10256)!==0)),f&2048&&nh(n.alternate,n);break;case 24:vr(e,n,s,l),f&2048&&ih(n.alternate,n);break;default:vr(e,n,s,l)}}function ua(e,n,s,l,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=e,v=n,E=s,w=l,M=v.flags;switch(v.tag){case 0:case 11:case 15:ua(d,v,E,w,f),Dl(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&4?ua(d,v,E,w,f):Ol(d,v):(K._visibility|=4,ua(d,v,E,w,f)),f&&M&2048&&nh(v.alternate,v);break;case 24:ua(d,v,E,w,f),f&&M&2048&&ih(v.alternate,v);break;default:ua(d,v,E,w,f)}n=n.sibling}}function Ol(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,f=l.flags;switch(l.tag){case 22:Ol(s,l),f&2048&&nh(l.alternate,l);break;case 24:Ol(s,l),f&2048&&ih(l.alternate,l);break;default:Ol(s,l)}n=n.sibling}}var Nl=8192;function ca(e){if(e.subtreeFlags&Nl)for(e=e.child;e!==null;)Rp(e),e=e.sibling}function Rp(e){switch(e.tag){case 26:ca(e),e.flags&Nl&&e.memoizedState!==null&&x0(kn,e.memoizedState,e.memoizedProps);break;case 5:ca(e);break;case 3:case 4:var n=kn;kn=Vu(e.stateNode.containerInfo),ca(e),kn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Nl,Nl=16777216,ca(e),Nl=n):ca(e));break;default:ca(e)}}function wp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Vl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];xe=l,Dp(l,e)}wp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Cp(e),e=e.sibling}function Cp(e){switch(e.tag){case 0:case 11:case 15:Vl(e),e.flags&2048&&yr(9,e,e.return);break;case 3:Vl(e);break;case 12:Vl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&4&&(e.return===null||e.return.tag!==13)?(n._visibility&=-5,yu(e)):Vl(e);break;default:Vl(e)}}function yu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];xe=l,Dp(l,e)}wp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:yr(8,n,n.return),yu(n);break;case 22:s=n.stateNode,s._visibility&4&&(s._visibility&=-5,yu(n));break;default:yu(n)}e=e.sibling}}function Dp(e,n){for(;xe!==null;){var s=xe;switch(s.tag){case 0:case 11:case 15:yr(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:_l(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,xe=l;else t:for(s=e;xe!==null;){l=xe;var f=l.sibling,d=l.return;if(vp(l),l===s){xe=null;break t}if(f!==null){f.return=d,xe=f;break t}xe=d}}}function KE(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(e,n,s,l){return new KE(e,n,s,l)}function rh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ar(e,n){var s=e.alternate;return s===null?(s=In(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&31457280,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Op(e,n){e.flags&=31457282;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function _u(e,n,s,l,f,d){var v=0;if(l=e,typeof e=="function")rh(e)&&(v=1);else if(typeof e=="string")v=I0(e,s,Je.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case y:return ms(s.children,f,d,n);case p:v=8,f|=24;break;case A:return e=In(12,s,n,f|2),e.elementType=A,e.lanes=d,e;case G:return e=In(13,s,n,f),e.elementType=G,e.lanes=d,e;case j:return e=In(19,s,n,f),e.elementType=j,e.lanes=d,e;case $:return Np(s,f,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case S:case P:v=10;break t;case V:v=9;break t;case q:v=11;break t;case at:v=14;break t;case st:v=16,l=null;break t}v=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=In(v,s,n,f),n.elementType=e,n.type=l,n.lanes=d,n}function ms(e,n,s,l){return e=In(7,e,l,n),e.lanes=s,e}function Np(e,n,s,l){e=In(22,e,l,n),e.elementType=$,e.lanes=s;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=f._current;if(d===null)throw Error(a(456));if((f._pendingVisibility&2)===0){var v=or(d,2);v!==null&&(f._pendingVisibility|=2,nn(v,d,2))}},attach:function(){var d=f._current;if(d===null)throw Error(a(456));if((f._pendingVisibility&2)!==0){var v=or(d,2);v!==null&&(f._pendingVisibility&=-3,nn(v,d,2))}}};return e.stateNode=f,e}function sh(e,n,s){return e=In(6,e,null,n),e.lanes=s,e}function ah(e,n,s){return n=In(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Ui(e){e.flags|=4}function Vp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!gy(n)){if(n=On.current,n!==null&&((Lt&4194176)===Lt?ii!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||n!==ii))throw gl=ff,Ym;e.flags|=8192}}function vu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Zi():536870912,e.lanes|=n,ha|=n)}function Il(e,n){if(!jt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var f=e.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&31457280,l|=f.flags&31457280,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function YE(e,n,s){var l=n.pendingProps;switch(uf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Vi(we),mi(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(fl(n)?Ui(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Pn!==null&&(mh(Pn),Pn=null))),ee(n),null;case 26:return s=n.memoizedState,e===null?(Ui(n),s!==null?(ee(n),Vp(n,s)):(ee(n),n.flags&=-16777217)):s?s!==e.memoizedState?(Ui(n),ee(n),Vp(n,s)):(ee(n),n.flags&=-16777217):(e.memoizedProps!==l&&Ui(n),ee(n),n.flags&=-16777217),null;case 27:Vs(n),s=_n.current;var f=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ui(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ee(n),null}e=Je.current,fl(n)?Gm(n):(e=ly(f,l,s),n.stateNode=e,Ui(n))}return ee(n),null;case 5:if(Vs(n),s=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ui(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ee(n),null}if(e=Je.current,fl(n))Gm(n);else{switch(f=Nu(_n.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?f.createElement(s,{is:l.is}):f.createElement(s)}}e[Ne]=n,e[Te]=l;t:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break t;for(;f.sibling===null;){if(f.return===null||f.return===n)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=e;t:switch(ke(e,s,l),s){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ui(n)}}return ee(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Ui(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=_n.current,fl(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,f=en,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[Ne]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||ey(e.nodeValue,s)),e||rs(n)}else e=Nu(e).createTextNode(l),e[Ne]=n,n.stateNode=e}return ee(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=fl(n),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Ne]=n}else hl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),f=!1}else Pn!==null&&(mh(Pn),Pn=null),f=!0;if(!f)return n.flags&256?(Ci(n),n):(Ci(n),null)}if(Ci(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=l!==null,e=e!==null&&e.memoizedState!==null,s){l=n.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return s!==e&&s&&(n.child.flags|=8192),vu(n,n.updateQueue),ee(n),null;case 4:return mi(),e===null&&Rh(n.stateNode.containerInfo),ee(n),null;case 10:return Vi(n.type),ee(n),null;case 19:if(re(Re),f=n.memoizedState,f===null)return ee(n),null;if(l=(n.flags&128)!==0,d=f.rendering,d===null)if(l)Il(f,!1);else{if(le!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=nu(e),d!==null){for(n.flags|=128,Il(f,!1),e=d.updateQueue,n.updateQueue=e,vu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Op(s,e),s=s.sibling;return Kt(Re,Re.current&1|2),n.child}e=e.sibling}f.tail!==null&&sn()>Au&&(n.flags|=128,l=!0,Il(f,!1),n.lanes=4194304)}else{if(!l)if(e=nu(d),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,vu(n,e),Il(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!jt)return ee(n),null}else 2*sn()-f.renderingStartTime>Au&&s!==536870912&&(n.flags|=128,l=!0,Il(f,!1),n.lanes=4194304);f.isBackwards?(d.sibling=n.child,n.child=d):(e=f.last,e!==null?e.sibling=d:n.child=d,f.last=d)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=sn(),n.sibling=null,e=Re.current,Kt(Re,l?e&1|2:e&1),n):(ee(n),null);case 22:case 23:return Ci(n),df(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),s=n.updateQueue,s!==null&&vu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&re(as),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Vi(we),ee(n),null;case 25:return null}throw Error(a(156,n.tag))}function XE(e,n){switch(uf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Vi(we),mi(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Vs(n),null;case 13:if(Ci(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));hl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return re(Re),null;case 4:return mi(),null;case 10:return Vi(n.type),null;case 22:case 23:return Ci(n),df(),e!==null&&re(as),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Vi(we),null;case 25:return null;default:return null}}function Ip(e,n){switch(uf(n),n.tag){case 3:Vi(we),mi();break;case 26:case 27:case 5:Vs(n);break;case 4:mi();break;case 13:Ci(n);break;case 19:re(Re);break;case 10:Vi(n.type);break;case 22:case 23:Ci(n),df(),e!==null&&re(as);break;case 24:Vi(we)}}var ZE={getCacheForType:function(e){var n=Qe(we),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s}},JE=typeof WeakMap=="function"?WeakMap:Map,ne=0,Jt=null,Nt=null,Lt=0,$t=0,gn=null,Li=!1,fa=!1,lh=!1,zi=0,le=0,Er=0,gs=0,oh=0,Mn=0,ha=0,Ml=null,si=null,uh=!1,ch=0,Au=1/0,Eu=null,Tr=null,Tu=!1,ps=null,xl=0,fh=0,hh=null,Ul=0,dh=null;function pn(){if((ne&2)!==0&&Lt!==0)return Lt&-Lt;if(b.T!==null){var e=ia;return e!==0?e:Eh()}return Do()}function Mp(){Mn===0&&(Mn=(Lt&536870912)===0||jt?Ka():536870912);var e=On.current;return e!==null&&(e.flags|=32),Mn}function nn(e,n,s){(e===Jt&&$t===2||e.cancelPendingCommit!==null)&&(da(e,0),Bi(e,Lt,Mn,!1)),ue(e,s),((ne&2)===0||e!==Jt)&&(e===Jt&&((ne&2)===0&&(gs|=s),le===4&&Bi(e,Lt,Mn,!1)),ai(e))}function xp(e,n,s){if((ne&6)!==0)throw Error(a(327));var l=!s&&(n&60)===0&&(n&e.expiredLanes)===0||Xi(e,n),f=l?t0(e,n):yh(e,n,!0),d=l;do{if(f===0){fa&&!l&&Bi(e,n,0,!1);break}else if(f===6)Bi(e,n,0,!Li);else{if(s=e.current.alternate,d&&!$E(s)){f=yh(e,n,!1),d=!1;continue}if(f===2){if(d=n,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var E=e;f=Ml;var w=E.current.memoizedState.isDehydrated;if(w&&(da(E,v).flags|=256),v=yh(E,v,!1),v!==2){if(lh&&!w){E.errorRecoveryDisabledLanes|=d,gs|=d,f=4;break t}d=si,si=f,d!==null&&mh(d)}f=v}if(d=!1,f!==2)continue}}if(f===1){da(e,0),Bi(e,n,0,!0);break}t:{switch(l=e,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194176)===n){Bi(l,n,Mn,!Li);break t}break;case 2:si=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=s,l.finishedLanes=n,(n&62914560)===n&&(d=ch+300-sn(),10<d)){if(Bi(l,n,Mn,!Li),vn(l,0)!==0)break t;l.timeoutHandle=ry(Up.bind(null,l,s,si,Eu,uh,n,Mn,gs,ha,Li,2,-0,0),d);break t}Up(l,s,si,Eu,uh,n,Mn,gs,ha,Li,0,-0,0)}}break}while(!0);ai(e)}function mh(e){si===null?si=e:si.push.apply(si,e)}function Up(e,n,s,l,f,d,v,E,w,M,K,J,k){var Q=n.subtreeFlags;if((Q&8192||(Q&16785408)===16785408)&&(jl={stylesheets:null,count:0,unsuspend:M0},Rp(n),n=U0(),n!==null)){e.cancelPendingCommit=n(qp.bind(null,e,s,l,f,v,E,w,1,J,k)),Bi(e,d,v,!M);return}qp(e,s,l,f,v,E,w,K,J,k)}function $E(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],d=f.getSnapshot;f=f.value;try{if(!hn(d(),f))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Bi(e,n,s,l){n&=~oh,n&=~gs,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var f=n;0<f;){var d=31-$e(f),v=1<<d;l[d]=-1,f&=~v}s!==0&&Ji(e,s,n)}function Su(){return(ne&6)===0?(Ll(0),!1):!0}function gh(){if(Nt!==null){if($t===0)var e=Nt.return;else e=Nt,Ni=fs=null,Ef(e),ea=null,pl=0,e=Nt;for(;e!==null;)Ip(e.alternate,e),e=e.return;Nt=null}}function da(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,y0(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),gh(),Jt=e,Nt=s=Ar(e.current,null),Lt=n,$t=0,gn=null,Li=!1,fa=Xi(e,n),lh=!1,ha=Mn=oh=gs=Er=le=0,si=Ml=null,uh=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var f=31-$e(l),d=1<<f;n|=e[f],l&=~d}return zi=n,Ko(),s}function Lp(e,n){Dt=null,b.H=ri,n===ml?(n=Jm(),$t=3):n===Ym?(n=Jm(),$t=4):$t=n===Xg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,Nt===null&&(le=1,du(e,wn(n,e.current)))}function zp(){var e=b.H;return b.H=ri,e===null?ri:e}function Bp(){var e=b.A;return b.A=ZE,e}function ph(){le=4,Li||(Lt&4194176)!==Lt&&On.current!==null||(fa=!0),(Er&134217727)===0&&(gs&134217727)===0||Jt===null||Bi(Jt,Lt,Mn,!1)}function yh(e,n,s){var l=ne;ne|=2;var f=zp(),d=Bp();(Jt!==e||Lt!==n)&&(Eu=null,da(e,n)),n=!1;var v=le;t:do try{if($t!==0&&Nt!==null){var E=Nt,w=gn;switch($t){case 8:gh(),v=6;break t;case 3:case 2:case 6:On.current===null&&(n=!0);var M=$t;if($t=0,gn=null,ma(e,E,w,M),s&&fa){v=0;break t}break;default:M=$t,$t=0,gn=null,ma(e,E,w,M)}}WE(),v=le;break}catch(K){Lp(e,K)}while(!0);return n&&e.shellSuspendCounter++,Ni=fs=null,ne=l,b.H=f,b.A=d,Nt===null&&(Jt=null,Lt=0,Ko()),v}function WE(){for(;Nt!==null;)Pp(Nt)}function t0(e,n){var s=ne;ne|=2;var l=zp(),f=Bp();Jt!==e||Lt!==n?(Eu=null,Au=sn()+500,da(e,n)):fa=Xi(e,n);t:do try{if($t!==0&&Nt!==null){n=Nt;var d=gn;e:switch($t){case 1:$t=0,gn=null,ma(e,n,d,1);break;case 2:if(Xm(d)){$t=0,gn=null,kp(n);break}n=function(){$t===2&&Jt===e&&($t=7),ai(e)},d.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Xm(d)?($t=0,gn=null,kp(n)):($t=0,gn=null,ma(e,n,d,7));break;case 5:var v=null;switch(Nt.tag){case 26:v=Nt.memoizedState;case 5:case 27:var E=Nt;if(!v||gy(v)){$t=0,gn=null;var w=E.sibling;if(w!==null)Nt=w;else{var M=E.return;M!==null?(Nt=M,bu(M)):Nt=null}break e}}$t=0,gn=null,ma(e,n,d,5);break;case 6:$t=0,gn=null,ma(e,n,d,6);break;case 8:gh(),le=6;break t;default:throw Error(a(462))}}e0();break}catch(K){Lp(e,K)}while(!0);return Ni=fs=null,b.H=l,b.A=f,ne=s,Nt!==null?0:(Jt=null,Lt=0,Ko(),le)}function e0(){for(;Nt!==null&&!Fc();)Pp(Nt)}function Pp(e){var n=lp(e.alternate,e,zi);e.memoizedProps=e.pendingProps,n===null?bu(e):Nt=n}function kp(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=ep(s,n,n.pendingProps,n.type,void 0,Lt);break;case 11:n=ep(s,n,n.pendingProps,n.type.render,n.ref,Lt);break;case 5:Ef(n);default:Ip(s,n),n=Nt=Op(n,zi),n=lp(s,n,zi)}e.memoizedProps=e.pendingProps,n===null?bu(e):Nt=n}function ma(e,n,s,l){Ni=fs=null,Ef(n),ea=null,pl=0;var f=n.return;try{if(HE(e,f,n,s,Lt)){le=1,du(e,wn(s,e.current)),Nt=null;return}}catch(d){if(f!==null)throw Nt=f,d;le=1,du(e,wn(s,e.current)),Nt=null;return}n.flags&32768?(jt||l===1?e=!0:fa||(Lt&536870912)!==0?e=!1:(Li=e=!0,(l===2||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),jp(n,e)):bu(n)}function bu(e){var n=e;do{if((n.flags&32768)!==0){jp(n,Li);return}e=n.return;var s=YE(n.alternate,n,zi);if(s!==null){Nt=s;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);le===0&&(le=5)}function jp(e,n){do{var s=XE(e.alternate,e);if(s!==null){s.flags&=32767,Nt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=s}while(e!==null);le=6,Nt=null}function qp(e,n,s,l,f,d,v,E,w,M){var K=b.T,J=ot.p;try{ot.p=2,b.T=null,n0(e,n,s,l,J,f,d,v,E,w,M)}finally{b.T=K,ot.p=J}}function n0(e,n,s,l,f,d,v,E){do ga();while(ps!==null);if((ne&6)!==0)throw Error(a(327));var w=e.finishedWork;if(l=e.finishedLanes,w===null)return null;if(e.finishedWork=null,e.finishedLanes=0,w===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var M=w.lanes|w.childLanes;if(M|=af,wo(e,l,M,d,v,E),e===Jt&&(Nt=Jt=null,Lt=0),(w.subtreeFlags&10256)===0&&(w.flags&10256)===0||Tu||(Tu=!0,fh=M,hh=s,a0(gi,function(){return ga(),null})),s=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||s?(s=b.T,b.T=null,d=ot.p,ot.p=2,v=ne,ne|=4,QE(e,w),Tp(w,e),wE(Oh,e.containerInfo),Lu=!!Dh,Oh=Dh=null,e.current=w,_p(e,w.alternate,w),Ha(),ne=v,ot.p=d,b.T=s):e.current=w,Tu?(Tu=!1,ps=e,xl=l):Hp(e,M),M=e.pendingLanes,M===0&&(Tr=null),Qa(w.stateNode),ai(e),n!==null)for(f=e.onRecoverableError,w=0;w<n.length;w++)M=n[w],f(M.value,{componentStack:M.stack});return(xl&3)!==0&&ga(),M=e.pendingLanes,(l&4194218)!==0&&(M&42)!==0?e===dh?Ul++:(Ul=0,dh=e):Ul=0,Ll(0),null}function Hp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,_l(n)))}function ga(){if(ps!==null){var e=ps,n=fh;fh=0;var s=Co(xl),l=b.T,f=ot.p;try{if(ot.p=32>s?32:s,b.T=null,ps===null)var d=!1;else{s=hh,hh=null;var v=ps,E=xl;if(ps=null,xl=0,(ne&6)!==0)throw Error(a(331));var w=ne;if(ne|=4,Cp(v.current),bp(v,v.current,E,s),ne=w,Ll(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(Ki,v)}catch{}d=!0}return d}finally{ot.p=f,b.T=l,Hp(e,n)}}return!1}function Fp(e,n,s){n=wn(s,n),n=Uf(e.stateNode,n,2),e=pr(e,n,2),e!==null&&(ue(e,2),ai(e))}function Zt(e,n,s){if(e.tag===3)Fp(e,e,s);else for(;n!==null;){if(n.tag===3){Fp(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Tr===null||!Tr.has(l))){e=wn(s,e),s=Kg(2),l=pr(n,s,2),l!==null&&(Yg(s,l,n,e),ue(l,2),ai(l));break}}n=n.return}}function _h(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new JE;var f=new Set;l.set(n,f)}else f=l.get(n),f===void 0&&(f=new Set,l.set(n,f));f.has(s)||(lh=!0,f.add(s),e=i0.bind(null,e,n,s),n.then(e,e))}function i0(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Jt===e&&(Lt&s)===s&&(le===4||le===3&&(Lt&62914560)===Lt&&300>sn()-ch?(ne&2)===0&&da(e,0):oh|=s,ha===Lt&&(ha=0)),ai(e)}function Qp(e,n){n===0&&(n=Zi()),e=or(e,n),e!==null&&(ue(e,n),ai(e))}function r0(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Qp(e,s)}function s0(e,n){var s=0;switch(e.tag){case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Qp(e,s)}function a0(e,n){return kr(e,n)}var Ru=null,pa=null,vh=!1,wu=!1,Ah=!1,ys=0;function ai(e){e!==pa&&e.next===null&&(pa===null?Ru=pa=e:pa=pa.next=e),wu=!0,vh||(vh=!0,o0(l0))}function Ll(e,n){if(!Ah&&wu){Ah=!0;do for(var s=!1,l=Ru;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-$e(42|e)+1)-1,d&=f&~(v&~E),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(s=!0,Yp(l,d))}else d=Lt,d=vn(l,l===Jt?d:0),(d&3)===0||Xi(l,d)||(s=!0,Yp(l,d));l=l.next}while(s);Ah=!1}}function l0(){wu=vh=!1;var e=0;ys!==0&&(p0()&&(e=ys),ys=0);for(var n=sn(),s=null,l=Ru;l!==null;){var f=l.next,d=Gp(l,n);d===0?(l.next=null,s===null?Ru=f:s.next=f,f===null&&(pa=s)):(s=l,(e!==0||(d&3)!==0)&&(wu=!0)),l=f}Ll(e)}function Gp(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-$e(d),E=1<<v,w=f[v];w===-1?((E&s)===0||(E&l)!==0)&&(f[v]=xs(E,n)):w<=n&&(e.expiredLanes|=E),d&=~E}if(n=Jt,s=Lt,s=vn(e,e===n?s:0),l=e.callbackNode,s===0||e===n&&$t===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ms(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Xi(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&Ms(l),Co(s)){case 2:case 8:s=Oe;break;case 32:s=gi;break;case 268435456:s=Fa;break;default:s=gi}return l=Kp.bind(null,e),s=kr(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&Ms(l),e.callbackPriority=2,e.callbackNode=null,2}function Kp(e,n){var s=e.callbackNode;if(ga()&&e.callbackNode!==s)return null;var l=Lt;return l=vn(e,e===Jt?l:0),l===0?null:(xp(e,l,n),Gp(e,sn()),e.callbackNode!=null&&e.callbackNode===s?Kp.bind(null,e):null)}function Yp(e,n){if(ga())return null;xp(e,n,!0)}function o0(e){_0(function(){(ne&6)!==0?kr(Ee,e):e()})}function Eh(){return ys===0&&(ys=Ka()),ys}function Xp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xn(""+e)}function Zp(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function u0(e,n,s,l,f){if(n==="submit"&&s&&s.stateNode===f){var d=Xp((f[Te]||null).action),v=l.submitter;v&&(n=(n=v[Te]||null)?Xp(n.formAction):v.getAttribute("formAction"),n!==null&&(d=n,v=null));var E=new js("action","action",null,l,f);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ys!==0){var w=v?Zp(f,v):new FormData(f);Nf(s,{pending:!0,data:w,method:f.method,action:d},null,w)}}else typeof d=="function"&&(E.preventDefault(),w=v?Zp(f,v):new FormData(f),Nf(s,{pending:!0,data:w,method:f.method,action:d},d,w))},currentTarget:f}]})}}for(var Th=0;Th<qm.length;Th++){var Sh=qm[Th],c0=Sh.toLowerCase(),f0=Sh[0].toUpperCase()+Sh.slice(1);Bn(c0,"on"+f0)}Bn(zm,"onAnimationEnd"),Bn(Bm,"onAnimationIteration"),Bn(Pm,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(DE,"onTransitionRun"),Bn(OE,"onTransitionStart"),Bn(NE,"onTransitionCancel"),Bn(km,"onTransitionEnd"),an("onMouseEnter",["mouseout","mouseover"]),an("onMouseLeave",["mouseout","mouseover"]),an("onPointerEnter",["pointerout","pointerover"]),an("onPointerLeave",["pointerout","pointerover"]),cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zl));function Jp(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],f=l.event;l=l.listeners;t:{var d=void 0;if(n)for(var v=l.length-1;0<=v;v--){var E=l[v],w=E.instance,M=E.currentTarget;if(E=E.listener,w!==d&&f.isPropagationStopped())break t;d=E,f.currentTarget=M;try{d(f)}catch(K){hu(K)}f.currentTarget=null,d=w}else for(v=0;v<l.length;v++){if(E=l[v],w=E.instance,M=E.currentTarget,E=E.listener,w!==d&&f.isPropagationStopped())break t;d=E,f.currentTarget=M;try{d(f)}catch(K){hu(K)}f.currentTarget=null,d=w}}}}function It(e,n){var s=n[qr];s===void 0&&(s=n[qr]=new Set);var l=e+"__bubble";s.has(l)||($p(n,e,2,!1),s.add(l))}function bh(e,n,s){var l=0;n&&(l|=4),$p(s,e,l,n)}var Cu="_reactListening"+Math.random().toString(36).slice(2);function Rh(e){if(!e[Cu]){e[Cu]=!0,Xa.forEach(function(s){s!=="selectionchange"&&(h0.has(s)||bh(s,!1,e),bh(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Cu]||(n[Cu]=!0,bh("selectionchange",!1,n))}}function $p(e,n,s,l){switch(Ey(n)){case 2:var f=B0;break;case 8:f=P0;break;default:f=Bh}s=f.bind(null,n,s,e),f=void 0,!Sn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(n,s,{capture:!0,passive:f}):e.addEventListener(n,s,!0):f!==void 0?e.addEventListener(n,s,{passive:f}):e.addEventListener(n,s,!1)}function wh(e,n,s,l,f){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===f||E.nodeType===8&&E.parentNode===f)break;if(v===4)for(v=l.return;v!==null;){var w=v.tag;if((w===3||w===4)&&(w=v.stateNode.containerInfo,w===f||w.nodeType===8&&w.parentNode===f))return;v=v.return}for(;E!==null;){if(v=zn(E),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){l=d=v;continue t}E=E.parentNode}}l=l.return}Io(function(){var M=d,K=ks(s),J=[];t:{var k=jm.get(e);if(k!==void 0){var Q=js,ht=e;switch(e){case"keypress":if(Jn(s)===0)break t;case"keydown":case"keyup":Q=Ks;break;case"focusin":ht="focus",Q=Fs;break;case"focusout":ht="blur",Q=Fs;break;case"beforeblur":case"afterblur":Q=Fs;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Jc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=ko;break;case zm:case Bm:case Pm:Q=Qs;break;case km:Q=qo;break;case"scroll":case"scrollend":Q=Mo;break;case"wheel":Q=Ys;break;case"copy":case"cut":case"paste":Q=Gs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=ll;break;case"toggle":case"beforetoggle":Q=Fo}var Tt=(n&4)!==0,oe=!Tt&&(e==="scroll"||e==="scrollend"),U=Tt?k!==null?k+"Capture":null:k;Tt=[];for(var I=M,B;I!==null;){var Y=I;if(B=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||B===null||U===null||(Y=Kr(I,U),Y!=null&&Tt.push(Bl(I,Y,B))),oe)break;I=I.return}0<Tt.length&&(k=new Q(k,ht,null,s,K),J.push({event:k,listeners:Tt}))}}if((n&7)===0){t:{if(k=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",k&&s!==Tn&&(ht=s.relatedTarget||s.fromElement)&&(zn(ht)||ht[pi]))break t;if((Q||k)&&(k=K.window===K?K:(k=K.ownerDocument)?k.defaultView||k.parentWindow:window,Q?(ht=s.relatedTarget||s.toElement,Q=M,ht=ht?zn(ht):null,ht!==null&&(oe=gt(ht),Tt=ht.tag,ht!==oe||Tt!==5&&Tt!==27&&Tt!==6)&&(ht=null)):(Q=null,ht=M),Q!==ht)){if(Tt=bn,Y="onMouseLeave",U="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(Tt=ll,Y="onPointerLeave",U="onPointerEnter",I="pointer"),oe=Q==null?k:er(Q),B=ht==null?k:er(ht),k=new Tt(Y,I+"leave",Q,s,K),k.target=oe,k.relatedTarget=B,Y=null,zn(K)===M&&(Tt=new Tt(U,I+"enter",ht,s,K),Tt.target=B,Tt.relatedTarget=oe,Y=Tt),oe=Y,Q&&ht)e:{for(Tt=Q,U=ht,I=0,B=Tt;B;B=ya(B))I++;for(B=0,Y=U;Y;Y=ya(Y))B++;for(;0<I-B;)Tt=ya(Tt),I--;for(;0<B-I;)U=ya(U),B--;for(;I--;){if(Tt===U||U!==null&&Tt===U.alternate)break e;Tt=ya(Tt),U=ya(U)}Tt=null}else Tt=null;Q!==null&&Wp(J,k,Q,Tt,!1),ht!==null&&oe!==null&&Wp(J,oe,ht,Tt,!0)}}t:{if(k=M?er(M):window,Q=k.nodeName&&k.nodeName.toLowerCase(),Q==="select"||Q==="input"&&k.type==="file")var ft=wm;else if(be(k))if(Cm)ft=bE;else{ft=TE;var Ot=EE}else Q=k.nodeName,!Q||Q.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?M&&tl(M.elementType)&&(ft=wm):ft=SE;if(ft&&(ft=ft(e,M))){bi(J,ft,s,K);break t}Ot&&Ot(e,k,M),e==="focusout"&&M&&k.type==="number"&&M.memoizedProps.value!=null&&Ps(k,"number",k.value)}switch(Ot=M?er(M):window,e){case"focusin":(be(Ot)||Ot.contentEditable==="true")&&(Xs=Ot,nf=M,cl=null);break;case"focusout":cl=nf=Xs=null;break;case"mousedown":rf=!0;break;case"contextmenu":case"mouseup":case"dragend":rf=!1,Um(J,s,K);break;case"selectionchange":if(CE)break;case"keydown":case"keyup":Um(J,s,K)}var mt;if(ti)t:{switch(e){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else xt?H(e,s)&&(_t="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(_t="onCompositionStart");_t&&(_&&s.locale!=="ko"&&(xt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&xt&&(mt=nl()):(Zn=K,lr="value"in Zn?Zn.value:Zn.textContent,xt=!0)),Ot=Du(M,_t),0<Ot.length&&(_t=new sl(_t,e,null,s,K),J.push({event:_t,listeners:Ot}),mt?_t.data=mt:(mt=et(s),mt!==null&&(_t.data=mt)))),(mt=m?Se(e,s):Ut(e,s))&&(_t=Du(M,"onBeforeInput"),0<_t.length&&(Ot=new sl("onBeforeInput","beforeinput",null,s,K),J.push({event:Ot,listeners:_t}),Ot.data=mt)),u0(J,e,M,s,K)}Jp(J,n)})}function Bl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Du(e,n){for(var s=n+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Kr(e,s),f!=null&&l.unshift(Bl(e,f,d)),f=Kr(e,n),f!=null&&l.push(Bl(e,f,d))),e=e.return}return l}function ya(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wp(e,n,s,l,f){for(var d=n._reactName,v=[];s!==null&&s!==l;){var E=s,w=E.alternate,M=E.stateNode;if(E=E.tag,w!==null&&w===l)break;E!==5&&E!==26&&E!==27||M===null||(w=M,f?(M=Kr(s,d),M!=null&&v.unshift(Bl(s,M,w))):f||(M=Kr(s,d),M!=null&&v.push(Bl(s,M,w)))),s=s.return}v.length!==0&&e.push({event:n,listeners:v})}var d0=/\r\n?/g,m0=/\u0000|\uFFFD/g;function ty(e){return(typeof e=="string"?e:""+e).replace(d0,`
`).replace(m0,"")}function ey(e,n){return n=ty(n),ty(e)===n}function Ou(){}function Xt(e,n,s,l,f,d){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||En(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&En(e,""+l);break;case"className":rr(e,"class",l);break;case"tabIndex":rr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":rr(e,s,l);break;case"style":Vo(e,l,d);break;case"data":if(n!=="object"){rr(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Xn(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(n!=="input"&&Xt(e,n,"name",f.name,f,null),Xt(e,n,"formEncType",f.formEncType,f,null),Xt(e,n,"formMethod",f.formMethod,f,null),Xt(e,n,"formTarget",f.formTarget,f,null)):(Xt(e,n,"encType",f.encType,f,null),Xt(e,n,"method",f.method,f,null),Xt(e,n,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Xn(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Ou);break;case"onScroll":l!=null&&It("scroll",e);break;case"onScrollEnd":l!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=Xn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":It("beforetoggle",e),It("toggle",e),ir(e,"popover",l);break;case"xlinkActuate":An(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":An(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":An(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":An(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":An(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":An(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":An(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":An(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":An(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ir(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Xc.get(s)||s,ir(e,s,l))}}function Ch(e,n,s,l,f,d){switch(s){case"style":Vo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?En(e,l):(typeof l=="number"||typeof l=="bigint")&&En(e,""+l);break;case"onScroll":l!=null&&It("scroll",e);break;case"onScrollEnd":l!=null&&It("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ou);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zs.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),n=s.slice(2,f?s.length-7:void 0),d=e[Te]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(n,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,f);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):ir(e,s,l)}}}function ke(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var l=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var v=s[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,d,v,s,null)}}f&&Xt(e,n,"srcSet",s.srcSet,s,null),l&&Xt(e,n,"src",s.src,s,null);return;case"input":It("invalid",e);var E=d=v=f=null,w=null,M=null;for(l in s)if(s.hasOwnProperty(l)){var K=s[l];if(K!=null)switch(l){case"name":f=K;break;case"type":v=K;break;case"checked":w=K;break;case"defaultChecked":M=K;break;case"value":d=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,n));break;default:Xt(e,n,l,K,s,null)}}Qr(e,d,E,w,M,v,f,!1),Fr(e);return;case"select":It("invalid",e),l=v=d=null;for(f in s)if(s.hasOwnProperty(f)&&(E=s[f],E!=null))switch(f){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Xt(e,n,f,E,s,null)}n=d,s=v,e.multiple=!!l,n!=null?kt(e,!!l,n,!1):s!=null&&kt(e,!!l,s,!0);return;case"textarea":It("invalid",e),d=f=l=null;for(v in s)if(s.hasOwnProperty(v)&&(E=s[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":f=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Xt(e,n,v,E,s,null)}ar(e,l,f,d),Fr(e);return;case"option":for(w in s)if(s.hasOwnProperty(w)&&(l=s[w],l!=null))switch(w){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(e,n,w,l,s,null)}return;case"dialog":It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(l=0;l<zl.length;l++)It(zl[l],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in s)if(s.hasOwnProperty(M)&&(l=s[M],l!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,M,l,s,null)}return;default:if(tl(n)){for(K in s)s.hasOwnProperty(K)&&(l=s[K],l!==void 0&&Ch(e,n,K,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Xt(e,n,E,l,s,null))}function g0(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,E=null,w=null,M=null,K=null;for(Q in s){var J=s[Q];if(s.hasOwnProperty(Q)&&J!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":w=J;default:l.hasOwnProperty(Q)||Xt(e,n,Q,null,l,J)}}for(var k in l){var Q=l[k];if(J=s[k],l.hasOwnProperty(k)&&(Q!=null||J!=null))switch(k){case"type":d=Q;break;case"name":f=Q;break;case"checked":M=Q;break;case"defaultChecked":K=Q;break;case"value":v=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:Q!==J&&Xt(e,n,k,Q,l,J)}}sr(e,v,E,w,M,K,d,f);return;case"select":Q=v=E=k=null;for(d in s)if(w=s[d],s.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":Q=w;default:l.hasOwnProperty(d)||Xt(e,n,d,null,l,w)}for(f in l)if(d=l[f],w=s[f],l.hasOwnProperty(f)&&(d!=null||w!=null))switch(f){case"value":k=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==w&&Xt(e,n,f,d,l,w)}n=E,s=v,l=Q,k!=null?kt(e,!!s,k,!1):!!l!=!!s&&(n!=null?kt(e,!!s,n,!0):kt(e,!!s,s?[]:"",!1));return;case"textarea":Q=k=null;for(E in s)if(f=s[E],s.hasOwnProperty(E)&&f!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,n,E,null,l,f)}for(v in l)if(f=l[v],d=s[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":k=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==d&&Xt(e,n,v,f,l,d)}Gr(e,k,Q);return;case"option":for(var ht in s)if(k=s[ht],s.hasOwnProperty(ht)&&k!=null&&!l.hasOwnProperty(ht))switch(ht){case"selected":e.selected=!1;break;default:Xt(e,n,ht,null,l,k)}for(w in l)if(k=l[w],Q=s[w],l.hasOwnProperty(w)&&k!==Q&&(k!=null||Q!=null))switch(w){case"selected":e.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Xt(e,n,w,k,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in s)k=s[Tt],s.hasOwnProperty(Tt)&&k!=null&&!l.hasOwnProperty(Tt)&&Xt(e,n,Tt,null,l,k);for(M in l)if(k=l[M],Q=s[M],l.hasOwnProperty(M)&&k!==Q&&(k!=null||Q!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:Xt(e,n,M,k,l,Q)}return;default:if(tl(n)){for(var oe in s)k=s[oe],s.hasOwnProperty(oe)&&k!==void 0&&!l.hasOwnProperty(oe)&&Ch(e,n,oe,void 0,l,k);for(K in l)k=l[K],Q=s[K],!l.hasOwnProperty(K)||k===Q||k===void 0&&Q===void 0||Ch(e,n,K,k,l,Q);return}}for(var U in s)k=s[U],s.hasOwnProperty(U)&&k!=null&&!l.hasOwnProperty(U)&&Xt(e,n,U,null,l,k);for(J in l)k=l[J],Q=s[J],!l.hasOwnProperty(J)||k===Q||k==null&&Q==null||Xt(e,n,J,k,l,Q)}var Dh=null,Oh=null;function Nu(e){return e.nodeType===9?e:e.ownerDocument}function ny(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Nh(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Vh=null;function p0(){var e=window.event;return e&&e.type==="popstate"?e===Vh?!1:(Vh=e,!0):(Vh=null,!1)}var ry=typeof setTimeout=="function"?setTimeout:void 0,y0=typeof clearTimeout=="function"?clearTimeout:void 0,sy=typeof Promise=="function"?Promise:void 0,_0=typeof queueMicrotask=="function"?queueMicrotask:typeof sy<"u"?function(e){return sy.resolve(null).then(e).catch(v0)}:ry;function v0(e){setTimeout(function(){throw e})}function Ih(e,n){var s=n,l=0;do{var f=s.nextSibling;if(e.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(l===0){e.removeChild(f),Gl(n);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=f}while(s);Gl(n)}function Mh(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Mh(s),Hr(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function A0(e,n,s,l){for(;e.nodeType===1;){var f=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[tr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function E0(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=jn(e.nextSibling),e===null))return null;return e}function jn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}function ay(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}function ly(e,n,s){switch(n=Nu(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}var xn=new Map,oy=new Set;function Vu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Pi=ot.d;ot.d={f:T0,r:S0,D:b0,C:R0,L:w0,m:C0,X:O0,S:D0,M:N0};function T0(){var e=Pi.f(),n=Su();return e||n}function S0(e){var n=yi(e);n!==null&&n.tag===5&&n.type==="form"?Ug(n):Pi.r(e)}var _a=typeof document>"u"?null:document;function uy(e,n,s){var l=_a;if(l&&typeof n=="string"&&n){var f=se(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),oy.has(f)||(oy.add(f),e={rel:e,crossOrigin:s,href:n},l.querySelector(f)===null&&(n=l.createElement("link"),ke(n,"link",e),te(n),l.head.appendChild(n)))}}function b0(e){Pi.D(e),uy("dns-prefetch",e,null)}function R0(e,n){Pi.C(e,n),uy("preconnect",e,n)}function w0(e,n,s){Pi.L(e,n,s);var l=_a;if(l&&e&&n){var f='link[rel="preload"][as="'+se(n)+'"]';n==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+se(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+se(s.imageSizes)+'"]')):f+='[href="'+se(e)+'"]';var d=f;switch(n){case"style":d=va(e);break;case"script":d=Aa(e)}xn.has(d)||(e=D({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),xn.set(d,e),l.querySelector(f)!==null||n==="style"&&l.querySelector(Pl(d))||n==="script"&&l.querySelector(kl(d))||(n=l.createElement("link"),ke(n,"link",e),te(n),l.head.appendChild(n)))}}function C0(e,n){Pi.m(e,n);var s=_a;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+se(l)+'"][href="'+se(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Aa(e)}if(!xn.has(d)&&(e=D({rel:"modulepreload",href:e},n),xn.set(d,e),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(kl(d)))return}l=s.createElement("link"),ke(l,"link",e),te(l),s.head.appendChild(l)}}}function D0(e,n,s){Pi.S(e,n,s);var l=_a;if(l&&e){var f=nr(l).hoistableStyles,d=va(e);n=n||"default";var v=f.get(d);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(Pl(d)))E.loading=5;else{e=D({rel:"stylesheet",href:e,"data-precedence":n},s),(s=xn.get(d))&&xh(e,s);var w=v=l.createElement("link");te(w),ke(w,"link",e),w._p=new Promise(function(M,K){w.onload=M,w.onerror=K}),w.addEventListener("load",function(){E.loading|=1}),w.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Iu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:E},f.set(d,v)}}}function O0(e,n){Pi.X(e,n);var s=_a;if(s&&e){var l=nr(s).hoistableScripts,f=Aa(e),d=l.get(f);d||(d=s.querySelector(kl(f)),d||(e=D({src:e,async:!0},n),(n=xn.get(f))&&Uh(e,n),d=s.createElement("script"),te(d),ke(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function N0(e,n){Pi.M(e,n);var s=_a;if(s&&e){var l=nr(s).hoistableScripts,f=Aa(e),d=l.get(f);d||(d=s.querySelector(kl(f)),d||(e=D({src:e,async:!0,type:"module"},n),(n=xn.get(f))&&Uh(e,n),d=s.createElement("script"),te(d),ke(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function cy(e,n,s,l){var f=(f=_n.current)?Vu(f):null;if(!f)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=va(s.href),s=nr(f).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=va(s.href);var d=nr(f).hoistableStyles,v=d.get(e);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=f.querySelector(Pl(e)))&&!d._p&&(v.instance=d,v.state.loading=5),xn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},xn.set(e,s),d||V0(f,e,s,v.state))),n&&l===null)throw Error(a(528,""));return v}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Aa(s),s=nr(f).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function va(e){return'href="'+se(e)+'"'}function Pl(e){return'link[rel="stylesheet"]['+e+"]"}function fy(e){return D({},e,{"data-precedence":e.precedence,precedence:null})}function V0(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ke(n,"link",s),te(n),e.head.appendChild(n))}function Aa(e){return'[src="'+se(e)+'"]'}function kl(e){return"script[async]"+e}function hy(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+se(s.href)+'"]');if(l)return n.instance=l,te(l),l;var f=D({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),te(l),ke(l,"style",f),Iu(l,s.precedence,e),n.instance=l;case"stylesheet":f=va(s.href);var d=e.querySelector(Pl(f));if(d)return n.state.loading|=4,n.instance=d,te(d),d;l=fy(s),(f=xn.get(f))&&xh(l,f),d=(e.ownerDocument||e).createElement("link"),te(d);var v=d;return v._p=new Promise(function(E,w){v.onload=E,v.onerror=w}),ke(d,"link",l),n.state.loading|=4,Iu(d,s.precedence,e),n.instance=d;case"script":return d=Aa(s.src),(f=e.querySelector(kl(d)))?(n.instance=f,te(f),f):(l=s,(f=xn.get(d))&&(l=D({},s),Uh(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),te(f),ke(f,"link",l),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Iu(l,s.precedence,e));return n.instance}function Iu(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===n)d=E;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function xh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Uh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Mu=null;function dy(e,n,s){if(Mu===null){var l=new Map,f=Mu=new Map;f.set(s,l)}else f=Mu,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),f=0;f<s.length;f++){var d=s[f];if(!(d[tr]||d[Ne]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(n)||"";v=e+v;var E=l.get(v);E?E.push(d):l.set(v,[d])}}return l}function my(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function I0(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function gy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var jl=null;function M0(){}function x0(e,n,s){if(jl===null)throw Error(a(475));var l=jl;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=va(s.href),d=e.querySelector(Pl(f));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=xu.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=d,te(d);return}d=e.ownerDocument||e,s=fy(s),(f=xn.get(f))&&xh(s,f),d=d.createElement("link"),te(d);var v=d;v._p=new Promise(function(E,w){v.onload=E,v.onerror=w}),ke(d,"link",s),n.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=xu.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function U0(){if(jl===null)throw Error(a(475));var e=jl;return e.stylesheets&&e.count===0&&Lh(e,e.stylesheets),0<e.count?function(n){var s=setTimeout(function(){if(e.stylesheets&&Lh(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s)}}:null}function xu(){if(this.count--,this.count===0){if(this.stylesheets)Lh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Uu=null;function Lh(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Uu=new Map,n.forEach(L0,e),Uu=null,xu.call(e))}function L0(e,n){if(!(n.state.loading&4)){var s=Uu.get(e);if(s)var l=s.get(null);else{s=new Map,Uu.set(e,s);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),l=v)}l&&s.set(null,l)}f=n.instance,v=f.getAttribute("data-precedence"),d=s.get(v)||l,d===l&&s.set(null,f),s.set(v,f),this.count++,l=xu.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var ql={$$typeof:P,Provider:null,Consumer:null,_currentValue:Ct,_currentValue2:Ct,_threadCount:0};function z0(e,n,s,l,f,d,v,E){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Us(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Us(0),this.hiddenUpdates=Us(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function py(e,n,s,l,f,d,v,E,w,M,K,J){return e=new z0(e,n,s,v,E,w,M,J),n=1,d===!0&&(n|=24),d=In(3,null,null,n),e.current=d,d.stateNode=e,n=mf(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:n},Yf(d),e}function yy(e){return e?(e=$s,e):$s}function _y(e,n,s,l,f,d){f=yy(f),l.context===null?l.context=f:l.pendingContext=f,l=gr(n),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=pr(e,l,n),s!==null&&(nn(s,e,n),Rl(s,e,n))}function vy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function zh(e,n){vy(e,n),(e=e.alternate)&&vy(e,n)}function Ay(e){if(e.tag===13){var n=or(e,67108864);n!==null&&nn(n,e,67108864),zh(e,67108864)}}var Lu=!0;function B0(e,n,s,l){var f=b.T;b.T=null;var d=ot.p;try{ot.p=2,Bh(e,n,s,l)}finally{ot.p=d,b.T=f}}function P0(e,n,s,l){var f=b.T;b.T=null;var d=ot.p;try{ot.p=8,Bh(e,n,s,l)}finally{ot.p=d,b.T=f}}function Bh(e,n,s,l){if(Lu){var f=Ph(l);if(f===null)wh(e,n,l,zu,s),Ty(e,l);else if(j0(f,e,n,s,l))l.stopPropagation();else if(Ty(e,l),n&4&&-1<k0.indexOf(e)){for(;f!==null;){var d=yi(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Ln(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var w=1<<31-$e(v);E.entanglements[1]|=w,v&=~w}ai(d),(ne&6)===0&&(Au=sn()+500,Ll(0))}}break;case 13:E=or(d,2),E!==null&&nn(E,d,2),Su(),zh(d,2)}if(d=Ph(l),d===null&&wh(e,n,l,zu,s),d===f)break;f=d}f!==null&&l.stopPropagation()}else wh(e,n,l,null,s)}}function Ph(e){return e=ks(e),kh(e)}var zu=null;function kh(e){if(zu=null,e=zn(e),e!==null){var n=gt(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=Ft(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return zu=e,null}function Ey(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(To()){case Ee:return 2;case Oe:return 8;case gi:case So:return 32;case Fa:return 268435456;default:return 32}default:return 32}}var jh=!1,Sr=null,br=null,Rr=null,Hl=new Map,Fl=new Map,wr=[],k0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ty(e,n){switch(e){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":Hl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(n.pointerId)}}function Ql(e,n,s,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},n!==null&&(n=yi(n),n!==null&&Ay(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function j0(e,n,s,l,f){switch(n){case"focusin":return Sr=Ql(Sr,e,n,s,l,f),!0;case"dragenter":return br=Ql(br,e,n,s,l,f),!0;case"mouseover":return Rr=Ql(Rr,e,n,s,l,f),!0;case"pointerover":var d=f.pointerId;return Hl.set(d,Ql(Hl.get(d)||null,e,n,s,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Fl.set(d,Ql(Fl.get(d)||null,e,n,s,l,f)),!0}return!1}function Sy(e){var n=zn(e.target);if(n!==null){var s=gt(n);if(s!==null){if(n=s.tag,n===13){if(n=Ft(s),n!==null){e.blockedOn=n,Wi(e.priority,function(){if(s.tag===13){var l=pn(),f=or(s,l);f!==null&&nn(f,s,l),zh(s,l)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Ph(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Tn=l,s.target.dispatchEvent(l),Tn=null}else return n=yi(s),n!==null&&Ay(n),e.blockedOn=s,!1;n.shift()}return!0}function by(e,n,s){Bu(e)&&s.delete(n)}function q0(){jh=!1,Sr!==null&&Bu(Sr)&&(Sr=null),br!==null&&Bu(br)&&(br=null),Rr!==null&&Bu(Rr)&&(Rr=null),Hl.forEach(by),Fl.forEach(by)}function Pu(e,n){e.blockedOn===n&&(e.blockedOn=null,jh||(jh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,q0)))}var ku=null;function Ry(e){ku!==e&&(ku=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ku===e&&(ku=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],f=e[n+2];if(typeof l!="function"){if(kh(l||s)===null)continue;break}var d=yi(s);d!==null&&(e.splice(n,3),n-=3,Nf(d,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function Gl(e){function n(w){return Pu(w,e)}Sr!==null&&Pu(Sr,e),br!==null&&Pu(br,e),Rr!==null&&Pu(Rr,e),Hl.forEach(n),Fl.forEach(n);for(var s=0;s<wr.length;s++){var l=wr[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<wr.length&&(s=wr[0],s.blockedOn===null);)Sy(s),s.blockedOn===null&&wr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],d=s[l+1],v=f[Te]||null;if(typeof d=="function")v||Ry(s);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[Te]||null)E=v.formAction;else if(kh(f)!==null)continue}else E=v.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),Ry(s)}}}function qh(e){this._internalRoot=e}ju.prototype.render=qh.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=pn();_y(s,l,e,n,null,null)},ju.prototype.unmount=qh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;e.tag===0&&ga(),_y(e.current,2,null,e,null,null),Su(),n[pi]=null}};function ju(e){this._internalRoot=e}ju.prototype.unstable_scheduleHydration=function(e){if(e){var n=Do();e={blockedOn:null,target:e,priority:n};for(var s=0;s<wr.length&&n!==0&&n<wr[s].priority;s++);wr.splice(s,0,e),s===0&&Sy(e)}};var wy=t.version;if(wy!=="19.0.0")throw Error(a(527,wy,"19.0.0"));ot.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=W(n),e=e!==null?dt(e):null,e=e===null?null:e.stateNode,e};var H0={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:zn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qu.isDisabled&&qu.supportsFiber)try{Ki=qu.inject(H0),Fe=qu}catch{}}return Yl.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",f=Hg,d=Fg,v=Qg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=py(e,1,!1,null,null,s,l,f,d,v,E,null),e[pi]=n.current,Rh(e.nodeType===8?e.parentNode:e),new qh(n)},Yl.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,f="",d=Hg,v=Fg,E=Qg,w=null,M=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(w=s.unstable_transitionCallbacks),s.formState!==void 0&&(M=s.formState)),n=py(e,1,!0,n,s??null,l,f,d,v,E,w,M),n.context=yy(null),s=n.current,l=pn(),f=gr(l),f.callback=null,pr(s,f,l),n.current.lanes=l,ue(n,l),ai(n),e[pi]=n.current,Rh(e),new ju(n)},Yl.version="19.0.0",Yl}var Ly;function W0(){if(Ly)return Qh.exports;Ly=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Qh.exports=$0(),Qh.exports}var tT=W0();const eT="/foro2/assets/comments-icon-CuowrxTb.png",Xh="/foro2/assets/unliked-icon-BwPTvUiS.png",Zh="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXgAAAFmCAYAAABnQYFNAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAWdEVYdFNvZnR3YXJlAFBhaW50Lk5FVCA1LjH3g/eTAAAAtGVYSWZJSSoACAAAAAUAGgEFAAEAAABKAAAAGwEFAAEAAABSAAAAKAEDAAEAAAADAAAAMQECAA4AAABaAAAAaYcEAAEAAABoAAAAAAAAAKOTAADoAwAAo5MAAOgDAABQYWludC5ORVQgNS4xAAMAAJAHAAQAAAAwMjMwAaADAAEAAAABAAAABaAEAAEAAACSAAAAAAAAAAIAAQACAAQAAABSOTgAAgAHAAQAAAAwMTAwAAAAABU9XsNJigOlAAANuUlEQVR4Xu3dTXIcxRaAUUywFSYM8FJgC16ZtwBLMQMmbIUAOq0sI8vdUv3k781zJu0mggGhzI/LrXp63wEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMB+7/InA/nj/fufbh8fnr4d8vHnT5/+zH+Gy5zFuQl8B29dmnc//PPLv39//2P+utvt7/vr9vf9nr8+4uLx2Z54VzyLzmEDAl/ZvUt09tKU8ODiuWzBOYdrEviCRrtEe925bC7a5F6exUnPYeIsXiDwFz2/SDNcoj0Efz4zBn2PF2fROTxI4E+IGPXXuGRjcg6dw7cI/E6rXaZHXLK+nMMnzuE+Av+G7UKtfJkeeXbJXLDKnMPHnMPHBP4BF2q/ZxcscckKMa0fI/TfEvgXhP0al+w6Z/AaZ/B/Ap+5VGW5ZMc5g2U5gwLvUlXmkr3NGaxr5TO4bOBdqraE/lvOYFsrnsHlAu9S9SX0zmBvK53BpQKfLtbth/ubS9XfiqEX9rHkM/hr5PO3ROBdrHGtcMkSw8WY8vkLO2iED7yLNb7Il8xwMYd8BsMNGmED72LNJ1Lonb/5RDp/m5CBN7XPLV+0aacp529us5+/58IF3uWKIV+yqaYpU3scUSIfJvAuV0yzXDSDRTz57E29sgkReJcrttEj7/zFNvr5e830gXe51pAv2VDTlP9qXMeskZ868OK+nlEumrO3nhkjP23gXbB19b5ozt66Zov8lIF3weh10Zw9Zor8dIF3wdi0vmjOHptZIj9V4F0wXsoXrerD13Tubh8epvKVGSI/TeDFndfUumzOHa8ZPfJTBN4lY4/Sl825Y4+RIz984F0yjih12Zw7jhg18kMH3iXjjKuXzbnjjBEjP2zgXTKuOHvZnDuuGC3yQwbeJaOEo5fNuaOEkSI/XOBdMkrae9mcO0oaJfJDBd4lo4a3LptzRw0jRP77/DmKDy4ZpaUzlQKeQp7/0hfiTi35TH14+tbHMIHPF+2X/BWKuhd5cae21LR7g0UrQ6xoXDRauZ2zz//ZnP/szFHdduZ6rGq6B17caS1duPTpzNFKr8iPsKKxd6epdN6cOVrK5635Pr5r4PP0bu8OhJda13of321FYzUDrKb1qqZL4MUdWFXLyPda0di7A0vK7Wuyj28eeHt3YHWpgS328U1XNFYzAE9arGpaT/BWMwA3LVY1zQJvNQPwtdqrmpYTvOkd4JnaU3yTwJveAe6rOcVXf8jqwSrA626NrPLAtcUEbzUD8Ipaq5qqgbeaAdinxqqm9gRvegfYocYUXy3wpneAY0pP8TUneNM7wAGlp/gqgTe9A5xTcoqvNcGb3gFOKDnFFw+86R3gmlJTfI0J3vQOcEGpKb5o4E3vAGWUmOJLT/Cmd4ACSkzxtR6yAtBZscBbzwCUdXVNU3KCt54BKOjqmqZI4E3vAHVcmeJLTfCmd4AKrkzxHrICBHU58NYzAHWdXdOUmOCtZwAqOrumsaIBCOpS4K1nANo4s6a5OsFbzwA0cGZNY0UDENTpwFvPALR1dE1zZYK3ngFo6OiaxooGICiBBwjqVODt3wH6OLKHPzvB278DdHBkD29FAxCUwAMEJfAAk9m7hz8ceA9YAfrau4c/M8F7wAowASsagKAEHiAogQcISuABgjoUeG/QAIxhz6uSRyd4b9AADGDPq5JWNABBCTxAUAIPEJTAAwQl8ABBCTxAUAIPEJTAAwQl8ABBCTxAUAIPEJTAAwQl8ABBCTxAUAIPEJTAAwQl8ABBCTxAUAIPEJTAAwQl8ABBCTxAUAIPENTRwH9898M/f+U/A9BJbvHHp2/3HQr8z58+/fnv39//nr8C0ElqcWpy/nqXFQ1AUAIPEJTAAwQl8ABBCTxAUGcC71VJgI72vCKZHA68VyUB+trzimRiRQMQlMADBCXwAEGdDbwHrQAd7H3AmpwKvAetAH3sfcCaWNEABCXwAEFdCbw9PEBDR/bvyenA28MDtHVk/55Y0QAEJfAAQV0NvD08QANH9+/JpcDbwwO0cXT/nljRAARVIvDWNAAVnVnPJJcDb00DUNeZ9UxiRQMQVKnAW9MAVHB2PZMUCbw1DUAdZ9cziRUNQFAlA29NA1DQlfVMUizw1jQAZV1ZzyRWNABBlQ68NQ1AAVfXM0nRwFvTAJRxdT2TWNEABFUj8NY0ABeUWM8kxQNvTQNwTYn1TFJrRWOKBzih1PSeVAm8KR7gnFLTe1LzIaspHuCAktN7Ui3wpniAY0pO70nNCR6AjmoH3poGYIfS65mkauCtaQD2Kb2eSVqsaEzxAK+oMb0n1QNvigd4XY3pPWn1kNUUD3BHrek9aRJ4UzzAfbWm96TVBJ+Y4gGeqTm9J80Cb4oH+FrN6T1pOcEnpniAm9rTe9I08KZ4gCe1p/ek9QSfmOKBpbWY3pPmgTfFA6trMb0nPSb4xBQPLKnV9J68y5/N/fH+/U+3f9Dfbv8m+zH/JYDQUtxvzfu1xfSe9JrgrWqA5bRazWy6BT6zqgGW0HI1s+kaeFM8sIrW03vSe4JPTPFAaD2m96R74E3xQHQ9pvdkhAk+McUDIfWa3pNur0m+5LVJIJoU91vTmr0W+dIoE7xVDRBOr9XMZpjAZ1Y1QAg9VzObYVY0G6saYHa9VzOb0SZ4qxpger1XM5vhAp9Z1QBTGmE1sxky8KZ4YFajTO/JqBN8YooHpjLS9J4M95D1OQ9cgVmkuN9a1f3B6nMjT/BWNcA0RlrNbIYOfGZVAwxttNXMZugVzcaqBhjViKuZzQwTvFUNMKwRVzObKQKfWdUAQxl1NbOZYkWzsaoBRjHyamYzVeATkQd6myHuyUwrms/s44HeUoNGj3syXeAz+3igi9yeYffuz023otlY1QCtzbKa2Uwb+ETkgVZmi3sy64rmM/t4oJXUmpninkwd+Mw+HqgqN2aKvftzU69oNlY1QC0zrmY2IQKfiDxQ2sxxTyKsaD6zjwdKS02ZNe5JmMBn9vFAEbkl0+3dnwuzotlY1QBXzb6a2YQLfCLywFlR4p5EW9F8Zh8PnJXaESHuScjAZ/bxwCG5GVPv3Z8LuaLZWNUAe0VazWxCBz4ReeAtEeOehA98IvLAI1HjniwR+ETkgZcixz2J/JD1K+kHePtBerMG+CI1IWrck2UCn3mzBvgstyDMGzP3LLOi2VjVANFXM5vlAp+IPKxrlbgnSwY+EXlYz0pxT5YNfCLysI7V4p4sHfhE5CG+FeOerPYWzTfSD/z2g/f6JASW7vhqcU+WD3zm9UkIKt/t0K9DPrL8imZjVQPxrLqa2Qj8MyIPcawe90TgXxB5mJ+4PxH4O0Qe5iXu/xP4B0Qe5iPuXxP4V4g8zEPcvyXwbxB5GJ+43yfwO4g8jEvcHxP4nUQexiPur/O/ZN0pHaDbQfIrDWAg6U6K+2MCf4xfaQCDyHdxyV9BsJcVzUFWNdCf1cw+An+CyEM/4r6fwJ8k8tCeuB8j8BeIPLQj7scJ/EUiD/WJ+zkCX4DIQz3ifp7AFyLyUJ64XyPwBYk8lCPu1wl8YSIP14l7GQJfgcjDeeJejsBXIvJwnLiXJfAViTzsJ+7lCXxlIg9vE/c6BL4BkYfHxL0egW9E5OFb4l6XwDck8vA/ca9P4BsTeRD3VgS+A5FnZeLejsB3IvKsSNzbEviOUuRvHx9uh/4XoSeyHPb0f1r/UdzbEfgBmOaJzNTej8APQuSJSNz7EviBiDyRiHt/Aj8YkScCcR+DwA9I5JmZuI9D4Acl8sxI3Mci8AMTeWYi7uMR+MGJPDMQ9zEJ/AREnpGJ+7gEfhIiz4jEfWwCPxGRZyTiPj6Bn0yK/O3D76+hmxx2v1dmAgI/KdM8PZja5yLwExN5WhL3+Qj85ESeFsR9TgIfgMhTk7jPS+CDEHlqEPe5CXwgIk9J4j4/gQ8mRf724TVKTsth9xpkAAIflGmeM0ztsQh8YCLPEeIej8AHJ/LsIe4xCfwCRJ7XiHtcAr8IkececY9N4BeSIn/78IYNW9i9KROcwC/INL82U/s6BH5RIr8mcV+LwC9M5Nci7usR+MWJ/BrEfU0Cj4evgeWwe5i6KIHnC9N8LKZ2BJ6viHwM4k4i8HxD5Ocm7mwEnrvs5eeTw27fzhcCz6tM83MwtXOPwPMmkR+buPOIwLOLyI9J3HmNwLObvfw4ctjt23mVwHOYab4vUzt7CTyniHwf4s4RAs9pIt+WuHOUwHOJvXx9Oez27Rwm8BRhmq/D1M4VAk8xIl+WuHOVwFOUlc11OexWMlwm8FRhmj/H1E5JAk81In+MuFOawFOVyO8j7tQg8FRnL/9YDrt9O1UIPM2Y5r9maqc2gacpkX8i7rQg8DS38somh91KhiYEnm5Wm+ZN7bQm8HS1SuTFnR4Enu4ir2xy2K1k6ELgGUa0ad7UTm8Cz1CiRF7cGYHAM5yZVzY57FYyDEHgGdZs07ypndEIPEObJfLizogEnuGNvLLJYbeSYUgCzzRGm+ZN7YxO4JnKKJEXd2Yg8Eyn58omh91KhikIPNNqPc2b2pmNwDO1VpEXd2Yk8Eyv5somh91KhikJPGGUnuZN7cxO4AmlxDRvaicKgSeks9O8qZ1IBJ6wjkZe3IlG4Altz8omh91KhnAEniU8muZN7UQm8Cxjm+afvn1hagcAAAAAAAAAAAAAAAAAADjgu+/+A5NUlBYhmrprAAAAAElFTkSuQmCC",nT=()=>{};var zy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},iT=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],h=r[i++],g=r[i++],y=((o&7)<<18|(c&63)<<12|(h&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],h=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return t.join("")},ov={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],h=o+1<r.length,g=h?r[o+1]:0,y=o+2<r.length,p=y?r[o+2]:0,A=c>>2,S=(c&3)<<4|g>>4;let V=(g&15)<<2|p>>6,P=p&63;y||(P=64,h||(V=64)),a.push(i[A],i[S],i[V],i[P])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(lv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):iT(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const p=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||p==null||S==null)throw new rT;const V=c<<2|g>>4;if(a.push(V),p!==64){const P=g<<4&240|p>>2;if(a.push(P),S!==64){const q=p<<6&192|S;a.push(q)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class rT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sT=function(r){const t=lv(r);return ov.encodeByteArray(t,!0)},ic=function(r){return sT(r).replace(/\./g,"")},aT=function(r){try{return ov.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=()=>lT().__FIREBASE_DEFAULTS__,uT=()=>{if(typeof process>"u"||typeof zy>"u")return;const r=zy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},cT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&aT(r[1]);return t&&JSON.parse(t)},zd=()=>{try{return nT()||oT()||uT()||cT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},fT=r=>{var t,i;return(i=(t=zd())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},hT=r=>{const t=fT(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},uv=()=>{var r;return(r=zd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[ic(JSON.stringify(i)),ic(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pT(){var r;const t=(r=zd())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yT(){return!pT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _T(){try{return typeof indexedDB=="object"}catch{return!1}}function vT(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;t(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="FirebaseError";class Ua extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=AT,Object.setPrototypeOf(this,Ua.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cv.prototype.create)}}class cv{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],h=c?ET(c,a):"Error",g=`${this.serviceName}: ${h} (${o}).`;return new Ua(o,g,a)}}function ET(r,t){return r.replace(TT,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const TT=/\{\$([^}]+)}/g;function rc(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=r[o],h=t[o];if(By(c)&&By(h)){if(!rc(c,h))return!1}else if(c!==h)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function By(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(r){return r&&r._delegate?r._delegate:r}class ro{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new dT;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(RT(t))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=_s){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=_s){return this.instances.has(t)}getOptions(t=_s){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,h]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&h.resolve(o)}return o}onInit(t,i){var a;const o=this.normalizeInstanceIdentifier(i),c=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;c.add(t),this.onInitCallbacks.set(o,c);const h=this.instances.get(o);return h&&t(h,o),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:bT(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=_s){return this.component?this.component.multipleInstances?t:_s:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bT(r){return r===_s?void 0:r}function RT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new ST(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Bt||(Bt={}));const CT={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},DT=Bt.INFO,OT={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},NT=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=OT[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class fv{constructor(t){this.name=t,this._logLevel=DT,this._logHandler=NT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?CT[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const VT=(r,t)=>t.some(i=>r instanceof i);let Py,ky;function IT(){return Py||(Py=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MT(){return ky||(ky=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hv=new WeakMap,ud=new WeakMap,dv=new WeakMap,Jh=new WeakMap,Bd=new WeakMap;function xT(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",h)},c=()=>{i(Or(r.result)),o()},h=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&hv.set(i,r)}).catch(()=>{}),Bd.set(t,r),t}function UT(r){if(ud.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",h),r.removeEventListener("abort",h)},c=()=>{i(),o()},h=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",h),r.addEventListener("abort",h)});ud.set(r,t)}let cd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return ud.get(r);if(t==="objectStoreNames")return r.objectStoreNames||dv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Or(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function LT(r){cd=r(cd)}function zT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call($h(this),t,...i);return dv.set(a,t.sort?t.sort():[t]),Or(a)}:MT().includes(r)?function(...t){return r.apply($h(this),t),Or(hv.get(this))}:function(...t){return Or(r.apply($h(this),t))}}function BT(r){return typeof r=="function"?zT(r):(r instanceof IDBTransaction&&UT(r),VT(r,IT())?new Proxy(r,cd):r)}function Or(r){if(r instanceof IDBRequest)return xT(r);if(Jh.has(r))return Jh.get(r);const t=BT(r);return t!==r&&(Jh.set(r,t),Bd.set(t,r)),t}const $h=r=>Bd.get(r);function PT(r,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const h=indexedDB.open(r,t),g=Or(h);return a&&h.addEventListener("upgradeneeded",y=>{a(Or(h.result),y.oldVersion,y.newVersion,Or(h.transaction),y)}),i&&h.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),g}const kT=["get","getKey","getAll","getAllKeys","count"],jT=["put","add","delete","clear"],Wh=new Map;function jy(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Wh.get(t))return Wh.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=jT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||kT.includes(i)))return;const c=async function(h,...g){const y=this.transaction(h,o?"readwrite":"readonly");let p=y.store;return a&&(p=p.index(g.shift())),(await Promise.all([p[i](...g),o&&y.done]))[0]};return Wh.set(t,c),c}LT(r=>({...r,get:(t,i,a)=>jy(t,i)||r.get(t,i,a),has:(t,i)=>!!jy(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(HT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function HT(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const fd="@firebase/app",qy="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new fv("@firebase/app"),FT="@firebase/app-compat",QT="@firebase/analytics-compat",GT="@firebase/analytics",KT="@firebase/app-check-compat",YT="@firebase/app-check",XT="@firebase/auth",ZT="@firebase/auth-compat",JT="@firebase/database",$T="@firebase/data-connect",WT="@firebase/database-compat",tS="@firebase/functions",eS="@firebase/functions-compat",nS="@firebase/installations",iS="@firebase/installations-compat",rS="@firebase/messaging",sS="@firebase/messaging-compat",aS="@firebase/performance",lS="@firebase/performance-compat",oS="@firebase/remote-config",uS="@firebase/remote-config-compat",cS="@firebase/storage",fS="@firebase/storage-compat",hS="@firebase/firestore",dS="@firebase/vertexai",mS="@firebase/firestore-compat",gS="firebase",pS="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd="[DEFAULT]",yS={[fd]:"fire-core",[FT]:"fire-core-compat",[GT]:"fire-analytics",[QT]:"fire-analytics-compat",[YT]:"fire-app-check",[KT]:"fire-app-check-compat",[XT]:"fire-auth",[ZT]:"fire-auth-compat",[JT]:"fire-rtdb",[$T]:"fire-data-connect",[WT]:"fire-rtdb-compat",[tS]:"fire-fn",[eS]:"fire-fn-compat",[nS]:"fire-iid",[iS]:"fire-iid-compat",[rS]:"fire-fcm",[sS]:"fire-fcm-compat",[aS]:"fire-perf",[lS]:"fire-perf-compat",[oS]:"fire-rc",[uS]:"fire-rc-compat",[cS]:"fire-gcs",[fS]:"fire-gcs-compat",[hS]:"fire-fst",[mS]:"fire-fst-compat",[dS]:"fire-vertex","fire-js":"fire-js",[gS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=new Map,_S=new Map,dd=new Map;function Hy(r,t){try{r.container.addComponent(t)}catch(i){qi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function ac(r){const t=r.name;if(dd.has(t))return qi.debug(`There were multiple attempts to register component ${t}.`),!1;dd.set(t,r);for(const i of sc.values())Hy(i,r);for(const i of _S.values())Hy(i,r);return!0}function vS(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function AS(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nr=new cv("app","Firebase",ES);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(t,i,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Nr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=pS;function mv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a=Object.assign({name:hd,automaticDataCollectionEnabled:!1},t),o=a.name;if(typeof o!="string"||!o)throw Nr.create("bad-app-name",{appName:String(o)});if(i||(i=uv()),!i)throw Nr.create("no-options");const c=sc.get(o);if(c){if(rc(i,c.options)&&rc(a,c.config))return c;throw Nr.create("duplicate-app",{appName:o})}const h=new wT(o);for(const y of dd.values())h.addComponent(y);const g=new TS(i,a,h);return sc.set(o,g),g}function bS(r=hd){const t=sc.get(r);if(!t&&r===hd&&uv())return mv();if(!t)throw Nr.create("no-app",{appName:r});return t}function Ra(r,t,i){var a;let o=(a=yS[r])!==null&&a!==void 0?a:r;i&&(o+=`-${i}`);const c=o.match(/\s|\//),h=t.match(/\s|\//);if(c||h){const g=[`Unable to register library "${o}" with version "${t}":`];c&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&h&&g.push("and"),h&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),qi.warn(g.join(" "));return}ac(new ro(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="firebase-heartbeat-database",wS=1,so="firebase-heartbeat-store";let td=null;function gv(){return td||(td=PT(RS,wS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(so)}catch(i){console.warn(i)}}}}).catch(r=>{throw Nr.create("idb-open",{originalErrorMessage:r.message})})),td}async function CS(r){try{const i=(await gv()).transaction(so),a=await i.objectStore(so).get(pv(r));return await i.done,a}catch(t){if(t instanceof Ua)qi.warn(t.message);else{const i=Nr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});qi.warn(i.message)}}}async function Fy(r,t){try{const a=(await gv()).transaction(so,"readwrite");await a.objectStore(so).put(t,pv(r)),await a.done}catch(i){if(i instanceof Ua)qi.warn(i.message);else{const a=Nr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});qi.warn(a.message)}}}function pv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=1024,OS=30;class NS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new IS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Qy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(h=>h.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>OS){const h=MS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){qi.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Qy(),{heartbeatsToSend:a,unsentEntries:o}=VS(this._heartbeatsCache.heartbeats),c=ic(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return qi.warn(i),""}}}function Qy(){return new Date().toISOString().substring(0,10)}function VS(r,t=DS){const i=[];let a=r.slice();for(const o of r){const c=i.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),Gy(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Gy(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class IS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _T()?vT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await CS(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Fy(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Fy(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Gy(r){return ic(JSON.stringify({version:2,heartbeats:r})).length}function MS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(r){ac(new ro("platform-logger",t=>new qT(t),"PRIVATE")),ac(new ro("heartbeat",t=>new NS(t),"PRIVATE")),Ra(fd,qy,r),Ra(fd,qy,"esm2017"),Ra("fire-js","")}xS("");var US="firebase",LS="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ra(US,LS,"app");var Ky=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vr,yv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,R){function b(){}b.prototype=R.prototype,O.D=R.prototype,O.prototype=new b,O.prototype.constructor=O,O.C=function(D,x,z){for(var C=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)C[Ae-2]=arguments[Ae];return R.prototype[x].apply(D,C)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,b){b||(b=0);var D=Array(16);if(typeof R=="string")for(var x=0;16>x;++x)D[x]=R.charCodeAt(b++)|R.charCodeAt(b++)<<8|R.charCodeAt(b++)<<16|R.charCodeAt(b++)<<24;else for(x=0;16>x;++x)D[x]=R[b++]|R[b++]<<8|R[b++]<<16|R[b++]<<24;R=O.g[0],b=O.g[1],x=O.g[2];var z=O.g[3],C=R+(z^b&(x^z))+D[0]+3614090360&4294967295;R=b+(C<<7&4294967295|C>>>25),C=z+(x^R&(b^x))+D[1]+3905402710&4294967295,z=R+(C<<12&4294967295|C>>>20),C=x+(b^z&(R^b))+D[2]+606105819&4294967295,x=z+(C<<17&4294967295|C>>>15),C=b+(R^x&(z^R))+D[3]+3250441966&4294967295,b=x+(C<<22&4294967295|C>>>10),C=R+(z^b&(x^z))+D[4]+4118548399&4294967295,R=b+(C<<7&4294967295|C>>>25),C=z+(x^R&(b^x))+D[5]+1200080426&4294967295,z=R+(C<<12&4294967295|C>>>20),C=x+(b^z&(R^b))+D[6]+2821735955&4294967295,x=z+(C<<17&4294967295|C>>>15),C=b+(R^x&(z^R))+D[7]+4249261313&4294967295,b=x+(C<<22&4294967295|C>>>10),C=R+(z^b&(x^z))+D[8]+1770035416&4294967295,R=b+(C<<7&4294967295|C>>>25),C=z+(x^R&(b^x))+D[9]+2336552879&4294967295,z=R+(C<<12&4294967295|C>>>20),C=x+(b^z&(R^b))+D[10]+4294925233&4294967295,x=z+(C<<17&4294967295|C>>>15),C=b+(R^x&(z^R))+D[11]+2304563134&4294967295,b=x+(C<<22&4294967295|C>>>10),C=R+(z^b&(x^z))+D[12]+1804603682&4294967295,R=b+(C<<7&4294967295|C>>>25),C=z+(x^R&(b^x))+D[13]+4254626195&4294967295,z=R+(C<<12&4294967295|C>>>20),C=x+(b^z&(R^b))+D[14]+2792965006&4294967295,x=z+(C<<17&4294967295|C>>>15),C=b+(R^x&(z^R))+D[15]+1236535329&4294967295,b=x+(C<<22&4294967295|C>>>10),C=R+(x^z&(b^x))+D[1]+4129170786&4294967295,R=b+(C<<5&4294967295|C>>>27),C=z+(b^x&(R^b))+D[6]+3225465664&4294967295,z=R+(C<<9&4294967295|C>>>23),C=x+(R^b&(z^R))+D[11]+643717713&4294967295,x=z+(C<<14&4294967295|C>>>18),C=b+(z^R&(x^z))+D[0]+3921069994&4294967295,b=x+(C<<20&4294967295|C>>>12),C=R+(x^z&(b^x))+D[5]+3593408605&4294967295,R=b+(C<<5&4294967295|C>>>27),C=z+(b^x&(R^b))+D[10]+38016083&4294967295,z=R+(C<<9&4294967295|C>>>23),C=x+(R^b&(z^R))+D[15]+3634488961&4294967295,x=z+(C<<14&4294967295|C>>>18),C=b+(z^R&(x^z))+D[4]+3889429448&4294967295,b=x+(C<<20&4294967295|C>>>12),C=R+(x^z&(b^x))+D[9]+568446438&4294967295,R=b+(C<<5&4294967295|C>>>27),C=z+(b^x&(R^b))+D[14]+3275163606&4294967295,z=R+(C<<9&4294967295|C>>>23),C=x+(R^b&(z^R))+D[3]+4107603335&4294967295,x=z+(C<<14&4294967295|C>>>18),C=b+(z^R&(x^z))+D[8]+1163531501&4294967295,b=x+(C<<20&4294967295|C>>>12),C=R+(x^z&(b^x))+D[13]+2850285829&4294967295,R=b+(C<<5&4294967295|C>>>27),C=z+(b^x&(R^b))+D[2]+4243563512&4294967295,z=R+(C<<9&4294967295|C>>>23),C=x+(R^b&(z^R))+D[7]+1735328473&4294967295,x=z+(C<<14&4294967295|C>>>18),C=b+(z^R&(x^z))+D[12]+2368359562&4294967295,b=x+(C<<20&4294967295|C>>>12),C=R+(b^x^z)+D[5]+4294588738&4294967295,R=b+(C<<4&4294967295|C>>>28),C=z+(R^b^x)+D[8]+2272392833&4294967295,z=R+(C<<11&4294967295|C>>>21),C=x+(z^R^b)+D[11]+1839030562&4294967295,x=z+(C<<16&4294967295|C>>>16),C=b+(x^z^R)+D[14]+4259657740&4294967295,b=x+(C<<23&4294967295|C>>>9),C=R+(b^x^z)+D[1]+2763975236&4294967295,R=b+(C<<4&4294967295|C>>>28),C=z+(R^b^x)+D[4]+1272893353&4294967295,z=R+(C<<11&4294967295|C>>>21),C=x+(z^R^b)+D[7]+4139469664&4294967295,x=z+(C<<16&4294967295|C>>>16),C=b+(x^z^R)+D[10]+3200236656&4294967295,b=x+(C<<23&4294967295|C>>>9),C=R+(b^x^z)+D[13]+681279174&4294967295,R=b+(C<<4&4294967295|C>>>28),C=z+(R^b^x)+D[0]+3936430074&4294967295,z=R+(C<<11&4294967295|C>>>21),C=x+(z^R^b)+D[3]+3572445317&4294967295,x=z+(C<<16&4294967295|C>>>16),C=b+(x^z^R)+D[6]+76029189&4294967295,b=x+(C<<23&4294967295|C>>>9),C=R+(b^x^z)+D[9]+3654602809&4294967295,R=b+(C<<4&4294967295|C>>>28),C=z+(R^b^x)+D[12]+3873151461&4294967295,z=R+(C<<11&4294967295|C>>>21),C=x+(z^R^b)+D[15]+530742520&4294967295,x=z+(C<<16&4294967295|C>>>16),C=b+(x^z^R)+D[2]+3299628645&4294967295,b=x+(C<<23&4294967295|C>>>9),C=R+(x^(b|~z))+D[0]+4096336452&4294967295,R=b+(C<<6&4294967295|C>>>26),C=z+(b^(R|~x))+D[7]+1126891415&4294967295,z=R+(C<<10&4294967295|C>>>22),C=x+(R^(z|~b))+D[14]+2878612391&4294967295,x=z+(C<<15&4294967295|C>>>17),C=b+(z^(x|~R))+D[5]+4237533241&4294967295,b=x+(C<<21&4294967295|C>>>11),C=R+(x^(b|~z))+D[12]+1700485571&4294967295,R=b+(C<<6&4294967295|C>>>26),C=z+(b^(R|~x))+D[3]+2399980690&4294967295,z=R+(C<<10&4294967295|C>>>22),C=x+(R^(z|~b))+D[10]+4293915773&4294967295,x=z+(C<<15&4294967295|C>>>17),C=b+(z^(x|~R))+D[1]+2240044497&4294967295,b=x+(C<<21&4294967295|C>>>11),C=R+(x^(b|~z))+D[8]+1873313359&4294967295,R=b+(C<<6&4294967295|C>>>26),C=z+(b^(R|~x))+D[15]+4264355552&4294967295,z=R+(C<<10&4294967295|C>>>22),C=x+(R^(z|~b))+D[6]+2734768916&4294967295,x=z+(C<<15&4294967295|C>>>17),C=b+(z^(x|~R))+D[13]+1309151649&4294967295,b=x+(C<<21&4294967295|C>>>11),C=R+(x^(b|~z))+D[4]+4149444226&4294967295,R=b+(C<<6&4294967295|C>>>26),C=z+(b^(R|~x))+D[11]+3174756917&4294967295,z=R+(C<<10&4294967295|C>>>22),C=x+(R^(z|~b))+D[2]+718787259&4294967295,x=z+(C<<15&4294967295|C>>>17),C=b+(z^(x|~R))+D[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(x+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+x&4294967295,O.g[3]=O.g[3]+z&4294967295}a.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var b=R-this.blockSize,D=this.B,x=this.h,z=0;z<R;){if(x==0)for(;z<=b;)o(this,O,z),z+=this.blockSize;if(typeof O=="string"){for(;z<R;)if(D[x++]=O.charCodeAt(z++),x==this.blockSize){o(this,D),x=0;break}}else for(;z<R;)if(D[x++]=O[z++],x==this.blockSize){o(this,D),x=0;break}}this.h=x,this.o+=R},a.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var b=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=b&255,b/=256;for(this.u(O),O=Array(16),R=b=0;4>R;++R)for(var D=0;32>D;D+=8)O[b++]=this.g[R]>>>D&255;return O};function c(O,R){var b=g;return Object.prototype.hasOwnProperty.call(b,O)?b[O]:b[O]=R(O)}function h(O,R){this.h=R;for(var b=[],D=!0,x=O.length-1;0<=x;x--){var z=O[x]|0;D&&z==R||(b[x]=z,D=!1)}this.g=b}var g={};function y(O){return-128<=O&&128>O?c(O,function(R){return new h([R|0],0>R?-1:0)}):new h([O|0],0>O?-1:0)}function p(O){if(isNaN(O)||!isFinite(O))return S;if(0>O)return j(p(-O));for(var R=[],b=1,D=0;O>=b;D++)R[D]=O/b|0,b*=4294967296;return new h(R,0)}function A(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return j(A(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=p(Math.pow(R,8)),D=S,x=0;x<O.length;x+=8){var z=Math.min(8,O.length-x),C=parseInt(O.substring(x,x+z),R);8>z?(z=p(Math.pow(R,z)),D=D.j(z).add(p(C))):(D=D.j(b),D=D.add(p(C)))}return D}var S=y(0),V=y(1),P=y(16777216);r=h.prototype,r.m=function(){if(G(this))return-j(this).m();for(var O=0,R=1,b=0;b<this.g.length;b++){var D=this.i(b);O+=(0<=D?D:4294967296+D)*R,R*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(q(this))return"0";if(G(this))return"-"+j(this).toString(O);for(var R=p(Math.pow(O,6)),b=this,D="";;){var x=rt(b,R).g;b=at(b,x.j(R));var z=((0<b.g.length?b.g[0]:b.h)>>>0).toString(O);if(b=x,q(b))return z+D;for(;6>z.length;)z="0"+z;D=z+D}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function q(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function G(O){return O.h==-1}r.l=function(O){return O=at(this,O),G(O)?-1:q(O)?0:1};function j(O){for(var R=O.g.length,b=[],D=0;D<R;D++)b[D]=~O.g[D];return new h(b,~O.h).add(V)}r.abs=function(){return G(this)?j(this):this},r.add=function(O){for(var R=Math.max(this.g.length,O.g.length),b=[],D=0,x=0;x<=R;x++){var z=D+(this.i(x)&65535)+(O.i(x)&65535),C=(z>>>16)+(this.i(x)>>>16)+(O.i(x)>>>16);D=C>>>16,z&=65535,C&=65535,b[x]=C<<16|z}return new h(b,b[b.length-1]&-2147483648?-1:0)};function at(O,R){return O.add(j(R))}r.j=function(O){if(q(this)||q(O))return S;if(G(this))return G(O)?j(this).j(j(O)):j(j(this).j(O));if(G(O))return j(this.j(j(O)));if(0>this.l(P)&&0>O.l(P))return p(this.m()*O.m());for(var R=this.g.length+O.g.length,b=[],D=0;D<2*R;D++)b[D]=0;for(D=0;D<this.g.length;D++)for(var x=0;x<O.g.length;x++){var z=this.i(D)>>>16,C=this.i(D)&65535,Ae=O.i(x)>>>16,de=O.i(x)&65535;b[2*D+2*x]+=C*de,st(b,2*D+2*x),b[2*D+2*x+1]+=z*de,st(b,2*D+2*x+1),b[2*D+2*x+1]+=C*Ae,st(b,2*D+2*x+1),b[2*D+2*x+2]+=z*Ae,st(b,2*D+2*x+2)}for(D=0;D<R;D++)b[D]=b[2*D+1]<<16|b[2*D];for(D=R;D<2*R;D++)b[D]=0;return new h(b,0)};function st(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function $(O,R){this.g=O,this.h=R}function rt(O,R){if(q(R))throw Error("division by zero");if(q(O))return new $(S,S);if(G(O))return R=rt(j(O),R),new $(j(R.g),j(R.h));if(G(R))return R=rt(O,j(R)),new $(j(R.g),R.h);if(30<O.g.length){if(G(O)||G(R))throw Error("slowDivide_ only works with positive integers.");for(var b=V,D=R;0>=D.l(O);)b=nt(b),D=nt(D);var x=yt(b,1),z=yt(D,1);for(D=yt(D,2),b=yt(b,2);!q(D);){var C=z.add(D);0>=C.l(O)&&(x=x.add(b),z=C),D=yt(D,1),b=yt(b,1)}return R=at(O,x.j(R)),new $(x,R)}for(x=S;0<=O.l(R);){for(b=Math.max(1,Math.floor(O.m()/R.m())),D=Math.ceil(Math.log(b)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),z=p(b),C=z.j(R);G(C)||0<C.l(O);)b-=D,z=p(b),C=z.j(R);q(z)&&(z=V),x=x.add(z),O=at(O,C)}return new $(x,O)}r.A=function(O){return rt(this,O).h},r.and=function(O){for(var R=Math.max(this.g.length,O.g.length),b=[],D=0;D<R;D++)b[D]=this.i(D)&O.i(D);return new h(b,this.h&O.h)},r.or=function(O){for(var R=Math.max(this.g.length,O.g.length),b=[],D=0;D<R;D++)b[D]=this.i(D)|O.i(D);return new h(b,this.h|O.h)},r.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),b=[],D=0;D<R;D++)b[D]=this.i(D)^O.i(D);return new h(b,this.h^O.h)};function nt(O){for(var R=O.g.length+1,b=[],D=0;D<R;D++)b[D]=O.i(D)<<1|O.i(D-1)>>>31;return new h(b,O.h)}function yt(O,R){var b=R>>5;R%=32;for(var D=O.g.length-b,x=[],z=0;z<D;z++)x[z]=0<R?O.i(z+b)>>>R|O.i(z+b+1)<<32-R:O.i(z+b);return new h(x,O.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,yv=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=p,h.fromString=A,Vr=h}).apply(typeof Ky<"u"?Ky:typeof self<"u"?self:typeof window<"u"?window:{});var Hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _v,Zl,vv,Yu,md,Av,Ev,Tv;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hu=="object"&&Hu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in _))break t;_=_[L]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,T=!1,L={next:function(){if(!T&&_<u.length){var H=_++;return{value:m(H,u[H]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},g=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,_){return u.call.apply(u.bind,arguments)}function S(u,m,_){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function V(u,m,_){return V=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:S,V.apply(null,arguments)}function P(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function q(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(T,L,H){for(var et=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)et[xt-2]=arguments[xt];return m.prototype[L].apply(T,et)}}function G(u){const m=u.length;if(0<m){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function j(u,m){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(y(T)){const L=u.length||0,H=T.length||0;u.length=L+H;for(let et=0;et<H;et++)u[L+et]=T[et]}else u.push(T)}}class at{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function st(u){return/^[\s\xa0]*$/.test(u)}function $(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function rt(u){return rt[" "](u),u}rt[" "]=function(){};var nt=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function yt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function O(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function R(u){const m={};for(const _ in u)m[_]=u[_];return m}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let _,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(_ in T)u[_]=T[_];for(let H=0;H<b.length;H++)_=b[H],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function x(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function z(u){g.setTimeout(()=>{throw u},0)}function C(){var u=Ft;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ae{constructor(){this.h=this.g=null}add(m,_){const T=de.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var de=new at(()=>new it,u=>u.reset());class it{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let vt,gt=!1,Ft=new Ae,N=()=>{const u=g.Promise.resolve(void 0);vt=()=>{u.then(W)}};var W=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(_){z(_)}var m=de;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}gt=!1};function dt(){this.s=this.s,this.C=this.C}dt.prototype.s=!1,dt.prototype.ma=function(){this.s||(this.s=!0,this.N())},dt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u}();function Ct(u,m){if(lt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(nt){t:{try{rt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Rt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ct.aa.h.call(this)}}q(Ct,lt);var Rt={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),Pt=0;function re(u,m,_,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=L,this.key=++Pt,this.da=this.fa=!1}function Kt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Je(u){this.src=u,this.g={},this.h=0}Je.prototype.add=function(u,m,_,T,L){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var et=_n(u,m,T,L);return-1<et?(m=u[et],_||(m.fa=!1)):(m=new re(m,this.src,H,!!T,L),m.fa=_,u.push(m)),m};function di(u,m){var _=m.type;if(_ in u.g){var T=u.g[_],L=Array.prototype.indexOf.call(T,m,void 0),H;(H=0<=L)&&Array.prototype.splice.call(T,L,1),H&&(Kt(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function _n(u,m,_,T){for(var L=0;L<u.length;++L){var H=u[L];if(!H.da&&H.listener==m&&H.capture==!!_&&H.ha==T)return L}return-1}var Qi="closure_lm_"+(1e6*Math.random()|0),Gi={};function mi(u,m,_,T,L){if(Array.isArray(m)){for(var H=0;H<m.length;H++)mi(u,m[H],_,T,L);return null}return _=To(_),u&&u[me]?u.K(m,_,p(T)?!!T.capture:!1,L):qa(u,m,_,!1,T,L)}function qa(u,m,_,T,L,H){if(!m)throw Error("Invalid event type");var et=p(L)?!!L.capture:!!L,xt=Ha(u);if(xt||(u[Qi]=xt=new Je(u)),_=xt.add(m,_,T,et,H),_.proxy)return _;if(T=Vs(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)ot||(L=et),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Ms(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Vs(){function u(_){return m.call(u.src,u.listener,_)}const m=Fc;return u}function Is(u,m,_,T,L){if(Array.isArray(m))for(var H=0;H<m.length;H++)Is(u,m[H],_,T,L);else T=p(T)?!!T.capture:!!T,_=To(_),u&&u[me]?(u=u.i,m=String(m).toString(),m in u.g&&(H=u.g[m],_=_n(H,_,T,L),-1<_&&(Kt(H[_]),Array.prototype.splice.call(H,_,1),H.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ha(u))&&(m=u.g[m.toString()],u=-1,m&&(u=_n(m,_,T,L)),(_=-1<u?m[u]:null)&&kr(_))}function kr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[me])di(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(Ms(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=Ha(m))?(di(_,u),_.h==0&&(_.src=null,m[Qi]=null)):Kt(u)}}}function Ms(u){return u in Gi?Gi[u]:Gi[u]="on"+u}function Fc(u,m){if(u.da)u=!0;else{m=new Ct(m,this);var _=u.listener,T=u.ha||u.src;u.fa&&kr(u),u=_.call(T,m)}return u}function Ha(u){return u=u[Qi],u instanceof Je?u:null}var sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function To(u){return typeof u=="function"?u:(u[sn]||(u[sn]=function(m){return u.handleEvent(m)}),u[sn])}function Ee(){dt.call(this),this.i=new Je(this),this.M=this,this.F=null}q(Ee,dt),Ee.prototype[me]=!0,Ee.prototype.removeEventListener=function(u,m,_,T){Is(this,u,m,_,T)};function Oe(u,m){var _,T=u.F;if(T)for(_=[];T;T=T.F)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new lt(m,u);else if(m instanceof lt)m.target=m.target||u;else{var L=m;m=new lt(T,u),D(m,L)}if(L=!0,_)for(var H=_.length-1;0<=H;H--){var et=m.g=_[H];L=gi(et,T,!0,m)&&L}if(et=m.g=u,L=gi(et,T,!0,m)&&L,L=gi(et,T,!1,m)&&L,_)for(H=0;H<_.length;H++)et=m.g=_[H],L=gi(et,T,!1,m)&&L}Ee.prototype.N=function(){if(Ee.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],T=0;T<_.length;T++)Kt(_[T]);delete u.g[m],u.h--}}this.F=null},Ee.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},Ee.prototype.L=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function gi(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,H=0;H<m.length;++H){var et=m[H];if(et&&!et.da&&et.capture==_){var xt=et.listener,Se=et.ha||et.src;et.fa&&di(u.i,et),L=xt.call(Se,T)!==!1&&L}}return L&&!T.defaultPrevented}function So(u,m,_){if(typeof u=="function")_&&(u=V(u,_));else if(u&&typeof u.handleEvent=="function")u=V(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Fa(u){u.g=So(()=>{u.g=null,u.i&&(u.i=!1,Fa(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Qc extends dt{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Fa(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jr(u){dt.call(this),this.h=u,this.g={}}q(jr,dt);var Ki=[];function Fe(u){yt(u.g,function(m,_){this.g.hasOwnProperty(_)&&kr(m)},u),u.g={}}jr.prototype.N=function(){jr.aa.N.call(this),Fe(this)},jr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qa=g.JSON.stringify,Qn=g.JSON.parse,$e=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ga(){}Ga.prototype.h=null;function bo(u){return u.h||(u.h=u.i())}function Ro(){}var Gn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yi(){lt.call(this,"d")}q(Yi,lt);function Ln(){lt.call(this,"c")}q(Ln,lt);var vn={},Xi=null;function xs(){return Xi=Xi||new Ee}vn.La="serverreachability";function Ka(u){lt.call(this,vn.La,u)}q(Ka,lt);function Zi(u){const m=xs();Oe(m,new Ka(m))}vn.STAT_EVENT="statevent";function Us(u,m){lt.call(this,vn.STAT_EVENT,u),this.stat=m}q(Us,lt);function ue(u){const m=xs();Oe(m,new Us(m,u))}vn.Ma="timingevent";function wo(u,m){lt.call(this,vn.Ma,u),this.size=m}q(wo,lt);function Ji(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function $i(){this.g=!0}$i.prototype.xa=function(){this.g=!1};function Co(u,m,_,T,L,H){u.info(function(){if(u.g)if(H)for(var et="",xt=H.split("&"),Se=0;Se<xt.length;Se++){var Ut=xt[Se].split("=");if(1<Ut.length){var Ie=Ut[0];Ut=Ut[1];var be=Ie.split("_");et=2<=be.length&&be[1]=="type"?et+(Ie+"="+Ut+"&"):et+(Ie+"=redacted&")}}else et=null;else et=H;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+_+`
`+et})}function Do(u,m,_,T,L,H,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+_+`
`+H+" "+et})}function Wi(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ne(u,_)+(T?" "+T:"")})}function Kn(u,m){u.info(function(){return"TIMEOUT: "+m})}$i.prototype.info=function(){};function Ne(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var T=_[u];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var H=L[0];if(H!="noop"&&H!="stop"&&H!="close")for(var et=1;et<L.length;et++)L[et]=""}}}}return Qa(_)}catch{return m}}var Te={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qr;function Ls(){}q(Ls,Ga),Ls.prototype.g=function(){return new XMLHttpRequest},Ls.prototype.i=function(){return{}},qr=new Ls;function Yn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.R=T||1,this.U=new jr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ya}function Ya(){this.i=null,this.g="",this.h=!1}var tr={},Hr={};function zn(u,m,_){u.L=1,u.v=Gr(se(m)),u.m=_,u.P=!0,yi(u,null)}function yi(u,m){u.F=Date.now(),te(u),u.A=se(u.v);var _=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Ai(_.i,"t",T),u.C=0,_=u.j.J,u.h=new Ya,u.g=qo(u.j,_?m:null,!u.m),0<u.O&&(u.M=new Qc(V(u.Y,u,u.g),u.O)),m=u.U,_=u.g,T=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Ki[0]=L.toString()),L=Ki);for(var H=0;H<L.length;H++){var et=mi(_,L[H],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Zi(),Co(u.i,u.u,u.A,u.l,u.R,u.m)}Yn.prototype.ca=function(u){u=u.target;const m=this.M;m&&bn(u)==3?m.j():this.Y(u)},Yn.prototype.Y=function(u){try{if(u==this.g)t:{const be=bn(this.g);var m=this.g.Ba();const bi=this.g.Z();if(!(3>be)&&(be!=3||this.g&&(this.h.h||this.g.oa()||xo(this.g)))){this.J||be!=4||m==7||(m==8||0>=bi?Zi(3):Zi(2)),zs(this);var _=this.g.Z();this.X=_;e:if(er(this)){var T=xo(this.g);u="";var L=T.length,H=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){an(this),cn(this);var et="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(H&&m==L-1)});T.length=0,this.h.g+=u,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=_==200,Do(this.i,this.u,this.A,this.l,this.R,be,_),this.o){if(this.T&&!this.K){e:{if(this.g){var xt,Se=this.g;if((xt=Se.g?Se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!st(xt)){var Ut=xt;break e}}Ut=null}if(_=Ut)Wi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fn(this,_);else{this.o=!1,this.s=3,ue(12),an(this),cn(this);break t}}if(this.P){_=!0;let ze;for(;!this.J&&this.C<et.length;)if(ze=nr(this,et),ze==Hr){be==4&&(this.s=4,ue(14),_=!1),Wi(this.i,this.l,null,"[Incomplete Response]");break}else if(ze==tr){this.s=4,ue(15),Wi(this.i,this.l,et,"[Invalid Chunk]"),_=!1;break}else Wi(this.i,this.l,ze,null),fn(this,ze);if(er(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||et.length!=0||this.h.h||(this.s=1,ue(16),_=!1),this.o=this.o&&_,!_)Wi(this.i,this.l,et,"[Invalid Chunked Response]"),an(this),cn(this);else if(0<et.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),Wr(Ie),Ie.M=!0,ue(11))}}else Wi(this.i,this.l,et,null),fn(this,et);be==4&&an(this),this.o&&!this.J&&(be==4?Po(this.j,this):(this.o=!1,te(this)))}else Jc(this.g),_==400&&0<et.indexOf("Unknown SID")?(this.s=3,ue(12)):(this.s=0,ue(13)),an(this),cn(this)}}}catch{}finally{}};function er(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function nr(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Hr:(_=Number(m.substring(_,T)),isNaN(_)?tr:(T+=1,T+_>m.length?Hr:(m=m.slice(T,T+_),u.C=T+_,m)))}Yn.prototype.cancel=function(){this.J=!0,an(this)};function te(u){u.S=Date.now()+u.I,Xa(u,u.I)}function Xa(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ji(V(u.ba,u),m)}function zs(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Yn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Kn(this.i,this.A),this.L!=2&&(Zi(),ue(17)),an(this),this.s=2,cn(this)):Xa(this,this.S-u)};function cn(u){u.j.G==0||u.J||Po(u.j,u)}function an(u){zs(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Fe(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function fn(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||ir(_.h,u))){if(!u.K&&ir(_.h,u)&&_.G==3){try{var T=_.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Ks(_),Qs(_);else break t;al(_),ue(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ji(V(_.Za,_),6e3));if(1>=Oo(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Si(_,11)}else if((u.K||_.g==u)&&Ks(_),!st(m))for(L=_.Da.g.parse(m),m=0;m<L.length;m++){let Ut=L[m];if(_.T=Ut[0],Ut=Ut[1],_.G==2)if(Ut[0]=="c"){_.K=Ut[1],_.ia=Ut[2];const Ie=Ut[3];Ie!=null&&(_.la=Ie,_.j.info("VER="+_.la));const be=Ut[4];be!=null&&(_.Aa=be,_.j.info("SVER="+_.Aa));const bi=Ut[5];bi!=null&&typeof bi=="number"&&0<bi&&(T=1.5*bi,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const ze=u.g;if(ze){const ei=ze.g?ze.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ei){var H=T.h;H.g||ei.indexOf("spdy")==-1&&ei.indexOf("quic")==-1&&ei.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(rr(H,H.h),H.h=null))}if(T.D){const ol=ze.g?ze.g.getResponseHeader("X-HTTP-Session-Id"):null;ol&&(T.ya=ol,kt(T.I,T.D,ol))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var et=u;if(T.qa=jo(T,T.J?T.ia:null,T.W),et.K){An(T.h,et);var xt=et,Se=T.L;Se&&(xt.I=Se),xt.B&&(zs(xt),te(xt)),T.g=et}else zo(T);0<_.i.length&&Gs(_)}else Ut[0]!="stop"&&Ut[0]!="close"||Si(_,7);else _.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Si(_,7):rl(_):Ut[0]!="noop"&&_.l&&_.l.ta(Ut),_.v=0)}}Zi(4)}catch{}}var Gc=class{constructor(u,m){this.g=u,this.map=m}};function Za(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ja(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Oo(u){return u.h?1:u.g?u.g.size:0}function ir(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function rr(u,m){u.g?u.g.add(m):u.h=m}function An(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Za.prototype.cancel=function(){if(this.i=We(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function We(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return G(u.i)}function No(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],_=u.length,T=0;T<_;T++)m.push(u[T]);return m}m=[],_=0;for(T in u)m[_++]=u[T];return m}function Kc(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const T in u)m[_++]=T;return m}}}function Fr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Kc(u),T=No(u),L=T.length,H=0;H<L;H++)m.call(void 0,T[H],_&&_[H],u)}var $a=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bs(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var T=u[_].indexOf("="),L=null;if(0<=T){var H=u[_].substring(0,T);L=u[_].substring(T+1)}else H=u[_];m(H,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function _i(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof _i){this.h=u.h,sr(this,u.j),this.o=u.o,this.g=u.g,Qr(this,u.s),this.l=u.l;var m=u.i,_=new Xn;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),Ps(this,_),this.m=u.m}else u&&(m=String(u).match($a))?(this.h=!1,sr(this,m[1]||"",!0),this.o=ar(m[2]||""),this.g=ar(m[3]||"",!0),Qr(this,m[4]),this.l=ar(m[5]||"",!0),Ps(this,m[6]||"",!0),this.m=ar(m[7]||"")):(this.h=!1,this.i=new Xn(null,this.h))}_i.prototype.toString=function(){var u=[],m=this.j;m&&u.push(En(m,Wa,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(En(m,Wa,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(En(_,_.charAt(0)=="/"?tl:Vo,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",En(_,Zc)),u.join("")};function se(u){return new _i(u)}function sr(u,m,_){u.j=_?ar(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Qr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ps(u,m,_){m instanceof Xn?(u.i=m,el(u.i,u.h)):(_||(m=En(m,Xc)),u.i=new Xn(m,u.h))}function kt(u,m,_){u.i.set(m,_)}function Gr(u){return kt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ar(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function En(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Yc),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Yc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Wa=/[#\/\?@]/g,Vo=/[#\?:]/g,tl=/[#\?]/g,Xc=/[#\?@]/g,Zc=/#/g;function Xn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Tn(u){u.g||(u.g=new Map,u.h=0,u.i&&Bs(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Xn.prototype,r.add=function(u,m){Tn(this),this.i=null,u=Ei(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function ks(u,m){Tn(u),m=Ei(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function vi(u,m){return Tn(u),m=Ei(u,m),u.g.has(m)}r.forEach=function(u,m){Tn(this),this.g.forEach(function(_,T){_.forEach(function(L){u.call(m,L,T,this)},this)},this)},r.na=function(){Tn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let T=0;T<m.length;T++){const L=u[T];for(let H=0;H<L.length;H++)_.push(m[T])}return _},r.V=function(u){Tn(this);let m=[];if(typeof u=="string")vi(this,u)&&(m=m.concat(this.g.get(Ei(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},r.set=function(u,m){return Tn(this),this.i=null,u=Ei(this,u),vi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ai(u,m,_){ks(u,m),0<_.length&&(u.i=null,u.g.set(Ei(u,m),G(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var T=m[_];const H=encodeURIComponent(String(T)),et=this.V(T);for(T=0;T<et.length;T++){var L=H;et[T]!==""&&(L+="="+encodeURIComponent(String(et[T]))),u.push(L)}}return this.i=u.join("&")};function Ei(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function el(u,m){m&&!u.j&&(Tn(u),u.i=null,u.g.forEach(function(_,T){var L=T.toLowerCase();T!=L&&(ks(this,T),Ai(this,L,_))},u)),u.j=m}function Io(u,m){const _=new $i;if(g.Image){const T=new Image;T.onload=P(Sn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=P(Sn,_,"TestLoadImage: error",!1,m,T),T.onabort=P(Sn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=P(Sn,_,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Kr(u,m){const _=new $i,T=new AbortController,L=setTimeout(()=>{T.abort(),Sn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(L),H.ok?Sn(_,"TestPingServer: ok",!0,m):Sn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Sn(_,"TestPingServer: error",!1,m)})}function Sn(u,m,_,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(_)}catch{}}function Yr(){this.g=new $e}function Zn(u,m,_){const T=_||"";try{Fr(u,function(L,H){let et=L;p(L)&&(et=Qa(L)),m.push(T+H+"="+encodeURIComponent(et))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function lr(u){this.l=u.Ub||null,this.j=u.eb||!1}q(lr,Ga),lr.prototype.g=function(){return new Ti(this.l,this.j)},lr.prototype.i=function(u){return function(){return u}}({});function Ti(u,m){Ee.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}q(Ti,Ee),r=Ti.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,$n(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function nl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Jn(this):$n(this),this.readyState==3&&nl(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Jn(this))},r.Qa=function(u){this.g&&(this.response=u,Jn(this))},r.ga=function(){this.g&&Jn(this)};function Jn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,$n(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function $n(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function il(u){let m="";return yt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function Ve(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=il(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):kt(u,m,_))}function Qt(u){Ee.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}q(Qt,Ee);var js=/^https?$/i,Xr=["POST","PUT"];r=Qt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qr.g(),this.v=this.o?bo(this.o):bo(qr),this.g.onreadystatechange=V(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Mo(this,H);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)_.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())_.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),L=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Xr,m,void 0))||T||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,et]of _)this.g.setRequestHeader(H,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zr(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){Mo(this,H)}};function Mo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,qs(u),Wn(u)}function qs(u){u.A||(u.A=!0,Oe(u,"complete"),Oe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Oe(this,"complete"),Oe(this,"abort"),Wn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wn(this,!0)),Qt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Hs(this):this.bb())},r.bb=function(){Hs(this)};function Hs(u){if(u.h&&typeof h<"u"&&(!u.v[1]||bn(u)!=4||u.Z()!=2)){if(u.u&&bn(u)==4)So(u.Ea,0,u);else if(Oe(u,"readystatechange"),bn(u)==4){u.h=!1;try{const et=u.Z();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=et===0){var L=String(u.D).match($a)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!js.test(L?L.toLowerCase():"")}_=T}if(_)Oe(u,"complete"),Oe(u,"success");else{u.m=6;try{var H=2<bn(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",qs(u)}}finally{Wn(u)}}}}function Wn(u,m){if(u.g){Zr(u);const _=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Oe(u,"ready");try{_.onreadystatechange=T}catch{}}}function Zr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function bn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Qn(m)}};function xo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Jc(u){const m={};u=(u.g&&2<=bn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(st(u[T]))continue;var _=x(u[T]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=m[L]||[];m[L]=H,H.push(_)}O(m,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jr(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Fs(u){this.Aa=0,this.i=[],this.j=new $i,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jr("baseRetryDelayMs",5e3,u),this.cb=Jr("retryDelaySeedMs",1e4,u),this.Wa=Jr("forwardChannelMaxRetries",2,u),this.wa=Jr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Za(u&&u.concurrentRequestLimit),this.Da=new Yr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Fs.prototype,r.la=8,r.G=1,r.connect=function(u,m,_,T){ue(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=jo(this,null,this.W),Gs(this)};function rl(u){if(Uo(u),u.G==3){var m=u.U++,_=se(u.I);if(kt(_,"SID",u.K),kt(_,"RID",m),kt(_,"TYPE","terminate"),$r(u,_),m=new Yn(u,u.j,m),m.L=2,m.v=Gr(se(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=qo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),te(m)}ko(u)}function Qs(u){u.g&&(Wr(u),u.g.cancel(),u.g=null)}function Uo(u){Qs(u),u.u&&(g.clearTimeout(u.u),u.u=null),Ks(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Gs(u){if(!Ja(u.h)&&!u.s){u.s=!0;var m=u.Ga;vt||N(),gt||(vt(),gt=!0),Ft.add(m,u),u.B=0}}function $c(u,m){return Oo(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ji(V(u.Ga,u,m),ll(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Yn(this,this.j,u);let H=this.o;if(this.S&&(H?(H=R(H),D(H,this.S)):H=this.S),this.m!==null||this.O||(L.H=H,H=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Lo(this,L,m),_=se(this.I),kt(_,"RID",u),kt(_,"CVER",22),this.D&&kt(_,"X-HTTP-Session-Id",this.D),$r(this,_),H&&(this.O?m="headers="+encodeURIComponent(String(il(H)))+"&"+m:this.m&&Ve(_,this.m,H)),rr(this.h,L),this.Ua&&kt(_,"TYPE","init"),this.P?(kt(_,"$req",m),kt(_,"SID","null"),L.T=!0,zn(L,_,null)):zn(L,_,m),this.G=2}}else this.G==3&&(u?sl(this,u):this.i.length==0||Ja(this.h)||sl(this))};function sl(u,m){var _;m?_=m.l:_=u.U++;const T=se(u.I);kt(T,"SID",u.K),kt(T,"RID",_),kt(T,"AID",u.T),$r(u,T),u.m&&u.o&&Ve(T,u.m,u.o),_=new Yn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Lo(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),rr(u.h,_),zn(_,T,m)}function $r(u,m){u.H&&yt(u.H,function(_,T){kt(m,T,_)}),u.l&&Fr({},function(_,T){kt(m,T,_)})}function Lo(u,m,_){_=Math.min(u.i.length,_);var T=u.l?V(u.l.Na,u.l,u):null;t:{var L=u.i;let H=-1;for(;;){const et=["count="+_];H==-1?0<_?(H=L[0].g,et.push("ofs="+H)):H=0:et.push("ofs="+H);let xt=!0;for(let Se=0;Se<_;Se++){let Ut=L[Se].g;const Ie=L[Se].map;if(Ut-=H,0>Ut)H=Math.max(0,L[Se].g-100),xt=!1;else try{Zn(Ie,et,"req"+Ut+"_")}catch{T&&T(Ie)}}if(xt){T=et.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,T}function zo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;vt||N(),gt||(vt(),gt=!0),Ft.add(m,u),u.v=0}}function al(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ji(V(u.Fa,u),ll(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Bo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ji(V(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ue(10),Qs(this),Bo(this))};function Wr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Bo(u){u.g=new Yn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=se(u.qa);kt(m,"RID","rpc"),kt(m,"SID",u.K),kt(m,"AID",u.T),kt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&kt(m,"TO",u.ja),kt(m,"TYPE","xmlhttp"),$r(u,m),u.m&&u.o&&Ve(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Gr(se(m)),_.m=null,_.P=!0,yi(_,u)}r.Za=function(){this.C!=null&&(this.C=null,Qs(this),al(this),ue(19))};function Ks(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Po(u,m){var _=null;if(u.g==m){Ks(u),Wr(u),u.g=null;var T=2}else if(ir(u.h,m))_=m.D,An(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;T=xs(),Oe(T,new wo(T,_)),Gs(u)}else zo(u);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&$c(u,m)||T==2&&al(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),L){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function ll(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Si(u,m){if(u.j.info("Error code "+m),m==2){var _=V(u.fb,u),T=u.Xa;const L=!T;T=new _i(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||sr(T,"https"),Gr(T),L?Io(T.toString(),_):Kr(T.toString(),_)}else ue(2);u.G=0,u.l&&u.l.sa(m),ko(u),Uo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function ko(u){if(u.G=0,u.ka=[],u.l){const m=We(u.h);(m.length!=0||u.i.length!=0)&&(j(u.ka,m),j(u.ka,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.ra()}}function jo(u,m,_){var T=_ instanceof _i?se(_):new _i(_);if(T.g!="")m&&(T.g=m+"."+T.g),Qr(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var H=new _i(null);T&&sr(H,T),m&&(H.g=m),L&&Qr(H,L),_&&(H.l=_),T=H}return _=u.D,m=u.ya,_&&m&&kt(T,_,m),kt(T,"VER",u.la),$r(u,T),T}function qo(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Qt(new lr({eb:_})):new Qt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ho(){}r=Ho.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ys(){}Ys.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){Ee.call(this),this.g=new Fs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!st(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!st(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ti(this)}q(tn,Ee),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){rl(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Qa(u),u=_);m.i.push(new Gc(m.Ya++,u)),m.G==3&&Gs(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,tn.aa.N.call(this)};function Fo(u){Yi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}q(Fo,Yi);function Qo(){Ln.call(this),this.status=1}q(Qo,Ln);function ti(u){this.g=u}q(ti,Ho),ti.prototype.ua=function(){Oe(this.g,"a")},ti.prototype.ta=function(u){Oe(this.g,new Fo(u))},ti.prototype.sa=function(u){Oe(this.g,new Qo)},ti.prototype.ra=function(){Oe(this.g,"b")},Ys.prototype.createWebChannel=Ys.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,Tv=function(){return new Ys},Ev=function(){return xs()},Av=vn,md={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Te.NO_ERROR=0,Te.TIMEOUT=8,Te.HTTP_ERROR=6,Yu=Te,pi.COMPLETE="complete",vv=pi,Ro.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.K,Zl=Ro,Qt.prototype.listenOnce=Qt.prototype.L,Qt.prototype.getLastError=Qt.prototype.Ka,Qt.prototype.getLastErrorCode=Qt.prototype.Ba,Qt.prototype.getStatus=Qt.prototype.Z,Qt.prototype.getResponseJson=Qt.prototype.Oa,Qt.prototype.getResponseText=Qt.prototype.oa,Qt.prototype.send=Qt.prototype.ea,Qt.prototype.setWithCredentials=Qt.prototype.Ha,_v=Qt}).apply(typeof Hu<"u"?Hu:typeof self<"u"?self:typeof window<"u"?window:{});const Yy="@firebase/firestore",Xy="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let La="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new fv("@firebase/firestore");function Ea(){return Ss.logLevel}function ut(r,...t){if(Ss.logLevel<=Bt.DEBUG){const i=t.map(Pd);Ss.debug(`Firestore (${La}): ${r}`,...i)}}function Hi(r,...t){if(Ss.logLevel<=Bt.ERROR){const i=t.map(Pd);Ss.error(`Firestore (${La}): ${r}`,...i)}}function Ca(r,...t){if(Ss.logLevel<=Bt.WARN){const i=t.map(Pd);Ss.warn(`Firestore (${La}): ${r}`,...i)}}function Pd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(r="Unexpected state"){const t=`FIRESTORE (${La}) INTERNAL ASSERTION FAILED: `+r;throw Hi(t),new Error(t)}function Gt(r,t){r||At()}function St(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Ua{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class zS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Ye.UNAUTHENTICATED))}shutdown(){}}class BS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class PS{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new ki;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ki,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const y=c;t.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},g=y=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ki)}},0),h()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Gt(typeof a.accessToken=="string"),new Sv(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string"),new Ye(t)}}class kS{constructor(t,i,a){this.l=t,this.h=i,this.P=a,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class jS{constructor(t,i,a){this.l=t,this.h=i,this.P=a}getToken(){return Promise.resolve(new kS(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qS{constructor(t,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,AS(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,i){Gt(this.o===void 0);const a=c=>{c.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.R;return this.R=c.token,ut("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>a(c))};const o=c=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Zy(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Gt(typeof i.token=="string"),this.R=i.token,new Zy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=HS(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function Mt(r,t){return r<t?-1:r>t?1:0}function Da(r,t,i){return r.length===t.length&&r.every((a,o)=>i(a,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=-62135596800,$y=1e6;class Ce{static now(){return Ce.fromMillis(Date.now())}static fromDate(t){return Ce.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*$y);return new Ce(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Jy)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$y}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Jy;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new Ce(0,0))}static max(){return new Et(new Ce(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="__name__";class oi{constructor(t,i,a){i===void 0?i=0:i>t.length&&At(),a===void 0?a=t.length-i:a>t.length-i&&At(),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return oi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof oi?t.forEach(a=>{i.push(a)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=oi.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Math.sign(t.length-i.length)}static compareSegments(t,i){const a=oi.isNumericId(t),o=oi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?oi.extractNumericId(t).compare(oi.extractNumericId(i)):t<i?-1:t>i?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Vr.fromString(t.substring(4,t.length-2))}}class Wt extends oi{construct(t,i,a){return new Wt(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ct(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(o=>o.length>0))}return new Wt(i)}static emptyPath(){return new Wt([])}}const FS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends oi{construct(t,i,a){return new qe(t,i,a)}static isValidIdentifier(t){return FS.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wy}static keyField(){return new qe([Wy])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let h=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new ct(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ct(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,o+=2}else g==="`"?(h=!h,o++):g!=="."||h?(a+=g,o++):(c(),o++)}if(c(),h)throw new ct(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(i)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(t){this.path=t}static fromPath(t){return new pt(Wt.fromString(t))}static fromName(t){return new pt(Wt.fromString(t).popFirst(5))}static empty(){return new pt(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Wt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Wt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new Wt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=-1;function QS(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(a===1e9?new Ce(i+1,0):new Ce(i,a));return new Mr(o,pt.empty(),t)}function GS(r){return new Mr(r.readTime,r.key,ao)}class Mr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Mr(Et.min(),pt.empty(),ao)}static max(){return new Mr(Et.max(),pt.empty(),ao)}}function KS(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=pt.comparator(r.documentKey,t.documentKey),i!==0?i:Mt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==YS)throw r;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&At(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):X.reject(i)}static resolve(t){return new X((i,a)=>{i(t)})}static reject(t){return new X((i,a)=>{a(t)})}static waitFor(t){return new X((i,a)=>{let o=0,c=0,h=!1;t.forEach(g=>{++o,g.next(()=>{++c,h&&c===o&&i()},y=>a(y))}),h=!0,c===o&&i()})}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next(o=>o?X.resolve(o):a());return i}static forEach(t,i){const a=[];return t.forEach((o,c)=>{a.push(i.call(this,o,c))}),this.waitFor(a)}static mapArray(t,i){return new X((a,o)=>{const c=t.length,h=new Array(c);let g=0;for(let y=0;y<c;y++){const p=y;i(t[p]).next(A=>{h[p]=A,++g,g===c&&a(h)},A=>o(A))}})}static doWhile(t,i){return new X((a,o)=>{const c=()=>{t()===!0?i().next(()=>{c()},o):a()};c()})}}function ZS(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ba(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.oe(a),this._e=a=>i.writeSequenceNumber(a))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Tc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=-1;function Sc(r){return r==null}function lc(r){return r===0&&1/r==-1/0}function JS(r){return typeof r=="number"&&Number.isInteger(r)&&!lc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="";function $S(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=t_(t)),t=WS(r.get(i),t);return t_(t)}function WS(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case Rv:i+="";break;default:i+=c}}return i}function t_(r){return r+Rv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function ws(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function wv(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t,i){this.comparator=t,this.root=i||je.EMPTY}insert(t,i){return new ie(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,je.BLACK,null,null))}remove(t){return new ie(this.comparator,this.root.remove(t,this.comparator).copy(null,null,je.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,a)=>(t(i,a),!1))}toString(){const t=[];return this.inorderTraversal((i,a)=>(t.push(`${i}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Fu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Fu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Fu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Fu(this.root,t,this.comparator,!0)}}class Fu{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class je{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??je.RED,this.left=o??je.EMPTY,this.right=c??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new je(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return je.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw At();const t=this.left.check();if(t!==this.right.check())throw At();return t+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw At()}get value(){throw At()}get color(){throw At()}get left(){throw At()}get right(){throw At()}copy(t,i,a,o,c){return this}insert(t,i,a){return new je(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t){this.comparator=t,this.data=new ie(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,a)=>(t(i),!1))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new n_(this.data.getIterator())}getIteratorFrom(t){return new n_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(a=>{i=i.add(a)}),i}isEqual(t){if(!(t instanceof De)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new De(this.comparator);return i.data=t,i}}class n_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new qn([])}unionWith(t){let i=new De(qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new qn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Da(this.fields,t.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Cv("Invalid base64 string: "+c):c}}(t);return new He(i)}static fromUint8Array(t){const i=function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c}(t);return new He(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}He.EMPTY_BYTE_STRING=new He("");const tb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xr(r){if(Gt(!!r),typeof r=="string"){let t=0;const i=tb.exec(r);if(Gt(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:fe(r.seconds),nanos:fe(r.nanos)}}function fe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ur(r){return typeof r=="string"?He.fromBase64String(r):He.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="server_timestamp",Ov="__type__",Nv="__previous_value__",Vv="__local_write_time__";function jd(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[Ov])===null||i===void 0?void 0:i.stringValue)===Dv}function bc(r){const t=r.mapValue.fields[Nv];return jd(t)?bc(t):t}function lo(r){const t=xr(r.mapValue.fields[Vv].timestampValue);return new Ce(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(t,i,a,o,c,h,g,y,p){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=p}}const oc="(default)";class oo{constructor(t,i){this.projectId=t,this.database=i||oc}static empty(){return new oo("","")}get isDefaultDatabase(){return this.database===oc}isEqual(t){return t instanceof oo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="__type__",nb="__max__",Qu={mapValue:{}},Mv="__vector__",uc="value";function Lr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?jd(r)?4:rb(r)?9007199254740991:ib(r)?10:11:At()}function hi(r,t){if(r===t)return!0;const i=Lr(r);if(i!==Lr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return lo(r).isEqual(lo(t));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=xr(o.timestampValue),g=xr(c.timestampValue);return h.seconds===g.seconds&&h.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,c){return Ur(o.bytesValue).isEqual(Ur(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,c){return fe(o.geoPointValue.latitude)===fe(c.geoPointValue.latitude)&&fe(o.geoPointValue.longitude)===fe(c.geoPointValue.longitude)}(r,t);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return fe(o.integerValue)===fe(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=fe(o.doubleValue),g=fe(c.doubleValue);return h===g?lc(h)===lc(g):isNaN(h)&&isNaN(g)}return!1}(r,t);case 9:return Da(r.arrayValue.values||[],t.arrayValue.values||[],hi);case 10:case 11:return function(o,c){const h=o.mapValue.fields||{},g=c.mapValue.fields||{};if(e_(h)!==e_(g))return!1;for(const y in h)if(h.hasOwnProperty(y)&&(g[y]===void 0||!hi(h[y],g[y])))return!1;return!0}(r,t);default:return At()}}function uo(r,t){return(r.values||[]).find(i=>hi(i,t))!==void 0}function Oa(r,t){if(r===t)return 0;const i=Lr(r),a=Lr(t);if(i!==a)return Mt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,t.booleanValue);case 2:return function(c,h){const g=fe(c.integerValue||c.doubleValue),y=fe(h.integerValue||h.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(r,t);case 3:return i_(r.timestampValue,t.timestampValue);case 4:return i_(lo(r),lo(t));case 5:return Mt(r.stringValue,t.stringValue);case 6:return function(c,h){const g=Ur(c),y=Ur(h);return g.compareTo(y)}(r.bytesValue,t.bytesValue);case 7:return function(c,h){const g=c.split("/"),y=h.split("/");for(let p=0;p<g.length&&p<y.length;p++){const A=Mt(g[p],y[p]);if(A!==0)return A}return Mt(g.length,y.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,h){const g=Mt(fe(c.latitude),fe(h.latitude));return g!==0?g:Mt(fe(c.longitude),fe(h.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return r_(r.arrayValue,t.arrayValue);case 10:return function(c,h){var g,y,p,A;const S=c.fields||{},V=h.fields||{},P=(g=S[uc])===null||g===void 0?void 0:g.arrayValue,q=(y=V[uc])===null||y===void 0?void 0:y.arrayValue,G=Mt(((p=P==null?void 0:P.values)===null||p===void 0?void 0:p.length)||0,((A=q==null?void 0:q.values)===null||A===void 0?void 0:A.length)||0);return G!==0?G:r_(P,q)}(r.mapValue,t.mapValue);case 11:return function(c,h){if(c===Qu.mapValue&&h===Qu.mapValue)return 0;if(c===Qu.mapValue)return 1;if(h===Qu.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),p=h.fields||{},A=Object.keys(p);y.sort(),A.sort();for(let S=0;S<y.length&&S<A.length;++S){const V=Mt(y[S],A[S]);if(V!==0)return V;const P=Oa(g[y[S]],p[A[S]]);if(P!==0)return P}return Mt(y.length,A.length)}(r.mapValue,t.mapValue);default:throw At()}}function i_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Mt(r,t);const i=xr(r),a=xr(t),o=Mt(i.seconds,a.seconds);return o!==0?o:Mt(i.nanos,a.nanos)}function r_(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=Oa(i[o],a[o]);if(c)return c}return Mt(i.length,a.length)}function Na(r){return gd(r)}function gd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const a=xr(i);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Ur(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return pt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=gd(c);return a+"]"}(r.arrayValue):"mapValue"in r?function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const h of a)c?c=!1:o+=",",o+=`${h}:${gd(i.fields[h])}`;return o+"}"}(r.mapValue):At()}function Xu(r){switch(Lr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=bc(r);return t?16+Xu(t):16;case 5:return 2*r.stringValue.length;case 6:return Ur(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,c)=>o+Xu(c),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return ws(a.fields,(c,h)=>{o+=c.length+Xu(h)}),o}(r.mapValue);default:throw At()}}function s_(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function pd(r){return!!r&&"integerValue"in r}function qd(r){return!!r&&"arrayValue"in r}function a_(r){return!!r&&"nullValue"in r}function l_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Zu(r){return!!r&&"mapValue"in r}function ib(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[Iv])===null||i===void 0?void 0:i.stringValue)===Mv}function to(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return ws(r.mapValue.fields,(i,a)=>t.mapValue.fields[i]=to(a)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=to(r.arrayValue.values[i]);return t}return Object.assign({},r)}function rb(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===nb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this.value=t}static empty(){return new Un({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Zu(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=to(i)}setAll(t){let i=qe.emptyPath(),a={},o=[];t.forEach((h,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=g.popLast()}h?a[g.lastSegment()]=to(h):o.push(g.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());Zu(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return hi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];Zu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){ws(i,(o,c)=>t[o]=c);for(const o of a)delete t[o]}clone(){return new Un(to(this.value))}}function xv(r){const t=[];return ws(r.fields,(i,a)=>{const o=new qe([i]);if(Zu(a)){const c=xv(a.mapValue).fields;if(c.length===0)t.push(o);else for(const h of c)t.push(o.child(h))}else t.push(o)}),new qn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,i,a,o,c,h,g){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=h,this.documentState=g}static newInvalidDocument(t){return new Xe(t,0,Et.min(),Et.min(),Et.min(),Un.empty(),0)}static newFoundDocument(t,i,a,o){return new Xe(t,1,i,Et.min(),a,o,0)}static newNoDocument(t,i){return new Xe(t,2,i,Et.min(),Et.min(),Un.empty(),0)}static newUnknownDocument(t,i){return new Xe(t,3,i,Et.min(),Et.min(),Un.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(t,i){this.position=t,this.inclusive=i}}function o_(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],h=r.position[o];if(c.field.isKeyField()?a=pt.comparator(pt.fromName(h.referenceValue),i.key):a=Oa(h,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function u_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!hi(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(t,i="asc"){this.field=t,this.dir=i}}function sb(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{}class ve extends Uv{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new lb(t,i,a):i==="array-contains"?new cb(t,a):i==="in"?new fb(t,a):i==="not-in"?new hb(t,a):i==="array-contains-any"?new db(t,a):new ve(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new ob(t,a):new ub(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Oa(i,this.value)):i!==null&&Lr(this.value)===Lr(i)&&this.matchesComparison(Oa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return At()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends Uv{constructor(t,i){super(),this.filters=t,this.op=i,this.ce=null}static create(t,i){return new Hn(t,i)}matches(t){return Lv(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Lv(r){return r.op==="and"}function zv(r){return ab(r)&&Lv(r)}function ab(r){for(const t of r.filters)if(t instanceof Hn)return!1;return!0}function yd(r){if(r instanceof ve)return r.field.canonicalString()+r.op.toString()+Na(r.value);if(zv(r))return r.filters.map(t=>yd(t)).join(",");{const t=r.filters.map(i=>yd(i)).join(",");return`${r.op}(${t})`}}function Bv(r,t){return r instanceof ve?function(a,o){return o instanceof ve&&a.op===o.op&&a.field.isEqual(o.field)&&hi(a.value,o.value)}(r,t):r instanceof Hn?function(a,o){return o instanceof Hn&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((c,h,g)=>c&&Bv(h,o.filters[g]),!0):!1}(r,t):void At()}function Pv(r){return r instanceof ve?function(i){return`${i.field.canonicalString()} ${i.op} ${Na(i.value)}`}(r):r instanceof Hn?function(i){return i.op.toString()+" {"+i.getFilters().map(Pv).join(" ,")+"}"}(r):"Filter"}class lb extends ve{constructor(t,i,a){super(t,i,a),this.key=pt.fromName(a.referenceValue)}matches(t){const i=pt.comparator(t.key,this.key);return this.matchesComparison(i)}}class ob extends ve{constructor(t,i){super(t,"in",i),this.keys=kv("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class ub extends ve{constructor(t,i){super(t,"not-in",i),this.keys=kv("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function kv(r,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>pt.fromName(a.referenceValue))}class cb extends ve{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return qd(i)&&uo(i.arrayValue,this.value)}}class fb extends ve{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&uo(this.value.arrayValue,i)}}class hb extends ve{constructor(t,i){super(t,"not-in",i)}matches(t){if(uo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!uo(this.value.arrayValue,i)}}class db extends ve{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!qd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>uo(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(t,i=null,a=[],o=[],c=null,h=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=h,this.endAt=g,this.le=null}}function c_(r,t=null,i=[],a=[],o=null,c=null,h=null){return new mb(r,t,i,a,o,c,h)}function Hd(r){const t=St(r);if(t.le===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(a=>yd(a)).join(","),i+="|ob:",i+=t.orderBy.map(a=>function(c){return c.field.canonicalString()+c.dir}(a)).join(","),Sc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Na(a)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Na(a)).join(",")),t.le=i}return t.le}function Fd(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!sb(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Bv(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!u_(r.startAt,t.startAt)&&u_(r.endAt,t.endAt)}function _d(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(t,i=null,a=[],o=[],c=null,h="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=h,this.startAt=g,this.endAt=y,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function gb(r,t,i,a,o,c,h,g){return new mo(r,t,i,a,o,c,h,g)}function Rc(r){return new mo(r)}function f_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function jv(r){return r.collectionGroup!==null}function eo(r){const t=St(r);if(t.he===null){t.he=[];const i=new Set;for(const c of t.explicitOrderBy)t.he.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let g=new De(qe.comparator);return h.filters.forEach(y=>{y.getFlattenedFilters().forEach(p=>{p.isInequality()&&(g=g.add(p.field))})}),g})(t).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||t.he.push(new fc(c,a))}),i.has(qe.keyField().canonicalString())||t.he.push(new fc(qe.keyField(),a))}return t.he}function ui(r){const t=St(r);return t.Pe||(t.Pe=pb(t,eo(r))),t.Pe}function pb(r,t){if(r.limitType==="F")return c_(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new fc(o.field,c)});const i=r.endAt?new cc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new cc(r.startAt.position,r.startAt.inclusive):null;return c_(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function vd(r,t){const i=r.filters.concat([t]);return new mo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Ad(r,t,i){return new mo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function wc(r,t){return Fd(ui(r),ui(t))&&r.limitType===t.limitType}function qv(r){return`${Hd(ui(r))}|lt:${r.limitType}`}function Ta(r){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(o=>Pv(o)).join(", ")}]`),Sc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(o=>Na(o)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(o=>Na(o)).join(",")),`Target(${a})`}(ui(r))}; limitType=${r.limitType})`}function Cc(r,t){return t.isFoundDocument()&&function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)}(r,t)&&function(a,o){for(const c of eo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,t)&&function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0}(r,t)&&function(a,o){return!(a.startAt&&!function(h,g,y){const p=o_(h,g,y);return h.inclusive?p<=0:p<0}(a.startAt,eo(a),o)||a.endAt&&!function(h,g,y){const p=o_(h,g,y);return h.inclusive?p>=0:p>0}(a.endAt,eo(a),o))}(r,t)}function yb(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Hv(r){return(t,i)=>{let a=!1;for(const o of eo(r)){const c=_b(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function _b(r,t,i){const a=r.field.isKeyField()?pt.comparator(t.key,i.key):function(c,h,g){const y=h.data.field(c),p=g.data.field(c);return y!==null&&p!==null?Oa(y,p):At()}(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return At()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ws(this.inner,(i,a)=>{for(const[o,c]of a)t(o,c)})}isEmpty(){return wv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=new ie(pt.comparator);function Fi(){return vb}const Fv=new ie(pt.comparator);function Jl(...r){let t=Fv;for(const i of r)t=t.insert(i.key,i);return t}function Qv(r){let t=Fv;return r.forEach((i,a)=>t=t.insert(i,a.overlayedDocument)),t}function vs(){return no()}function Gv(){return no()}function no(){return new Cs(r=>r.toString(),(r,t)=>r.isEqual(t))}const Ab=new ie(pt.comparator),Eb=new De(pt.comparator);function Vt(...r){let t=Eb;for(const i of r)t=t.add(i);return t}const Tb=new De(Mt);function Sb(){return Tb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lc(t)?"-0":t}}function Kv(r){return{integerValue:""+r}}function bb(r,t){return JS(t)?Kv(t):Qd(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(){this._=void 0}}function Rb(r,t,i){return r instanceof hc?function(o,c){const h={fields:{[Ov]:{stringValue:Dv},[Vv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&jd(c)&&(c=bc(c)),c&&(h.fields[Nv]=c),{mapValue:h}}(i,t):r instanceof co?Xv(r,t):r instanceof fo?Zv(r,t):function(o,c){const h=Yv(o,c),g=h_(h)+h_(o.Ie);return pd(h)&&pd(o.Ie)?Kv(g):Qd(o.serializer,g)}(r,t)}function wb(r,t,i){return r instanceof co?Xv(r,t):r instanceof fo?Zv(r,t):i}function Yv(r,t){return r instanceof dc?function(a){return pd(a)||function(c){return!!c&&"doubleValue"in c}(a)}(t)?t:{integerValue:0}:null}class hc extends Dc{}class co extends Dc{constructor(t){super(),this.elements=t}}function Xv(r,t){const i=Jv(t);for(const a of r.elements)i.some(o=>hi(o,a))||i.push(a);return{arrayValue:{values:i}}}class fo extends Dc{constructor(t){super(),this.elements=t}}function Zv(r,t){let i=Jv(t);for(const a of r.elements)i=i.filter(o=>!hi(o,a));return{arrayValue:{values:i}}}class dc extends Dc{constructor(t,i){super(),this.serializer=t,this.Ie=i}}function h_(r){return fe(r.integerValue||r.doubleValue)}function Jv(r){return qd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Cb(r,t){return r.field.isEqual(t.field)&&function(a,o){return a instanceof co&&o instanceof co||a instanceof fo&&o instanceof fo?Da(a.elements,o.elements,hi):a instanceof dc&&o instanceof dc?hi(a.Ie,o.Ie):a instanceof hc&&o instanceof hc}(r.transform,t.transform)}class Db{constructor(t,i){this.version=t,this.transformResults=i}}class ji{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ji}static exists(t){return new ji(void 0,t)}static updateTime(t){return new ji(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ju(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Oc{}function $v(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new tA(r.key,ji.none()):new go(r.key,r.data,ji.none());{const i=r.data,a=Un.empty();let o=new De(qe.comparator);for(let c of t.fields)if(!o.has(c)){let h=i.field(c);h===null&&c.length>1&&(c=c.popLast(),h=i.field(c)),h===null?a.delete(c):a.set(c,h),o=o.add(c)}return new Ds(r.key,a,new qn(o.toArray()),ji.none())}}function Ob(r,t,i){r instanceof go?function(o,c,h){const g=o.value.clone(),y=m_(o.fieldTransforms,c,h.transformResults);g.setAll(y),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(r,t,i):r instanceof Ds?function(o,c,h){if(!Ju(o.precondition,c))return void c.convertToUnknownDocument(h.version);const g=m_(o.fieldTransforms,c,h.transformResults),y=c.data;y.setAll(Wv(o)),y.setAll(g),c.convertToFoundDocument(h.version,y).setHasCommittedMutations()}(r,t,i):function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,i)}function io(r,t,i,a){return r instanceof go?function(c,h,g,y){if(!Ju(c.precondition,h))return g;const p=c.value.clone(),A=g_(c.fieldTransforms,y,h);return p.setAll(A),h.convertToFoundDocument(h.version,p).setHasLocalMutations(),null}(r,t,i,a):r instanceof Ds?function(c,h,g,y){if(!Ju(c.precondition,h))return g;const p=g_(c.fieldTransforms,y,h),A=h.data;return A.setAll(Wv(c)),A.setAll(p),h.convertToFoundDocument(h.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(S=>S.field))}(r,t,i,a):function(c,h,g){return Ju(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):g}(r,t,i)}function Nb(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=Yv(a.transform,o||null);c!=null&&(i===null&&(i=Un.empty()),i.set(a.field,c))}return i||null}function d_(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Da(a,o,(c,h)=>Cb(c,h))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class go extends Oc{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ds extends Oc{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Wv(r){const t=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}}),t}function m_(r,t,i){const a=new Map;Gt(r.length===i.length);for(let o=0;o<i.length;o++){const c=r[o],h=c.transform,g=t.data.field(c.field);a.set(c.field,wb(h,g,i[o]))}return a}function g_(r,t,i){const a=new Map;for(const o of r){const c=o.transform,h=i.data.field(o.field);a.set(o.field,Rb(c,h,t))}return a}class tA extends Oc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vb extends Oc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&Ob(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=io(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=io(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=Gv();return this.mutations.forEach(o=>{const c=t.get(o.key),h=c.overlayedDocument;let g=this.applyToLocalView(h,c.mutatedFields);g=i.has(o.key)?null:g;const y=$v(h,g);y!==null&&a.set(o.key,y),h.isValidDocument()||h.convertToNoDocument(Et.min())}),a}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Vt())}isEqual(t){return this.batchId===t.batchId&&Da(this.mutations,t.mutations,(i,a)=>d_(i,a))&&Da(this.baseMutations,t.baseMutations,(i,a)=>d_(i,a))}}class Gd{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Gt(t.mutations.length===a.length);let o=function(){return Ab}();const c=t.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,a[h].version);return new Gd(t,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,zt;function Ub(r){switch(r){case Z.OK:return At();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return At()}}function eA(r){if(r===void 0)return Hi("GRPC error has no .code"),Z.UNKNOWN;switch(r){case _e.OK:return Z.OK;case _e.CANCELLED:return Z.CANCELLED;case _e.UNKNOWN:return Z.UNKNOWN;case _e.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case _e.INTERNAL:return Z.INTERNAL;case _e.UNAVAILABLE:return Z.UNAVAILABLE;case _e.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case _e.NOT_FOUND:return Z.NOT_FOUND;case _e.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case _e.ABORTED:return Z.ABORTED;case _e.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case _e.DATA_LOSS:return Z.DATA_LOSS;default:return At()}}(zt=_e||(_e={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=new Vr([4294967295,4294967295],0);function p_(r){const t=Lb().encode(r),i=new yv;return i.update(t),new Uint8Array(i.digest())}function y_(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Vr([i,a],0),new Vr([o,c],0)]}class Kd{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new $l(`Invalid padding: ${i}`);if(a<0)throw new $l(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new $l(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new $l(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*t.length-i,this.de=Vr.fromNumber(this.Ee)}Ae(t,i,a){let o=t.add(i.multiply(Vr.fromNumber(a)));return o.compare(zb)===1&&(o=new Vr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const i=p_(t),[a,o]=y_(i);for(let c=0;c<this.hashCount;c++){const h=this.Ae(a,o,c);if(!this.Re(h))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),h=new Kd(c,o,i);return a.forEach(g=>h.insert(g)),h}insert(t){if(this.Ee===0)return;const i=p_(t),[a,o]=y_(i);for(let c=0;c<this.hashCount;c++){const h=this.Ae(a,o,c);this.Ve(h)}}Ve(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class $l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,po.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Nc(Et.min(),o,new ie(Mt),Fi(),Vt())}}class po{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new po(a,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(t,i,a,o){this.me=t,this.removedTargetIds=i,this.key=a,this.fe=o}}class nA{constructor(t,i){this.targetId=t,this.ge=i}}class iA{constructor(t,i,a=He.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class __{constructor(){this.pe=0,this.ye=v_(),this.we=He.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.we=t)}Fe(){let t=Vt(),i=Vt(),a=Vt();return this.ye.forEach((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:At()}}),new po(this.we,this.be,t,i,a)}Me(){this.Se=!1,this.ye=v_()}xe(t,i){this.Se=!0,this.ye=this.ye.insert(t,i)}Oe(t){this.Se=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Gt(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class Bb{constructor(t){this.ke=t,this.qe=new Map,this.Qe=Fi(),this.$e=Gu(),this.Ke=Gu(),this.Ue=new ie(Mt)}We(t){for(const i of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(i,t.fe):this.ze(i,t.key,t.fe);for(const i of t.removedTargetIds)this.ze(i,t.key,t.fe)}je(t){this.forEachTarget(t,i=>{const a=this.He(i);switch(t.state){case 0:this.Je(i)&&a.Ce(t.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(t.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(i);break;case 3:this.Je(i)&&(a.Le(),a.Ce(t.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),a.Ce(t.resumeToken));break;default:At()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.qe.forEach((a,o)=>{this.Je(o)&&i(o)})}Ze(t){const i=t.targetId,a=t.ge.count,o=this.Xe(i);if(o){const c=o.target;if(_d(c))if(a===0){const h=new pt(c.path);this.ze(i,h,Xe.newNoDocument(h,Et.min()))}else Gt(a===1);else{const h=this.et(i);if(h!==a){const g=this.tt(t),y=g?this.nt(g,t,h):1;if(y!==0){this.Ye(i);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,p)}}}}}tt(t){const i=t.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let h,g;try{h=Ur(a).toUint8Array()}catch(y){if(y instanceof Cv)return Ca("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Kd(h,o,c)}catch(y){return Ca(y instanceof $l?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.Ee===0?null:g}nt(t,i,a){return i.ge.count===a-this.st(t,i.targetId)?0:2}st(t,i){const a=this.ke.getRemoteKeysForTarget(i);let o=0;return a.forEach(c=>{const h=this.ke.it(),g=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.ze(i,c,null),o++)}),o}ot(t){const i=new Map;this.qe.forEach((c,h)=>{const g=this.Xe(h);if(g){if(c.current&&_d(g.target)){const y=new pt(g.target.path);this._t(y).has(h)||this.ut(h,y)||this.ze(h,y,Xe.newNoDocument(y,t))}c.ve&&(i.set(h,c.Fe()),c.Me())}});let a=Vt();this.Ke.forEach((c,h)=>{let g=!0;h.forEachWhile(y=>{const p=this.Xe(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(c))}),this.Qe.forEach((c,h)=>h.setReadTime(t));const o=new Nc(t,i,this.Ue,this.Qe,a);return this.Qe=Fi(),this.$e=Gu(),this.Ke=Gu(),this.Ue=new ie(Mt),o}Ge(t,i){if(!this.Je(t))return;const a=this.ut(t,i.key)?2:0;this.He(t).xe(i.key,a),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(t)),this.Ke=this.Ke.insert(i.key,this.ct(i.key).add(t))}ze(t,i,a){if(!this.Je(t))return;const o=this.He(t);this.ut(t,i)?o.xe(i,1):o.Oe(i),this.Ke=this.Ke.insert(i,this.ct(i).delete(t)),this.Ke=this.Ke.insert(i,this.ct(i).add(t)),a&&(this.Qe=this.Qe.insert(i,a))}removeTarget(t){this.qe.delete(t)}et(t){const i=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let i=this.qe.get(t);return i||(i=new __,this.qe.set(t,i)),i}ct(t){let i=this.Ke.get(t);return i||(i=new De(Mt),this.Ke=this.Ke.insert(t,i)),i}_t(t){let i=this.$e.get(t);return i||(i=new De(Mt),this.$e=this.$e.insert(t,i)),i}Je(t){const i=this.Xe(t)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",t),i}Xe(t){const i=this.qe.get(t);return i&&i.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new __),this.ke.getRemoteKeysForTarget(t).forEach(i=>{this.ze(t,i,null)})}ut(t,i){return this.ke.getRemoteKeysForTarget(t).has(i)}}function Gu(){return new ie(pt.comparator)}function v_(){return new ie(pt.comparator)}const Pb={asc:"ASCENDING",desc:"DESCENDING"},kb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jb={and:"AND",or:"OR"};class qb{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Ed(r,t){return r.useProto3Json||Sc(t)?t:{value:t}}function mc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function rA(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Hb(r,t){return mc(r,t.toTimestamp())}function ci(r){return Gt(!!r),Et.fromTimestamp(function(i){const a=xr(i);return new Ce(a.seconds,a.nanos)}(r))}function Yd(r,t){return Td(r,t).canonicalString()}function Td(r,t){const i=function(o){return new Wt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?i:i.child(t)}function sA(r){const t=Wt.fromString(r);return Gt(cA(t)),t}function Sd(r,t){return Yd(r.databaseId,t.path)}function ed(r,t){const i=sA(t);if(i.get(1)!==r.databaseId.projectId)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pt(lA(i))}function aA(r,t){return Yd(r.databaseId,t)}function Fb(r){const t=sA(r);return t.length===4?Wt.emptyPath():lA(t)}function bd(r){return new Wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function lA(r){return Gt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function A_(r,t,i){return{name:Sd(r,t),fields:i.value.mapValue.fields}}function Qb(r,t){let i;if("targetChange"in t){t.targetChange;const a=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:At()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=function(p,A){return p.useProto3Json?(Gt(A===void 0||typeof A=="string"),He.fromBase64String(A||"")):(Gt(A===void 0||A instanceof Buffer||A instanceof Uint8Array),He.fromUint8Array(A||new Uint8Array))}(r,t.targetChange.resumeToken),h=t.targetChange.cause,g=h&&function(p){const A=p.code===void 0?Z.UNKNOWN:eA(p.code);return new ct(A,p.message||"")}(h);i=new iA(a,o,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=ed(r,a.document.name),c=ci(a.document.updateTime),h=a.document.createTime?ci(a.document.createTime):Et.min(),g=new Un({mapValue:{fields:a.document.fields}}),y=Xe.newFoundDocument(o,c,h,g),p=a.targetIds||[],A=a.removedTargetIds||[];i=new $u(p,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=ed(r,a.document),c=a.readTime?ci(a.readTime):Et.min(),h=Xe.newNoDocument(o,c),g=a.removedTargetIds||[];i=new $u([],g,h.key,h)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=ed(r,a.document),c=a.removedTargetIds||[];i=new $u([],c,o,null)}else{if(!("filter"in t))return At();{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,h=new xb(o,c),g=a.targetId;i=new nA(g,h)}}return i}function Gb(r,t){let i;if(t instanceof go)i={update:A_(r,t.key,t.value)};else if(t instanceof tA)i={delete:Sd(r,t.key)};else if(t instanceof Ds)i={update:A_(r,t.key,t.data),updateMask:eR(t.fieldMask)};else{if(!(t instanceof Vb))return At();i={verify:Sd(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(a=>function(c,h){const g=h.transform;if(g instanceof hc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof co)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof fo)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof dc)return{fieldPath:h.field.canonicalString(),increment:g.Ie};throw At()}(0,a))),t.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:Hb(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:At()}(r,t.precondition)),i}function Kb(r,t){return r&&r.length>0?(Gt(t!==void 0),r.map(i=>function(o,c){let h=o.updateTime?ci(o.updateTime):ci(c);return h.isEqual(Et.min())&&(h=ci(c)),new Db(h,o.transformResults||[])}(i,t))):[]}function Yb(r,t){return{documents:[aA(r,t.path)]}}function Xb(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=aA(r,o);const c=function(p){if(p.length!==0)return uA(Hn.create(p,"and"))}(t.filters);c&&(i.structuredQuery.where=c);const h=function(p){if(p.length!==0)return p.map(A=>function(V){return{field:Sa(V.field),direction:$b(V.dir)}}(A))}(t.orderBy);h&&(i.structuredQuery.orderBy=h);const g=Ed(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(t.endAt)),{ht:i,parent:o}}function Zb(r){let t=Fb(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Gt(a===1);const A=i.from[0];A.allDescendants?o=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=function(S){const V=oA(S);return V instanceof Hn&&zv(V)?V.getFilters():[V]}(i.where));let h=[];i.orderBy&&(h=function(S){return S.map(V=>function(q){return new fc(ba(q.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(q.direction))}(V))}(i.orderBy));let g=null;i.limit&&(g=function(S){let V;return V=typeof S=="object"?S.value:S,Sc(V)?null:V}(i.limit));let y=null;i.startAt&&(y=function(S){const V=!!S.before,P=S.values||[];return new cc(P,V)}(i.startAt));let p=null;return i.endAt&&(p=function(S){const V=!S.before,P=S.values||[];return new cc(P,V)}(i.endAt)),gb(t,o,h,c,g,"F",y,p)}function Jb(r,t){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At()}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function oA(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ba(i.unaryFilter.field);return ve.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ba(i.unaryFilter.field);return ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ba(i.unaryFilter.field);return ve.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ba(i.unaryFilter.field);return ve.create(h,"!=",{nullValue:"NULL_VALUE"});default:return At()}}(r):r.fieldFilter!==void 0?function(i){return ve.create(ba(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return At()}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return Hn.create(i.compositeFilter.filters.map(a=>oA(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return At()}}(i.compositeFilter.op))}(r):At()}function $b(r){return Pb[r]}function Wb(r){return kb[r]}function tR(r){return jb[r]}function Sa(r){return{fieldPath:r.canonicalString()}}function ba(r){return qe.fromServerFormat(r.fieldPath)}function uA(r){return r instanceof ve?function(i){if(i.op==="=="){if(l_(i.value))return{unaryFilter:{field:Sa(i.field),op:"IS_NAN"}};if(a_(i.value))return{unaryFilter:{field:Sa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(l_(i.value))return{unaryFilter:{field:Sa(i.field),op:"IS_NOT_NAN"}};if(a_(i.value))return{unaryFilter:{field:Sa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sa(i.field),op:Wb(i.op),value:i.value}}}(r):r instanceof Hn?function(i){const a=i.getFilters().map(o=>uA(o));return a.length===1?a[0]:{compositeFilter:{op:tR(i.op),filters:a}}}(r):At()}function eR(r){const t=[];return r.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function cA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(t,i,a,o,c=Et.min(),h=Et.min(),g=He.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new Dr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(t){this.Tt=t}}function iR(r){const t=Zb({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ad(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(){this.Tn=new sR}addToCollectionParentIndex(t,i){return this.Tn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Tn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Mr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Mr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class sR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new De(Wt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new De(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fA=41943040;class on{static withCacheSize(t){return new on(t,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(fA,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new Va(0)}static Un(){return new Va(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="LruGarbageCollector",aR=1048576;function S_([r,t],[i,a]){const o=Mt(r,i);return o===0?Mt(t,a):o}class lR{constructor(t){this.Hn=t,this.buffer=new De(S_),this.Jn=0}Yn(){return++this.Jn}Zn(t){const i=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();S_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class oR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ut(T_,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ba(i)?ut(T_,"Ignoring IndexedDB error during garbage collection: ",i):await za(i)}await this.er(3e5)})}}class uR{constructor(t,i){this.tr=t,this.params=i}calculateTargetCount(t,i){return this.tr.nr(t).next(a=>Math.floor(i/100*a))}nthSequenceNumber(t,i){if(i===0)return X.resolve(Tc.ae);const a=new lR(i);return this.tr.forEachTarget(t,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(t,i,a){return this.tr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.tr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(E_)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E_):this.ir(t,i))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,i){let a,o,c,h,g,y,p;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,h=Date.now(),this.nthSequenceNumber(t,o))).next(S=>(a=S,g=Date.now(),this.removeTargets(t,a,i))).next(S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(t,a))).next(S=>(p=Date.now(),Ea()<=Bt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-A}ms
	Determined least recently used ${o} in `+(g-h)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${S} documents in `+(p-y)+`ms
Total Duration: ${p-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S})))}}function cR(r,t){return new uR(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(){this.changes=new Cs(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next(o=>(a=o,this.remoteDocumentCache.getEntry(t,i))).next(o=>(a!==null&&io(a.mutation,o,qn.empty(),Ce.now()),o))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(a=>this.getLocalViewOfDocuments(t,a,Vt()).next(()=>a))}getLocalViewOfDocuments(t,i,a=Vt()){const o=vs();return this.populateOverlays(t,o,i).next(()=>this.computeViews(t,i,o,a).next(c=>{let h=Jl();return c.forEach((g,y)=>{h=h.insert(g,y.overlayedDocument)}),h}))}getOverlayedDocuments(t,i){const a=vs();return this.populateOverlays(t,a,i).next(()=>this.computeViews(t,i,a,Vt()))}populateOverlays(t,i,a){const o=[];return a.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(t,o).next(c=>{c.forEach((h,g)=>{i.set(h,g)})})}computeViews(t,i,a,o){let c=Fi();const h=no(),g=function(){return no()}();return i.forEach((y,p)=>{const A=a.get(p.key);o.has(p.key)&&(A===void 0||A.mutation instanceof Ds)?c=c.insert(p.key,p):A!==void 0?(h.set(p.key,A.mutation.getFieldMask()),io(A.mutation,p,A.mutation.getFieldMask(),Ce.now())):h.set(p.key,qn.empty())}),this.recalculateAndSaveOverlays(t,c).next(y=>(y.forEach((p,A)=>h.set(p,A)),i.forEach((p,A)=>{var S;return g.set(p,new hR(A,(S=h.get(p))!==null&&S!==void 0?S:null))}),g))}recalculateAndSaveOverlays(t,i){const a=no();let o=new ie((h,g)=>h-g),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(h=>{for(const g of h)g.keys().forEach(y=>{const p=i.get(y);if(p===null)return;let A=a.get(y)||qn.empty();A=g.applyToLocalView(p,A),a.set(y,A);const S=(o.get(g.batchId)||Vt()).add(y);o=o.insert(g.batchId,S)})}).next(()=>{const h=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),p=y.key,A=y.value,S=Gv();A.forEach(V=>{if(!c.has(V)){const P=$v(i.get(V),a.get(V));P!==null&&S.set(V,P),c=c.add(V)}}),h.push(this.documentOverlayCache.saveOverlays(t,p,S))}return X.waitFor(h)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,i,a,o){return function(h){return pt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):jv(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next(c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):X.resolve(vs());let g=ao,y=c;return h.next(p=>X.forEach(p,(A,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next(V=>{y=y.insert(A,V)}))).next(()=>this.populateOverlays(t,p,c)).next(()=>this.computeViews(t,y,p,Vt())).next(A=>({batchId:g,changes:Qv(A)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new pt(i)).next(a=>{let o=Jl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let h=Jl();return this.indexManager.getCollectionParents(t,c).next(g=>X.forEach(g,y=>{const p=function(S,V){return new mo(V,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,p,a,o).next(A=>{A.forEach((S,V)=>{h=h.insert(S,V)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next(h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o))).next(h=>{c.forEach((y,p)=>{const A=p.getKey();h.get(A)===null&&(h=h.insert(A,Xe.newInvalidDocument(A)))});let g=Jl();return h.forEach((y,p)=>{const A=c.get(y);A!==void 0&&io(A.mutation,p,qn.empty(),Ce.now()),Cc(i,p)&&(g=g.insert(y,p))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,i){return X.resolve(this.dr.get(i))}saveBundleMetadata(t,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ci(o.createTime)}}(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Ar.get(i))}saveNamedQuery(t,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:iR(o.bundledQuery),readTime:ci(o.readTime)}}(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.overlays=new ie(pt.comparator),this.Rr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=vs();return X.forEach(i,o=>this.getOverlay(t,o).next(c=>{c!==null&&a.set(o,c)})).next(()=>a)}saveOverlays(t,i,a){return a.forEach((o,c)=>{this.Et(t,i,c)}),X.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const o=vs(),c=i.length+1,h=new pt(i.child("")),g=this.overlays.getIteratorFrom(h);for(;g.hasNext();){const y=g.getNext().value,p=y.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return X.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new ie((p,A)=>p-A);const h=this.overlays.getIterator();for(;h.hasNext();){const p=h.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>a){let A=c.get(p.largestBatchId);A===null&&(A=vs(),c=c.insert(p.largestBatchId,A)),A.set(p.getKey(),p)}}const g=vs(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((p,A)=>g.set(p,A)),!(g.size()>=o)););return X.resolve(g)}Et(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new Mb(i,a));let c=this.Rr.get(i);c===void 0&&(c=Vt(),this.Rr.set(i,c)),this.Rr.set(i,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(){this.Vr=new De(Le.mr),this.gr=new De(Le.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,i){const a=new Le(t,i);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(t,i){t.forEach(a=>this.addReference(a,i))}removeReference(t,i){this.wr(new Le(t,i))}br(t,i){t.forEach(a=>this.removeReference(a,i))}Sr(t){const i=new pt(new Wt([])),a=new Le(i,t),o=new Le(i,t+1),c=[];return this.gr.forEachInRange([a,o],h=>{this.wr(h),c.push(h.key)}),c}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const i=new pt(new Wt([])),a=new Le(i,t),o=new Le(i,t+1);let c=Vt();return this.gr.forEachInRange([a,o],h=>{c=c.add(h.key)}),c}containsKey(t){const i=new Le(t,0),a=this.Vr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Le{constructor(t,i){this.key=t,this.Cr=i}static mr(t,i){return pt.comparator(t.key,i.key)||Mt(t.Cr,i.Cr)}static pr(t,i){return Mt(t.Cr,i.Cr)||pt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new De(Le.mr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Ib(c,i,a,o);this.mutationQueue.push(h);for(const g of o)this.Mr=this.Mr.add(new Le(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return X.resolve(h)}lookupMutationBatch(t,i){return X.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.Nr(a),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?kd:this.Fr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([a,o],h=>{const g=this.Or(h.Cr);c.push(g)}),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new De(Mt);return i.forEach(o=>{const c=new Le(o,0),h=new Le(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,h],g=>{a=a.add(g.Cr)})}),X.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;pt.isDocumentKey(c)||(c=c.child(""));const h=new Le(new pt(c),0);let g=new De(Mt);return this.Mr.forEachWhile(y=>{const p=y.key.path;return!!a.isPrefixOf(p)&&(p.length===o&&(g=g.add(y.Cr)),!0)},h),X.resolve(this.Br(g))}Br(t){const i=[];return t.forEach(a=>{const o=this.Or(a);o!==null&&i.push(o)}),i}removeMutationBatch(t,i){Gt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return X.forEach(i.mutations,o=>{const c=new Le(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=a})}qn(t){}containsKey(t,i){const a=new Le(i,0),o=this.Mr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}Lr(t,i){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const i=this.Nr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t){this.kr=t,this.docs=function(){return new ie(pt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,h=this.kr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(t,i){let a=Fi();return i.forEach(o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():Xe.newInvalidDocument(o))}),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=Fi();const h=i.path,g=new pt(h.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:p,value:{document:A}}=y.getNext();if(!h.isPrefixOf(p.path))break;p.path.length>h.length+1||KS(GS(A),a)<=0||(o.has(A.key)||Cc(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,o){At()}qr(t,i){return X.forEach(this.docs,a=>i(a))}newChangeBuffer(t){return new vR(this)}getSize(t){return X.resolve(this.size)}}class vR extends fR{constructor(t){super(),this.Ir=t}applyChanges(t){const i=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(a)}),X.waitFor(i)}getFromCache(t,i){return this.Ir.getEntry(t,i)}getAllFromCache(t,i){return this.Ir.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(t){this.persistence=t,this.Qr=new Cs(i=>Hd(i),Fd),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Xd,this.targetCount=0,this.Ur=Va.Kn()}forEachTarget(t,i){return this.Qr.forEach((a,o)=>i(o)),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.$r&&(this.$r=i),X.resolve()}zn(t){this.Qr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.Ur=new Va(i),this.highestTargetId=i),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,i){return this.zn(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.zn(i),X.resolve()}removeTargetData(t,i){return this.Qr.delete(i.target),this.Kr.Sr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.Qr.forEach((h,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.Qr.delete(h),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)}),X.waitFor(c).next(()=>o)}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.Qr.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this.Kr.yr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this.Kr.br(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(h=>{c.push(o.markPotentiallyOrphaned(t,h))}),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.Kr.Sr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this.Kr.vr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this.Kr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(t,i){this.Wr={},this.overlays={},this.Gr=new Tc(0),this.zr=!1,this.zr=!0,this.jr=new pR,this.referenceDelegate=t(this),this.Hr=new AR(this),this.indexManager=new rR,this.remoteDocumentCache=function(o){return new _R(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new nR(i),this.Yr=new mR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new gR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.Wr[t.toKey()];return a||(a=new yR(i,this.referenceDelegate),this.Wr[t.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,i,a){ut("MemoryPersistence","Starting transaction:",t);const o=new ER(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(c=>this.referenceDelegate.Xr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}ei(t,i){return X.or(Object.values(this.Wr).map(a=>()=>a.containsKey(t,i)))}}class ER extends XS{constructor(t){super(),this.currentSequenceNumber=t}}class Zd{constructor(t){this.persistence=t,this.ti=new Xd,this.ni=null}static ri(t){return new Zd(t)}get ii(){if(this.ni)return this.ni;throw At()}addReference(t,i,a){return this.ti.addReference(a,i),this.ii.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.ti.removeReference(a,i),this.ii.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.ii.add(i.toString()),X.resolve()}removeTarget(t,i){this.ti.Sr(i.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next(o=>{o.forEach(c=>this.ii.add(c.toString()))}).next(()=>a.removeTargetData(t,i))}Zr(){this.ni=new Set}Xr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ii,a=>{const o=pt.fromPath(a);return this.si(t,o).next(c=>{c||i.removeEntry(o,Et.min())})}).next(()=>(this.ni=null,i.apply(t)))}updateLimboDocument(t,i){return this.si(t,i).next(a=>{a?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(t){return 0}si(t,i){return X.or([()=>X.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.ei(t,i)])}}class gc{constructor(t,i){this.persistence=t,this.oi=new Cs(a=>$S(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=cR(this,i)}static ri(t,i){return new gc(t,i)}Zr(){}Xr(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}nr(t){const i=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>i.next(o=>a+o))}sr(t){let i=0;return this.rr(t,a=>{i++}).next(()=>i)}rr(t,i){return X.forEach(this.oi,(a,o)=>this.ar(t,a,o).next(c=>c?X.resolve():i(o)))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.qr(t,h=>this.ar(t,h,i).next(g=>{g||(a++,c.removeEntry(h,Et.min()))})).next(()=>c.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,i){return this.oi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.oi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.oi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.oi.set(i,t.currentSequenceNumber),X.resolve()}Jr(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Xu(t.data.value)),i}ar(t,i,a){return X.or([()=>this.persistence.ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.oi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Hi=a,this.Ji=o}static Yi(t,i){let a=Vt(),o=Vt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Jd(t,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return yT()?8:ZS(gT())>0?6:4}()}initialize(t,i){this.ns=t,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.rs(t,i).next(h=>{c.result=h}).next(()=>{if(!c.result)return this.ss(t,i,o,a).next(h=>{c.result=h})}).next(()=>{if(c.result)return;const h=new TR;return this._s(t,i,h).next(g=>{if(c.result=g,this.Xi)return this.us(t,i,h,g.size)})}).next(()=>c.result)}us(t,i,a,o){return a.documentReadCount<this.es?(Ea()<=Bt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Ta(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),X.resolve()):(Ea()<=Bt.DEBUG&&ut("QueryEngine","Query:",Ta(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(Ea()<=Bt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Ta(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ui(i))):X.resolve())}rs(t,i){if(f_(i))return X.resolve(null);let a=ui(i);return this.indexManager.getIndexType(t,a).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Ad(i,null,"F"),a=ui(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next(c=>{const h=Vt(...c);return this.ns.getDocuments(t,h).next(g=>this.indexManager.getMinOffset(t,a).next(y=>{const p=this.cs(i,g);return this.ls(i,p,h,y.readTime)?this.rs(t,Ad(i,null,"F")):this.hs(t,p,i,y)}))})))}ss(t,i,a,o){return f_(i)||o.isEqual(Et.min())?X.resolve(null):this.ns.getDocuments(t,a).next(c=>{const h=this.cs(i,c);return this.ls(i,h,a,o)?X.resolve(null):(Ea()<=Bt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ta(i)),this.hs(t,h,i,QS(o,ao)).next(g=>g))})}cs(t,i){let a=new De(Hv(t));return i.forEach((o,c)=>{Cc(t,c)&&(a=a.add(c))}),a}ls(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}_s(t,i,a){return Ea()<=Bt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Ta(i)),this.ns.getDocumentsMatchingQuery(t,i,Mr.min(),a)}hs(t,i,a,o){return this.ns.getDocumentsMatchingQuery(t,a,o).next(c=>(i.forEach(h=>{c=c.insert(h.key,h)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="LocalStore",bR=3e8;class RR{constructor(t,i,a,o){this.persistence=t,this.Ps=i,this.serializer=o,this.Ts=new ie(Mt),this.Is=new Cs(c=>Hd(c),Fd),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(a)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new dR(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ts))}}function wR(r,t,i,a){return new RR(r,t,i,a)}async function dA(r,t){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next(c=>(o=c,i.As(t),i.mutationQueue.getAllMutationBatches(a))).next(c=>{const h=[],g=[];let y=Vt();for(const p of o){h.push(p.batchId);for(const A of p.mutations)y=y.add(A.key)}for(const p of c){g.push(p.batchId);for(const A of p.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(a,y).next(p=>({Rs:p,removedBatchIds:h,addedBatchIds:g}))})})}function CR(r,t){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=t.batch.keys(),c=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,y,p,A){const S=p.batch,V=S.keys();let P=X.resolve();return V.forEach(q=>{P=P.next(()=>A.getEntry(y,q)).next(G=>{const j=p.docVersions.get(q);Gt(j!==null),G.version.compareTo(j)<0&&(S.applyToRemoteDocument(G,p),G.isValidDocument()&&(G.setReadTime(p.commitVersion),A.addEntry(G)))})}),P.next(()=>g.mutationQueue.removeMutationBatch(y,S))}(i,a,t,c).next(()=>c.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let y=Vt();for(let p=0;p<g.mutationResults.length;++p)g.mutationResults[p].transformResults.length>0&&(y=y.add(g.batch.mutations[p].key));return y}(t))).next(()=>i.localDocuments.getDocuments(a,o))})}function mA(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Hr.getLastRemoteSnapshotVersion(i))}function DR(r,t){const i=St(r),a=t.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const g=[];t.targetChanges.forEach((A,S)=>{const V=o.get(S);if(!V)return;g.push(i.Hr.removeMatchingKeys(c,A.removedDocuments,S).next(()=>i.Hr.addMatchingKeys(c,A.addedDocuments,S)));let P=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?P=P.withResumeToken(He.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(A.resumeToken,a)),o=o.insert(S,P),function(G,j,at){return G.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=bR?!0:at.addedDocuments.size+at.modifiedDocuments.size+at.removedDocuments.size>0}(V,P,A)&&g.push(i.Hr.updateTargetData(c,P))});let y=Fi(),p=Vt();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))}),g.push(OR(c,h,t.documentUpdates).next(A=>{y=A.Vs,p=A.fs})),!a.isEqual(Et.min())){const A=i.Hr.getLastRemoteSnapshotVersion(c).next(S=>i.Hr.setTargetsMetadata(c,c.currentSequenceNumber,a));g.push(A)}return X.waitFor(g).next(()=>h.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,y,p)).next(()=>y)}).then(c=>(i.Ts=o,c))}function OR(r,t,i){let a=Vt(),o=Vt();return i.forEach(c=>a=a.add(c)),t.getEntries(r,a).next(c=>{let h=Fi();return i.forEach((g,y)=>{const p=c.get(g);y.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(Et.min())?(t.removeEntry(g,y.readTime),h=h.insert(g,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(y),h=h.insert(g,y)):ut($d,"Ignoring outdated watch update for ",g,". Current version:",p.version," Watch version:",y.version)}),{Vs:h,fs:o}})}function NR(r,t){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=kd),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function VR(r,t){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return i.Hr.getTargetData(a,t).next(c=>c?(o=c,X.resolve(o)):i.Hr.allocateTargetId(a).next(h=>(o=new Dr(t,h,"TargetPurposeListen",a.currentSequenceNumber),i.Hr.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=i.Ts.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(a.targetId,a),i.Is.set(t,a.targetId)),a})}async function Rd(r,t,i){const a=St(r),o=a.Ts.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,h=>a.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Ba(h))throw h;ut($d,`Failed to update sequence numbers for target ${t}: ${h}`)}a.Ts=a.Ts.remove(t),a.Is.delete(o.target)}function b_(r,t,i){const a=St(r);let o=Et.min(),c=Vt();return a.persistence.runTransaction("Execute query","readwrite",h=>function(y,p,A){const S=St(y),V=S.Is.get(A);return V!==void 0?X.resolve(S.Ts.get(V)):S.Hr.getTargetData(p,A)}(a,h,ui(t)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(h,g.targetId).next(y=>{c=y})}).next(()=>a.Ps.getDocumentsMatchingQuery(h,t,i?o:Et.min(),i?c:Vt())).next(g=>(IR(a,yb(t),g),{documents:g,gs:c})))}function IR(r,t,i){let a=r.Es.get(t)||Et.min();i.forEach((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)}),r.Es.set(t,a)}class R_{constructor(){this.activeTargetIds=Sb()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ss(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class MR{constructor(){this.ho=new R_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,i,a){this.Po[t]=i}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new R_,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="ConnectivityMonitor";class C_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ut(w_,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ut(w_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku=null;function wd(){return Ku===null?Ku=function(){return 268435456+Math.round(2147483648*Math.random())}():Ku++,"0x"+Ku.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd="RestConnection",UR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LR{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+t.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===oc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}bo(t,i,a,o,c){const h=wd(),g=this.So(t,i.toUriEncodedString());ut(nd,`Sending RPC '${t}' ${h}:`,g,a);const y={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(y,o,c),this.vo(t,g,y,a).then(p=>(ut(nd,`Received RPC '${t}' ${h}: `,p),p),p=>{throw Ca(nd,`RPC '${t}' ${h} failed with error: `,p,"url: ",g,"request:",a),p})}Co(t,i,a,o,c,h){return this.bo(t,i,a,o,c)}Do(t,i,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+La}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>t[c]=o),a&&a.headers.forEach((o,c)=>t[c]=o)}So(t,i){const a=UR[t];return`${this.po}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ke="WebChannelConnection";class BR extends LR{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,i,a,o){const c=wd();return new Promise((h,g)=>{const y=new _v;y.setWithCredentials(!0),y.listenOnce(vv.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Yu.NO_ERROR:const A=y.getResponseJson();ut(Ke,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(A)),h(A);break;case Yu.TIMEOUT:ut(Ke,`RPC '${t}' ${c} timed out`),g(new ct(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Yu.HTTP_ERROR:const S=y.getStatus();if(ut(Ke,`RPC '${t}' ${c} failed with status:`,S,"response text:",y.getResponseText()),S>0){let V=y.getResponseJson();Array.isArray(V)&&(V=V[0]);const P=V==null?void 0:V.error;if(P&&P.status&&P.message){const q=function(j){const at=j.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(at)>=0?at:Z.UNKNOWN}(P.status);g(new ct(q,P.message))}else g(new ct(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ct(Z.UNAVAILABLE,"Connection failed."));break;default:At()}}finally{ut(Ke,`RPC '${t}' ${c} completed.`)}});const p=JSON.stringify(o);ut(Ke,`RPC '${t}' ${c} sending request:`,o),y.send(i,"POST",p,a,15)})}Wo(t,i,a){const o=wd(),c=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=Tv(),g=Ev(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Do(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const A=c.join("");ut(Ke,`Creating RPC '${t}' stream ${o}: ${A}`,y);const S=h.createWebChannel(A,y);let V=!1,P=!1;const q=new zR({Fo:j=>{P?ut(Ke,`Not sending because RPC '${t}' stream ${o} is closed:`,j):(V||(ut(Ke,`Opening RPC '${t}' stream ${o} transport.`),S.open(),V=!0),ut(Ke,`RPC '${t}' stream ${o} sending:`,j),S.send(j))},Mo:()=>S.close()}),G=(j,at,st)=>{j.listen(at,$=>{try{st($)}catch(rt){setTimeout(()=>{throw rt},0)}})};return G(S,Zl.EventType.OPEN,()=>{P||(ut(Ke,`RPC '${t}' stream ${o} transport opened.`),q.Qo())}),G(S,Zl.EventType.CLOSE,()=>{P||(P=!0,ut(Ke,`RPC '${t}' stream ${o} transport closed`),q.Ko())}),G(S,Zl.EventType.ERROR,j=>{P||(P=!0,Ca(Ke,`RPC '${t}' stream ${o} transport errored:`,j),q.Ko(new ct(Z.UNAVAILABLE,"The operation could not be completed")))}),G(S,Zl.EventType.MESSAGE,j=>{var at;if(!P){const st=j.data[0];Gt(!!st);const $=st,rt=($==null?void 0:$.error)||((at=$[0])===null||at===void 0?void 0:at.error);if(rt){ut(Ke,`RPC '${t}' stream ${o} received error:`,rt);const nt=rt.status;let yt=function(b){const D=_e[b];if(D!==void 0)return eA(D)}(nt),O=rt.message;yt===void 0&&(yt=Z.INTERNAL,O="Unknown error status: "+nt+" with message "+rt.message),P=!0,q.Ko(new ct(yt,O)),S.close()}else ut(Ke,`RPC '${t}' stream ${o} received:`,st),q.Uo(st)}}),G(g,Av.STAT_EVENT,j=>{j.stat===md.PROXY?ut(Ke,`RPC '${t}' stream ${o} detected buffering proxy`):j.stat===md.NOPROXY&&ut(Ke,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{q.$o()},0),q}}function id(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(r){return new qb(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Ti=t,this.timerId=i,this.Go=a,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const i=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-a);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="PersistentStream";class pA{constructor(t,i,a,o,c,h,g,y){this.Ti=t,this.n_=a,this.r_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new gA(t,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Hi(i.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===i&&this.V_(a,o)},a=>{t(()=>{const o=new ct(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(t,i){const a=this.R_(this.i_);this.stream=this.f_(t,i),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ut(D_,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return i=>{this.Ti.enqueueAndForget(()=>this.i_===t?i():(ut(D_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PR extends pA{constructor(t,i,a,o,c,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,h),this.serializer=c}f_(t,i){return this.connection.Wo("Listen",t,i)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const i=Qb(this.serializer,t),a=function(c){if(!("targetChange"in c))return Et.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Et.min():h.readTime?ci(h.readTime):Et.min()}(t);return this.listener.p_(i,a)}y_(t){const i={};i.database=bd(this.serializer),i.addTarget=function(c,h){let g;const y=h.target;if(g=_d(y)?{documents:Yb(c,y)}:{query:Xb(c,y).ht},g.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){g.resumeToken=rA(c,h.resumeToken);const p=Ed(c,h.expectedCount);p!==null&&(g.expectedCount=p)}else if(h.snapshotVersion.compareTo(Et.min())>0){g.readTime=mc(c,h.snapshotVersion.toTimestamp());const p=Ed(c,h.expectedCount);p!==null&&(g.expectedCount=p)}return g}(this.serializer,t);const a=Jb(this.serializer,t);a&&(i.labels=a),this.I_(i)}w_(t){const i={};i.database=bd(this.serializer),i.removeTarget=t,this.I_(i)}}class kR extends pA{constructor(t,i,a,o,c,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,h),this.serializer=c}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(t,i){return this.connection.Wo("Write",t,i)}g_(t){return Gt(!!t.streamToken),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){Gt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const i=Kb(t.writeResults,t.commitTime),a=ci(t.commitTime);return this.listener.v_(a,i)}C_(){const t={};t.database=bd(this.serializer),this.I_(t)}S_(t){const i={streamToken:this.lastStreamToken,writes:t.map(a=>Gb(this.serializer,a))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{}class qR extends jR{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.")}bo(t,i,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.bo(t,Td(i,a),o,c,h)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(Z.UNKNOWN,c.toString())})}Co(t,i,a,o,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,g])=>this.connection.Co(t,Td(i,a),o,h,g,c)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ct(Z.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class HR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Hi(i),this.N_=!1):ut("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="RemoteStore";class FR{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(h=>{a.enqueueAndForget(async()=>{Os(this)&&(ut(bs,"Restarting streams for network reachability change."),await async function(y){const p=St(y);p.W_.add(4),await yo(p),p.j_.set("Unknown"),p.W_.delete(4),await Ic(p)}(this))})}),this.j_=new HR(a,o)}}async function Ic(r){if(Os(r))for(const t of r.G_)await t(!0)}async function yo(r){for(const t of r.G_)await t(!1)}function yA(r,t){const i=St(r);i.U_.has(t.targetId)||(i.U_.set(t.targetId,t),nm(i)?em(i):Pa(i).c_()&&tm(i,t))}function Wd(r,t){const i=St(r),a=Pa(i);i.U_.delete(t),a.c_()&&_A(i,t),i.U_.size===0&&(a.c_()?a.P_():Os(i)&&i.j_.set("Unknown"))}function tm(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Pa(r).y_(t)}function _A(r,t){r.H_.Ne(t),Pa(r).w_(t)}function em(r){r.H_=new Bb({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.U_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),Pa(r).start(),r.j_.B_()}function nm(r){return Os(r)&&!Pa(r).u_()&&r.U_.size>0}function Os(r){return St(r).W_.size===0}function vA(r){r.H_=void 0}async function QR(r){r.j_.set("Online")}async function GR(r){r.U_.forEach((t,i)=>{tm(r,t)})}async function KR(r,t){vA(r),nm(r)?(r.j_.q_(t),em(r)):r.j_.set("Unknown")}async function YR(r,t,i){if(r.j_.set("Online"),t instanceof iA&&t.state===2&&t.cause)try{await async function(o,c){const h=c.cause;for(const g of c.targetIds)o.U_.has(g)&&(await o.remoteSyncer.rejectListen(g,h),o.U_.delete(g),o.H_.removeTarget(g))}(r,t)}catch(a){ut(bs,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await pc(r,a)}else if(t instanceof $u?r.H_.We(t):t instanceof nA?r.H_.Ze(t):r.H_.je(t),!i.isEqual(Et.min()))try{const a=await mA(r.localStore);i.compareTo(a)>=0&&await function(c,h){const g=c.H_.ot(h);return g.targetChanges.forEach((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.U_.get(p);A&&c.U_.set(p,A.withResumeToken(y.resumeToken,h))}}),g.targetMismatches.forEach((y,p)=>{const A=c.U_.get(y);if(!A)return;c.U_.set(y,A.withResumeToken(He.EMPTY_BYTE_STRING,A.snapshotVersion)),_A(c,y);const S=new Dr(A.target,y,p,A.sequenceNumber);tm(c,S)}),c.remoteSyncer.applyRemoteEvent(g)}(r,i)}catch(a){ut(bs,"Failed to raise snapshot:",a),await pc(r,a)}}async function pc(r,t,i){if(!Ba(t))throw t;r.W_.add(1),await yo(r),r.j_.set("Offline"),i||(i=()=>mA(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ut(bs,"Retrying IndexedDB access"),await i(),r.W_.delete(1),await Ic(r)})}function AA(r,t){return t().catch(i=>pc(r,i,t))}async function Mc(r){const t=St(r),i=zr(t);let a=t.K_.length>0?t.K_[t.K_.length-1].batchId:kd;for(;XR(t);)try{const o=await NR(t.localStore,a);if(o===null){t.K_.length===0&&i.P_();break}a=o.batchId,ZR(t,o)}catch(o){await pc(t,o)}EA(t)&&TA(t)}function XR(r){return Os(r)&&r.K_.length<10}function ZR(r,t){r.K_.push(t);const i=zr(r);i.c_()&&i.b_&&i.S_(t.mutations)}function EA(r){return Os(r)&&!zr(r).u_()&&r.K_.length>0}function TA(r){zr(r).start()}async function JR(r){zr(r).C_()}async function $R(r){const t=zr(r);for(const i of r.K_)t.S_(i.mutations)}async function WR(r,t,i){const a=r.K_.shift(),o=Gd.from(a,t,i);await AA(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Mc(r)}async function t1(r,t){t&&zr(r).b_&&await async function(a,o){if(function(h){return Ub(h)&&h!==Z.ABORTED}(o.code)){const c=a.K_.shift();zr(a).h_(),await AA(a,()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Mc(a)}}(r,t),EA(r)&&TA(r)}async function O_(r,t){const i=St(r);i.asyncQueue.verifyOperationInProgress(),ut(bs,"RemoteStore received new credentials");const a=Os(i);i.W_.add(3),await yo(i),a&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.W_.delete(3),await Ic(i)}async function e1(r,t){const i=St(r);t?(i.W_.delete(2),await Ic(i)):t||(i.W_.add(2),await yo(i),i.j_.set("Unknown"))}function Pa(r){return r.J_||(r.J_=function(i,a,o){const c=St(i);return c.M_(),new PR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:QR.bind(null,r),No:GR.bind(null,r),Lo:KR.bind(null,r),p_:YR.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),nm(r)?em(r):r.j_.set("Unknown")):(await r.J_.stop(),vA(r))})),r.J_}function zr(r){return r.Y_||(r.Y_=function(i,a,o){const c=St(i);return c.M_(),new kR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:JR.bind(null,r),Lo:t1.bind(null,r),D_:$R.bind(null,r),v_:WR.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await Mc(r)):(await r.Y_.stop(),r.K_.length>0&&(ut(bs,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const h=Date.now()+a,g=new im(t,i,h,o,c);return g.start(a),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rm(r,t){if(Hi("AsyncQueue",`${t}: ${r}`),Ba(r))return new ct(Z.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{static emptySet(t){return new wa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||pt.comparator(i.key,a.key):(i,a)=>pt.comparator(i.key,a.key),this.keyedMap=Jl(),this.sortedSet=new ie(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,a)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof wa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new wa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(){this.Z_=new ie(pt.comparator)}track(t){const i=t.doc.key,a=this.Z_.get(i);a?t.type!==0&&a.type===3?this.Z_=this.Z_.insert(i,t):t.type===3&&a.type!==1?this.Z_=this.Z_.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.Z_=this.Z_.remove(i):t.type===1&&a.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):At():this.Z_=this.Z_.insert(i,t)}X_(){const t=[];return this.Z_.inorderTraversal((i,a)=>{t.push(a)}),t}}class Ia{constructor(t,i,a,o,c,h,g,y,p){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(t,i,a,o,c){const h=[];return i.forEach(g=>{h.push({type:0,doc:g})}),new Ia(t,i,wa.emptySet(i),h,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&wc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class i1{constructor(){this.queries=V_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,a){const o=St(i),c=o.queries;o.queries=V_(),c.forEach((h,g)=>{for(const y of g.ta)y.onError(a)})})(this,new ct(Z.ABORTED,"Firestore shutting down"))}}function V_(){return new Cs(r=>qv(r),wc)}async function sm(r,t){const i=St(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.na()&&t.ra()&&(a=2):(c=new n1,a=t.ra()?0:1);try{switch(a){case 0:c.ea=await i.onListen(o,!0);break;case 1:c.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(h){const g=rm(h,`Initialization of query '${Ta(t.query)}' failed`);return void t.onError(g)}i.queries.set(o,c),c.ta.push(t),t.sa(i.onlineState),c.ea&&t.oa(c.ea)&&lm(i)}async function am(r,t){const i=St(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const h=c.ta.indexOf(t);h>=0&&(c.ta.splice(h,1),c.ta.length===0?o=t.ra()?0:1:!c.na()&&t.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function r1(r,t){const i=St(r);let a=!1;for(const o of t){const c=o.query,h=i.queries.get(c);if(h){for(const g of h.ta)g.oa(o)&&(a=!0);h.ea=o}}a&&lm(i)}function s1(r,t,i){const a=St(r),o=a.queries.get(t);if(o)for(const c of o.ta)c.onError(i);a.queries.delete(t)}function lm(r){r.ia.forEach(t=>{t.next()})}var Cd,I_;(I_=Cd||(Cd={}))._a="default",I_.Cache="cache";class om{constructor(t,i,a){this.query=t,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new Ia(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ua?this.la(t)&&(this.aa.next(t),i=!0):this.ha(t,this.onlineState)&&(this.Pa(t),i=!0),this.ca=t,i}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),i=!0),i}ha(t,i){if(!t.fromCache||!this.ra())return!0;const a=i!=="Offline";return(!this.options.Ta||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}la(t){if(t.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(t){t=Ia.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Cd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(t){this.key=t}}class bA{constructor(t){this.key=t}}class a1{constructor(t,i){this.query=t,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Vt(),this.mutatedKeys=Vt(),this.ya=Hv(t),this.wa=new wa(this.ya)}get ba(){return this.fa}Sa(t,i){const a=i?i.Da:new N_,o=i?i.wa:this.wa;let c=i?i.mutatedKeys:this.mutatedKeys,h=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((A,S)=>{const V=o.get(A),P=Cc(this.query,S)?S:null,q=!!V&&this.mutatedKeys.has(V.key),G=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let j=!1;V&&P?V.data.isEqual(P.data)?q!==G&&(a.track({type:3,doc:P}),j=!0):this.va(V,P)||(a.track({type:2,doc:P}),j=!0,(y&&this.ya(P,y)>0||p&&this.ya(P,p)<0)&&(g=!0)):!V&&P?(a.track({type:0,doc:P}),j=!0):V&&!P&&(a.track({type:1,doc:V}),j=!0,(y||p)&&(g=!0)),j&&(P?(h=h.add(P),c=G?c.add(A):c.delete(A)):(h=h.delete(A),c=c.delete(A)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const A=this.query.limitType==="F"?h.last():h.first();h=h.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{wa:h,Da:a,ls:g,mutatedKeys:c}}va(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const h=t.Da.X_();h.sort((A,S)=>function(P,q){const G=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At()}};return G(P)-G(q)}(A.type,S.type)||this.ya(A.doc,S.doc)),this.Ca(a),o=o!=null&&o;const g=i&&!o?this.Fa():[],y=this.pa.size===0&&this.current&&!o?1:0,p=y!==this.ga;return this.ga=y,h.length!==0||p?{snapshot:new Ia(this.query,t.wa,c,h,t.mutatedKeys,y===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new N_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Vt(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const i=[];return t.forEach(a=>{this.pa.has(a)||i.push(new bA(a))}),this.pa.forEach(a=>{t.has(a)||i.push(new SA(a))}),i}Oa(t){this.fa=t.gs,this.pa=Vt();const i=this.Sa(t.documents);return this.applyChanges(i,!0)}Na(){return Ia.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const um="SyncEngine";class l1{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class o1{constructor(t){this.key=t,this.Ba=!1}}class u1{constructor(t,i,a,o,c,h){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new Cs(g=>qv(g),wc),this.qa=new Map,this.Qa=new Set,this.$a=new ie(pt.comparator),this.Ka=new Map,this.Ua=new Xd,this.Wa={},this.Ga=new Map,this.za=Va.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function c1(r,t,i=!0){const a=NA(r);let o;const c=a.ka.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Na()):o=await RA(a,t,i,!0),o}async function f1(r,t){const i=NA(r);await RA(i,t,!0,!1)}async function RA(r,t,i,a){const o=await VR(r.localStore,ui(t)),c=o.targetId,h=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await h1(r,t,c,h==="current",o.resumeToken)),r.isPrimaryClient&&i&&yA(r.remoteStore,o),g}async function h1(r,t,i,a,o){r.Ha=(S,V,P)=>async function(G,j,at,st){let $=j.view.Sa(at);$.ls&&($=await b_(G.localStore,j.query,!1).then(({documents:O})=>j.view.Sa(O,$)));const rt=st&&st.targetChanges.get(j.targetId),nt=st&&st.targetMismatches.get(j.targetId)!=null,yt=j.view.applyChanges($,G.isPrimaryClient,rt,nt);return x_(G,j.targetId,yt.Ma),yt.snapshot}(r,S,V,P);const c=await b_(r.localStore,t,!0),h=new a1(t,c.gs),g=h.Sa(c.documents),y=po.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),p=h.applyChanges(g,r.isPrimaryClient,y);x_(r,i,p.Ma);const A=new l1(t,i,h);return r.ka.set(t,A),r.qa.has(i)?r.qa.get(i).push(t):r.qa.set(i,[t]),p.snapshot}async function d1(r,t,i){const a=St(r),o=a.ka.get(t),c=a.qa.get(o.targetId);if(c.length>1)return a.qa.set(o.targetId,c.filter(h=>!wc(h,t))),void a.ka.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Rd(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Wd(a.remoteStore,o.targetId),Dd(a,o.targetId)}).catch(za)):(Dd(a,o.targetId),await Rd(a.localStore,o.targetId,!0))}async function m1(r,t){const i=St(r),a=i.ka.get(t),o=i.qa.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Wd(i.remoteStore,a.targetId))}async function g1(r,t,i){const a=T1(r);try{const o=await function(h,g){const y=St(h),p=Ce.now(),A=g.reduce((P,q)=>P.add(q.key),Vt());let S,V;return y.persistence.runTransaction("Locally write mutations","readwrite",P=>{let q=Fi(),G=Vt();return y.ds.getEntries(P,A).next(j=>{q=j,q.forEach((at,st)=>{st.isValidDocument()||(G=G.add(at))})}).next(()=>y.localDocuments.getOverlayedDocuments(P,q)).next(j=>{S=j;const at=[];for(const st of g){const $=Nb(st,S.get(st.key).overlayedDocument);$!=null&&at.push(new Ds(st.key,$,xv($.value.mapValue),ji.exists(!0)))}return y.mutationQueue.addMutationBatch(P,p,at,g)}).next(j=>{V=j;const at=j.applyToLocalDocumentSet(S,G);return y.documentOverlayCache.saveOverlays(P,j.batchId,at)})}).then(()=>({batchId:V.batchId,changes:Qv(S)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),function(h,g,y){let p=h.Wa[h.currentUser.toKey()];p||(p=new ie(Mt)),p=p.insert(g,y),h.Wa[h.currentUser.toKey()]=p}(a,o.batchId,i),await _o(a,o.changes),await Mc(a.remoteStore)}catch(o){const c=rm(o,"Failed to persist write");i.reject(c)}}async function wA(r,t){const i=St(r);try{const a=await DR(i.localStore,t);t.targetChanges.forEach((o,c)=>{const h=i.Ka.get(c);h&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?Gt(h.Ba):o.removedDocuments.size>0&&(Gt(h.Ba),h.Ba=!1))}),await _o(i,a,t)}catch(a){await za(a)}}function M_(r,t,i){const a=St(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.ka.forEach((c,h)=>{const g=h.view.sa(t);g.snapshot&&o.push(g.snapshot)}),function(h,g){const y=St(h);y.onlineState=g;let p=!1;y.queries.forEach((A,S)=>{for(const V of S.ta)V.sa(g)&&(p=!0)}),p&&lm(y)}(a.eventManager,t),o.length&&a.La.p_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function p1(r,t,i){const a=St(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Ka.get(t),c=o&&o.key;if(c){let h=new ie(pt.comparator);h=h.insert(c,Xe.newNoDocument(c,Et.min()));const g=Vt().add(c),y=new Nc(Et.min(),new Map,new ie(Mt),h,g);await wA(a,y),a.$a=a.$a.remove(c),a.Ka.delete(t),cm(a)}else await Rd(a.localStore,t,!1).then(()=>Dd(a,t,i)).catch(za)}async function y1(r,t){const i=St(r),a=t.batch.batchId;try{const o=await CR(i.localStore,t);DA(i,a,null),CA(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await _o(i,o)}catch(o){await za(o)}}async function _1(r,t,i){const a=St(r);try{const o=await function(h,g){const y=St(h);return y.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let A;return y.mutationQueue.lookupMutationBatch(p,g).next(S=>(Gt(S!==null),A=S.keys(),y.mutationQueue.removeMutationBatch(p,S))).next(()=>y.mutationQueue.performConsistencyCheck(p)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(p,A,g)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,A)).next(()=>y.localDocuments.getDocuments(p,A))})}(a.localStore,t);DA(a,t,i),CA(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await _o(a,o)}catch(o){await za(o)}}function CA(r,t){(r.Ga.get(t)||[]).forEach(i=>{i.resolve()}),r.Ga.delete(t)}function DA(r,t,i){const a=St(r);let o=a.Wa[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.Wa[a.currentUser.toKey()]=o}}function Dd(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.qa.get(t))r.ka.delete(a),i&&r.La.Ja(a,i);r.qa.delete(t),r.isPrimaryClient&&r.Ua.Sr(t).forEach(a=>{r.Ua.containsKey(a)||OA(r,a)})}function OA(r,t){r.Qa.delete(t.path.canonicalString());const i=r.$a.get(t);i!==null&&(Wd(r.remoteStore,i),r.$a=r.$a.remove(t),r.Ka.delete(i),cm(r))}function x_(r,t,i){for(const a of i)a instanceof SA?(r.Ua.addReference(a.key,t),v1(r,a)):a instanceof bA?(ut(um,"Document no longer in limbo: "+a.key),r.Ua.removeReference(a.key,t),r.Ua.containsKey(a.key)||OA(r,a.key)):At()}function v1(r,t){const i=t.key,a=i.path.canonicalString();r.$a.get(i)||r.Qa.has(a)||(ut(um,"New document in limbo: "+i),r.Qa.add(a),cm(r))}function cm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const i=new pt(Wt.fromString(t)),a=r.za.next();r.Ka.set(a,new o1(i)),r.$a=r.$a.insert(i,a),yA(r.remoteStore,new Dr(ui(Rc(i.path)),a,"TargetPurposeLimboResolution",Tc.ae))}}async function _o(r,t,i){const a=St(r),o=[],c=[],h=[];a.ka.isEmpty()||(a.ka.forEach((g,y)=>{h.push(a.Ha(y,t,i).then(p=>{var A;if((p||i)&&a.isPrimaryClient){const S=p?!p.fromCache:(A=i==null?void 0:i.targetChanges.get(y.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(p){o.push(p);const S=Jd.Yi(y.targetId,p);c.push(S)}}))}),await Promise.all(h),a.La.p_(o),await async function(y,p){const A=St(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>X.forEach(p,V=>X.forEach(V.Hi,P=>A.persistence.referenceDelegate.addReference(S,V.targetId,P)).next(()=>X.forEach(V.Ji,P=>A.persistence.referenceDelegate.removeReference(S,V.targetId,P)))))}catch(S){if(!Ba(S))throw S;ut($d,"Failed to update sequence numbers: "+S)}for(const S of p){const V=S.targetId;if(!S.fromCache){const P=A.Ts.get(V),q=P.snapshotVersion,G=P.withLastLimboFreeSnapshotVersion(q);A.Ts=A.Ts.insert(V,G)}}}(a.localStore,c))}async function A1(r,t){const i=St(r);if(!i.currentUser.isEqual(t)){ut(um,"User change. New user:",t.toKey());const a=await dA(i.localStore,t);i.currentUser=t,function(c,h){c.Ga.forEach(g=>{g.forEach(y=>{y.reject(new ct(Z.CANCELLED,h))})}),c.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await _o(i,a.Rs)}}function E1(r,t){const i=St(r),a=i.Ka.get(t);if(a&&a.Ba)return Vt().add(a.key);{let o=Vt();const c=i.qa.get(t);if(!c)return o;for(const h of c){const g=i.ka.get(h);o=o.unionWith(g.view.ba)}return o}}function NA(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=wA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=E1.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=p1.bind(null,t),t.La.p_=r1.bind(null,t.eventManager),t.La.Ja=s1.bind(null,t.eventManager),t}function T1(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=y1.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=_1.bind(null,t),t}class yc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Vc(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,i){return null}nu(t,i){return null}eu(t){return wR(this.persistence,new SR,t.initialUser,this.serializer)}Xa(t){return new hA(Zd.ri,this.serializer)}Za(t){return new MR}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yc.provider={build:()=>new yc};class S1 extends yc{constructor(t){super(),this.cacheSizeBytes=t}tu(t,i){Gt(this.persistence.referenceDelegate instanceof gc);const a=this.persistence.referenceDelegate.garbageCollector;return new oR(a,t.asyncQueue,i)}Xa(t){const i=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new hA(a=>gc.ri(a,i),this.serializer)}}class Od{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>M_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=A1.bind(null,this.syncEngine),await e1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new i1}()}createDatastore(t){const i=Vc(t.databaseInfo.databaseId),a=function(c){return new BR(c)}(t.databaseInfo);return function(c,h,g,y){return new qR(c,h,g,y)}(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return function(a,o,c,h,g){return new FR(a,o,c,h,g)}(this.localStore,this.datastore,t.asyncQueue,i=>M_(this.syncEngine,i,0),function(){return C_.D()?new C_:new xR}())}createSyncEngine(t,i){return function(o,c,h,g,y,p,A){const S=new u1(o,c,h,g,y,p);return A&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(o){const c=St(o);ut(bs,"RemoteStore shutting down."),c.W_.add(5),await yo(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Od.provider={build:()=>new Od};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Hi("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="FirestoreClient";class b1{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Ye.UNAUTHENTICATED,this.clientId=bv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,async h=>{ut(Br,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(a,h=>(ut(Br,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=rm(i,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function rd(r,t){r.asyncQueue.verifyOperationInProgress(),ut(Br,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await dA(t.localStore,o),a=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function U_(r,t){r.asyncQueue.verifyOperationInProgress();const i=await R1(r);ut(Br,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener(a=>O_(t.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>O_(t.remoteStore,o)),r._onlineComponents=t}async function R1(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ut(Br,"Using user provided OfflineComponentProvider");try{await rd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Ca("Error using user provided cache. Falling back to memory cache: "+i),await rd(r,new yc)}}else ut(Br,"Using default OfflineComponentProvider"),await rd(r,new S1(void 0));return r._offlineComponents}async function VA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ut(Br,"Using user provided OnlineComponentProvider"),await U_(r,r._uninitializedComponentsProvider._online)):(ut(Br,"Using default OnlineComponentProvider"),await U_(r,new Od))),r._onlineComponents}function w1(r){return VA(r).then(t=>t.syncEngine)}async function _c(r){const t=await VA(r),i=t.eventManager;return i.onListen=c1.bind(null,t.syncEngine),i.onUnlisten=d1.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=f1.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=m1.bind(null,t.syncEngine),i}function C1(r,t,i={}){const a=new ki;return r.asyncQueue.enqueueAndForget(async()=>function(c,h,g,y,p){const A=new fm({next:V=>{A.su(),h.enqueueAndForget(()=>am(c,S));const P=V.docs.has(g);!P&&V.fromCache?p.reject(new ct(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&V.fromCache&&y&&y.source==="server"?p.reject(new ct(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(V)},error:V=>p.reject(V)}),S=new om(Rc(g.path),A,{includeMetadataChanges:!0,Ta:!0});return sm(c,S)}(await _c(r),r.asyncQueue,t,i,a)),a.promise}function D1(r,t,i={}){const a=new ki;return r.asyncQueue.enqueueAndForget(async()=>function(c,h,g,y,p){const A=new fm({next:V=>{A.su(),h.enqueueAndForget(()=>am(c,S)),V.fromCache&&y.source==="server"?p.reject(new ct(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(V)},error:V=>p.reject(V)}),S=new om(g,A,{includeMetadataChanges:!0,Ta:!0});return sm(c,S)}(await _c(r),r.asyncQueue,t,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(r,t,i){if(!i)throw new ct(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function O1(r,t,i,a){if(t===!0&&a===!0)throw new ct(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function z_(r){if(!pt.isDocumentKey(r))throw new ct(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function B_(r){if(pt.isDocumentKey(r))throw new ct(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function xc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":At()}function fi(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=xc(r);throw new ct(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="firestore.googleapis.com",P_=!0;class k_{constructor(t){var i,a;if(t.host===void 0){if(t.ssl!==void 0)throw new ct(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xA,this.ssl=P_}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:P_;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=fA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<aR)throw new ct(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}O1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IA((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Uc{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new zS;switch(a.type){case"firstParty":return new jS(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=L_.get(i);a&&(ut("ComponentProvider","Removing Datastore"),L_.delete(i),a.terminate())}(this),Promise.resolve()}}function N1(r,t,i,a={}){var o;const c=(r=fi(r,Uc))._getSettings(),h=Object.assign(Object.assign({},c),{emulatorOptions:r._getEmulatorOptions()}),g=`${t}:${i}`;c.host!==xA&&c.host!==g&&Ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},c),{host:g,ssl:!1,emulatorOptions:a});if(!rc(y,h)&&(r._setSettings(y),a.mockUserToken)){let p,A;if(typeof a.mockUserToken=="string")p=a.mockUserToken,A=Ye.MOCK_USER;else{p=mT(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ct(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ye(S)}r._authCredentials=new BS(new Sv(p,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ns(this.firestore,t,this._query)}}class rn{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ir(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new rn(this.firestore,t,this._key)}}class Ir extends Ns{constructor(t,i,a){super(t,i,Rc(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new rn(this.firestore,null,new pt(t))}withConverter(t){return new Ir(this.firestore,t,this._path)}}function hm(r,t,...i){if(r=Ts(r),MA("collection","path",t),r instanceof Uc){const a=Wt.fromString(t,...i);return B_(a),new Ir(r,null,a)}{if(!(r instanceof rn||r instanceof Ir))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Wt.fromString(t,...i));return B_(a),new Ir(r.firestore,null,a)}}function vo(r,t,...i){if(r=Ts(r),arguments.length===1&&(t=bv.newId()),MA("doc","path",t),r instanceof Uc){const a=Wt.fromString(t,...i);return z_(a),new rn(r,null,new pt(a))}{if(!(r instanceof rn||r instanceof Ir))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Wt.fromString(t,...i));return z_(a),new rn(r.firestore,r instanceof Ir?r.converter:null,new pt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="AsyncQueue";class q_{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new gA(this,"async_queue_retry"),this.bu=()=>{const a=id();a&&ut(j_,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.Su=t;const i=id();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const i=id();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.bu)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const i=new ki;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Ba(t))throw t;ut(j_,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const i=this.Su.then(()=>(this.pu=!0,t().catch(a=>{this.gu=a,this.pu=!1;const o=function(h){let g=h.message||"";return h.stack&&(g=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),g}(a);throw Hi("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.Su=i,i}enqueueAfterDelay(t,i,a){this.Du(),this.wu.indexOf(t)>-1&&(i=0);const o=im.createAndSchedule(this,t,i,a,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&At()}verifyOperationInProgress(){}async Mu(){let t;do t=this.Su,await t;while(t!==this.Su)}xu(t){for(const i of this.fu)if(i.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const i=this.fu.indexOf(t);this.fu.splice(i,1)}}function H_(r){return function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1}(r,["next","error","complete"])}class Ma extends Uc{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new q_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new q_(t),this._firestoreClient=void 0,await t}}}function V1(r,t){const i=typeof r=="object"?r:bS(),a=typeof r=="string"?r:oc,o=vS(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=hT("firestore");c&&N1(o,...c)}return o}function Lc(r){if(r._terminated)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||I1(r),r._firestoreClient}function I1(r){var t,i,a;const o=r._freezeSettings(),c=function(g,y,p,A){return new eb(g,y,p,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,IA(A.experimentalLongPollingOptions),A.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new b1(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const y=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(y),_online:y}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xa(He.fromBase64String(t))}catch(i){throw new ct(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new xa(He.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=/^__.*__$/;class x1{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Ds(t,this.data,this.fieldMask,i,this.fieldTransforms):new go(t,this.data,i,this.fieldTransforms)}}function LA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At()}}class pm{constructor(t,i,a,o,c,h){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new pm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.ku({path:a,Qu:!1});return o.$u(t),o}Ku(t){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.ku({path:a,Qu:!1});return o.Bu(),o}Uu(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return vc(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(LA(this.Lu)&&M1.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class U1{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Vc(t)}ju(t,i,a,o=!1){return new pm({Lu:t,methodName:i,zu:a,path:qe.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zA(r){const t=r._freezeSettings(),i=Vc(r._databaseId);return new U1(r._databaseId,!!t.ignoreUndefinedProperties,i)}function L1(r,t,i,a,o,c={}){const h=r.ju(c.merge||c.mergeFields?2:0,t,i,o);kA("Data must be an object, but it was:",h,a);const g=BA(a,h);let y,p;if(c.merge)y=new qn(h.fieldMask),p=h.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const V=B1(t,S,i);if(!h.contains(V))throw new ct(Z.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);k1(A,V)||A.push(V)}y=new qn(A),p=h.fieldTransforms.filter(S=>y.covers(S.field))}else y=null,p=h.fieldTransforms;return new x1(new Un(g),y,p)}function z1(r,t,i,a=!1){return ym(i,r.ju(a?4:3,t))}function ym(r,t){if(PA(r=Ts(r)))return kA("Unsupported field value:",t,r),BA(r,t);if(r instanceof UA)return function(a,o){if(!LA(o.Lu))throw o.Wu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(a,o){const c=[];let h=0;for(const g of a){let y=ym(g,o.Uu(h));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),h++}return{arrayValue:{values:c}}}(r,t)}return function(a,o){if((a=Ts(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return bb(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Ce.fromDate(a);return{timestampValue:mc(o.serializer,c)}}if(a instanceof Ce){const c=new Ce(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:mc(o.serializer,c)}}if(a instanceof mm)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof xa)return{bytesValue:rA(o.serializer,a._byteString)};if(a instanceof rn){const c=o.databaseId,h=a.firestore._databaseId;if(!h.isEqual(c))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Yd(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof gm)return function(h,g){return{mapValue:{fields:{[Iv]:{stringValue:Mv},[uc]:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw g.Wu("VectorValues must only contain numeric values.");return Qd(g.serializer,p)})}}}}}}(a,o);throw o.Wu(`Unsupported field value: ${xc(a)}`)}(r,t)}function BA(r,t){const i={};return wv(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ws(r,(a,o)=>{const c=ym(o,t.qu(a));c!=null&&(i[a]=c)}),{mapValue:{fields:i}}}function PA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ce||r instanceof mm||r instanceof xa||r instanceof rn||r instanceof UA||r instanceof gm)}function kA(r,t,i){if(!PA(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const a=xc(i);throw a==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+a)}}function B1(r,t,i){if((t=Ts(t))instanceof dm)return t._internalPath;if(typeof t=="string")return jA(r,t);throw vc("Field path arguments must be of type string or ",r,!1,void 0,i)}const P1=new RegExp("[~\\*/\\[\\]]");function jA(r,t,i){if(t.search(P1)>=0)throw vc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new dm(...t.split("."))._internalPath}catch{throw vc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function vc(r,t,i,a,o){const c=a&&!a.isEmpty(),h=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||h)&&(y+=" (found",c&&(y+=` in field ${a}`),h&&(y+=` in document ${o}`),y+=")"),new ct(Z.INVALID_ARGUMENT,g+r+y)}function k1(r,t){return r.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new j1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(HA("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class j1 extends qA{data(){return super.data()}}function HA(r,t){return typeof t=="string"?jA(r,t):t instanceof dm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _m{}class q1 extends _m{}function QA(r,t,...i){let a=[];t instanceof _m&&a.push(t),a=a.concat(i),function(c){const h=c.filter(y=>y instanceof Am).length,g=c.filter(y=>y instanceof vm).length;if(h>1||h>0&&g>0)throw new ct(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)r=o._apply(r);return r}class vm extends q1{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new vm(t,i,a)}_apply(t){const i=this._parse(t);return GA(t._query,i),new Ns(t.firestore,t.converter,vd(t._query,i))}_parse(t){const i=zA(t.firestore);return function(c,h,g,y,p,A,S){let V;if(p.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new ct(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Q_(S,A);const q=[];for(const G of S)q.push(F_(y,c,G));V={arrayValue:{values:q}}}else V=F_(y,c,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Q_(S,A),V=z1(g,h,S,A==="in"||A==="not-in");return ve.create(p,A,V)}(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}class Am extends _m{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new Am(t,i)}_parse(t){const i=this._queryConstraints.map(a=>a._parse(t)).filter(a=>a.getFilters().length>0);return i.length===1?i[0]:Hn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:(function(o,c){let h=o;const g=c.getFlattenedFilters();for(const y of g)GA(h,y),h=vd(h,y)}(t._query,i),new Ns(t.firestore,t.converter,vd(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function F_(r,t,i){if(typeof(i=Ts(i))=="string"){if(i==="")throw new ct(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jv(t)&&i.indexOf("/")!==-1)throw new ct(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(Wt.fromString(i));if(!pt.isDocumentKey(a))throw new ct(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return s_(r,new pt(a))}if(i instanceof rn)return s_(r,i._key);throw new ct(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xc(i)}.`)}function Q_(r,t){if(!Array.isArray(r)||r.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function GA(r,t){const i=function(o,c){for(const h of o)for(const g of h.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(i!==null)throw i===t.op?new ct(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class H1{convertValue(t,i="none"){switch(Lr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return fe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Ur(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw At()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return ws(t,(o,c)=>{a[o]=this.convertValue(c,i)}),a}convertVectorValue(t){var i,a,o;const c=(o=(a=(i=t.fields)===null||i===void 0?void 0:i[uc].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(h=>fe(h.doubleValue));return new gm(c)}convertGeoPoint(t){return new mm(fe(t.latitude),fe(t.longitude))}convertArray(t,i){return(t.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(t,i){switch(i){case"previous":const a=bc(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(lo(t));default:return null}}convertTimestamp(t){const i=xr(t);return new Ce(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=Wt.fromString(t);Gt(cA(a));const o=new oo(a.get(1),a.get(3)),c=new pt(a.popFirst(5));return o.isEqual(i)||Hi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(r,t,i){let a;return a=r?r.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class KA extends qA{constructor(t,i,a,o,c,h){super(t,i,a,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Wu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(HA("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Wu extends KA{data(t={}){return super.data(t)}}class YA{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Wl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(a=>{t.call(i,new Wu(this._firestore,this._userDataWriter,a.key,a,new Wl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(g=>{const y=new Wu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Wl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const y=new Wu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Wl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,A=-1;return g.type!==0&&(p=h.indexOf(g.doc.key),h=h.delete(g.doc.key)),g.type!==1&&(h=h.add(g.doc),A=h.indexOf(g.doc.key)),{type:Q1(g.type),doc:y,oldIndex:p,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Q1(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(r){r=fi(r,rn);const t=fi(r.firestore,Ma);return C1(Lc(t),r._key).then(i=>ZA(t,r,i))}class Em extends H1{constructor(t){super(),this.firestore=t}convertBytes(t){return new xa(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new rn(this.firestore,null,i)}}function K1(r){r=fi(r,Ns);const t=fi(r.firestore,Ma),i=Lc(t),a=new Em(t);return FA(r._query),D1(i,r._query).then(o=>new YA(t,a,r,o))}function zc(r,t,i){r=fi(r,rn);const a=fi(r.firestore,Ma),o=F1(r.converter,t);return Y1(a,[L1(zA(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,ji.none())])}function XA(r,...t){var i,a,o;r=Ts(r);let c={includeMetadataChanges:!1,source:"default"},h=0;typeof t[h]!="object"||H_(t[h])||(c=t[h],h++);const g={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(H_(t[h])){const S=t[h];t[h]=(i=S.next)===null||i===void 0?void 0:i.bind(S),t[h+1]=(a=S.error)===null||a===void 0?void 0:a.bind(S),t[h+2]=(o=S.complete)===null||o===void 0?void 0:o.bind(S)}let y,p,A;if(r instanceof rn)p=fi(r.firestore,Ma),A=Rc(r._key.path),y={next:S=>{t[h]&&t[h](ZA(p,r,S))},error:t[h+1],complete:t[h+2]};else{const S=fi(r,Ns);p=fi(S.firestore,Ma),A=S._query;const V=new Em(p);y={next:P=>{t[h]&&t[h](new YA(p,V,S,P))},error:t[h+1],complete:t[h+2]},FA(r._query)}return function(V,P,q,G){const j=new fm(G),at=new om(P,j,q);return V.asyncQueue.enqueueAndForget(async()=>sm(await _c(V),at)),()=>{j.su(),V.asyncQueue.enqueueAndForget(async()=>am(await _c(V),at))}}(Lc(p),A,g,y)}function Y1(r,t){return function(a,o){const c=new ki;return a.asyncQueue.enqueueAndForget(async()=>g1(await w1(a),o,c)),c.promise}(Lc(r),t)}function ZA(r,t,i){const a=i.docs.get(t._key),o=new Em(r);return new KA(r,o,t._key,a,new Wl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){La=o})(SS),ac(new ro("firestore",(a,{instanceIdentifier:o,options:c})=>{const h=a.getProvider("app").getImmediate(),g=new Ma(new PS(a.getProvider("auth-internal")),new qS(h,a.getProvider("app-check-internal")),function(p,A){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ct(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oo(p.options.projectId,A)}(h,o),h);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Ra(Yy,Xy,t),Ra(Yy,Xy,"esm2017")})();const X1={apiKey:"AIzaSyBA_wxPnS30lA3AUwm3uU91fSe4toI19Kw",authDomain:"forum-mitapp.firebaseapp.com",databaseURL:"https://forum-mitapp-default-rtdb.firebaseio.com",projectId:"forum-mitapp",storageBucket:"forum-mitapp.firebasestorage.app",messagingSenderId:"781341417234",appId:"1:781341417234:web:36be5c5278f29318b89dcb"},Z1=mv(X1),Pr=V1(Z1);function Tm(){const r=new Date,t=String(r.getDate()).padStart(2,"0"),i=String(r.getMonth()+1).padStart(2,"0"),a=String(r.getFullYear()).slice(-2),o=String(r.getHours()).padStart(2,"0"),c=String(r.getMinutes()).padStart(2,"0"),h=o>=12?"pm":"am",y=`${o%12||12}:${c}${h}`;return`${t}/${i}/${a} ${y}`}const J1=async(r,t,i,a)=>{try{const o=Date.now().toString(),c=vo(Pr,"posts",o);await zc(c,{userPfpUrl:r,userName:t,postTitle:i,postMsg:a,postDate:Tm(),postComments:[],postLikes:[]}),console.log("Document added with ID:",o)}catch(o){console.error("Error adding document:",o)}},$1=r=>{const t=QA(hm(Pr,"posts"));return XA(t,a=>{const o=[];a.forEach(c=>{o.push({id:c.id,...c.data()})}),r(o)})},sd=async(r,t)=>{await zc(vo(Pr,"posts",r),t)},W1=async r=>{try{const t=hm(Pr,"chats"),i=await K1(t);console.log(i),r(i)}catch(t){console.log(t)}},G_=async(r,t)=>{try{const i=vo(Pr,"chats",r);await zc(i,t),console.log("Document added with ID:")}catch(i){console.error("Error adding document:",i)}},tw=r=>{const t=QA(hm(Pr,"chats"));return XA(t,a=>{const o=[];a.forEach(c=>{o.push({id:c.id,...c.data()})}),r(o)})},K_=async(r,t)=>{try{const i=vo(Pr,"chats",r);await zc(i,t),console.log("Document added with ID:",r)}catch(i){console.error("Error adding document:",i)}},ew=async(r,t)=>{try{const i=vo(Pr,r,t),a=await G1(i);return a.exists()?(console.log("Document data:",a.data()),a.data()):(console.log("No such document!"),null)}catch(i){throw console.error("Error getting document:",i),i}},nw=({post:r,userName:t,userPfpUrl:i})=>{var st,$;const[a,o]=Ht.useState(!1),c=Ht.useRef(null),[h,g]=Ht.useState(""),[y,p]=Ht.useState(!1),[A,S]=Ht.useState(null),V=rt=>{g(rt.target.value),rt.target.value.trim().length>0?p(!1):p(!0)},P=rt=>{const nt=rt.current;nt.style.height="auto",nt.style.height=`${nt.scrollHeight}px`},q=async()=>{if(h.trim().length>0){const rt={commenterPfp:i,commenterName:t,commentMessage:h,commentDate:Tm()},nt={...r,postComments:[rt,...r.postComments]};await sd(r.id,nt),g("")}else p(!0)},G=()=>{r.postLikes.some(rt=>rt===t)?(console.log("si hay jeje"),S(Zh)):(console.log("no tiene like jeje"),S(Xh))},j=async()=>{if(A==Zh){console.log("A");const rt=r.postLikes.filter(yt=>yt!==t),nt={...r,postLikes:rt};await sd(r.id,nt),S(Xh)}else if(A==Xh){console.log("B");const rt={...r,postLikes:[...r.postLikes,t]};await sd(r.id,rt),S(Zh)}};Ht.useEffect(()=>{console.log(r.postComments),G()},[]);const at=({commentData:rt})=>tt.jsxs("div",{className:"comment",children:[tt.jsxs("div",{className:"comment-left",children:[tt.jsx("img",{src:rt.commenterPfp,alt:"",className:"comment-pfp"}),tt.jsx("div",{className:"comment-date",children:rt.commentDate})]}),tt.jsxs("div",{className:"comment-right",children:[tt.jsxs("div",{className:"comment-user",children:["@",rt.commenterName]}),tt.jsx("div",{className:"comment-text",children:rt.commentMessage})]})]});return tt.jsxs("div",{className:"post",children:[tt.jsxs("div",{className:"top",children:[tt.jsx("img",{src:r.userPfpUrl,alt:""}),tt.jsxs("p",{className:"userName",children:["@",r.userName]}),tt.jsx("div",{className:"postDate",children:r.postDate})]}),tt.jsxs("div",{className:"mid",children:[tt.jsx("div",{className:"postTitle",children:r.postTitle}),tt.jsx("p",{className:"main-text",children:r.postMsg})]}),tt.jsxs("div",{className:"bottom",children:[tt.jsx("img",{className:"commentsIcon",onClick:()=>o(!a),src:eT,alt:""}),tt.jsx("div",{className:"comments-count",children:(st=r.postComments)==null?void 0:st.length}),tt.jsx("img",{className:"likesIcon",src:A,onClick:j,alt:""}),tt.jsx("div",{className:"likes-count",children:($=r.postLikes)==null?void 0:$.length})]}),a&&tt.jsxs("div",{className:"comment-section-container",children:[tt.jsx("div",{className:"separator",style:{height:"1px",width:"100%",backgroundColor:"#ffff006e",marginBottom:"10px"}}),tt.jsx("div",{className:"comment-section",children:r==null?void 0:r.postComments.map(rt=>tt.jsx(at,{commentData:rt}))}),tt.jsxs("div",{className:"input-comment",children:[tt.jsx("img",{src:i,alt:"",className:"logged-user-pfp"}),tt.jsxs("div",{className:"msgarea",children:[tt.jsx("textarea",{className:"comment-text",ref:c,value:h,onChange:V,onInput:()=>P(c),placeholder:"Mensaje..."}),y&&tt.jsx("div",{className:"err1",children:"El campo no puede estar vacío"})]}),tt.jsx("button",{className:"btn-postComment",onClick:q,children:"Comentar"})]})]}),tt.jsx("hr",{})]})},iw=({setShowCreateNewPost:r,userPfpUrl:t,userName:i})=>{const[a,o]=Ht.useState(""),[c,h]=Ht.useState(""),g=Ht.useRef(null),y=Ht.useRef(null),[p,A]=Ht.useState(!1);Ht.useEffect(()=>{},[]);const S=G=>{o(G.target.value),G.target.value.trim().length>0?A(!1):A(!0)},V=G=>{h(G.target.value),G.target.value.trim().length>0?A(!1):A(!0)},P=G=>{const j=G.current;j.style.height="auto",j.style.height=`${j.scrollHeight}px`};console.log(t);const q=()=>{a!=null&&a.trim().length>0&&c!=null&&c.trim().length>0?(J1(t,i,a,c),r(!1),window.scrollTo({top:0,behavior:"smooth"})):(console.log("error de inputs"),A(!0))};return tt.jsxs("div",{className:"create-post",children:[tt.jsx("div",{className:"pfp-container",children:tt.jsx("img",{src:t,alt:""})}),tt.jsxs("div",{className:"content-container",children:[tt.jsx("div",{className:"hint1",children:"Nueva publicación"}),tt.jsx("textarea",{className:"post-title",ref:g,value:a,onChange:S,onInput:()=>P(g),placeholder:"Título...",autoFocus:!0}),tt.jsx("textarea",{className:"post-desc",ref:y,value:c,onChange:V,onInput:()=>P(y),placeholder:"Mensaje..."}),p?tt.jsx("div",{className:"err1",children:"Los campos no puden estar vacíos"}):tt.jsx(tt.Fragment,{}),tt.jsxs("div",{className:"btns-container",children:[tt.jsx("button",{className:"btn-cancelar",onClick:()=>r(!1),children:"Cancelar"}),tt.jsx("button",{className:"btn-publicar",onClick:q,children:"Publicar"})]})]})]})},rw="/foro2/assets/plus-icon-B5l5MeAM.png",sw=({setShowCreateNewPost:r})=>tt.jsx("div",{className:"createPost",children:tt.jsx("img",{onClick:()=>r(!0),src:rw,alt:""})}),aw="/foro2/assets/interknot-Caxyjgtr.png",lw="/foro2/assets/friends-icon-BctGRot2.png",ow=({friendData:r,setSwitchSides:t,setLogData:i})=>{const a=()=>{t(!0),i({friendName:r.friendName,friendPfp:r.friendPfp.split("/revision")[0],messages:r.messages})};return Ht.useEffect(()=>{i({friendName:r.friendName,friendPfp:r.friendPfp.split("/revision")[0],messages:r.messages})},[r]),tt.jsxs("div",{className:"friendlistpreview",onClick:a,children:[tt.jsx("div",{className:"pfp-container",children:tt.jsx("img",{src:r.friendPfp.split("/revision")[0],alt:""})}),tt.jsxs("div",{className:"info",children:[tt.jsxs("div",{className:"user-name",children:["@",r.friendName]}),tt.jsx("div",{className:"last-message",children:"JAJAJAJJAaaaaaaaaaaaaaaaaaffaaaaaaaaaaaaaaaaaaaaaaaaaaaffffff"})]}),tt.jsx("div",{className:"last-msg-date",children:"11:30pm 10/12/2025"})]})},uw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAYAAAA+s9J6AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAWdEVYdFNvZnR3YXJlAFBhaW50Lk5FVCA1LjH3g/eTAAAAtGVYSWZJSSoACAAAAAUAGgEFAAEAAABKAAAAGwEFAAEAAABSAAAAKAEDAAEAAAADAAAAMQECAA4AAABaAAAAaYcEAAEAAABoAAAAAAAAAKOTAADoAwAAo5MAAOgDAABQYWludC5ORVQgNS4xAAMAAJAHAAQAAAAwMjMwAaADAAEAAAABAAAABaAEAAEAAACSAAAAAAAAAAIAAQACAAQAAABSOTgAAgAHAAQAAAAwMTAwAAAAABU9XsNJigOlAAAE4klEQVR4Xu3dwXHbRhSAYcmV6JSS0kB60Cm33NRDGlBJOakTh88EHFikgH2L3ewQ+L4ZDumLffrnPZAG9gkAAAAAAAAAAAAAAAAAAAAAAADgkJ6n966+f3/67fL2+/VP8LDen5+f/pk+N9MlwjvRvVxef1w/wsP6+/L6uH5sF2TTCBfxiY6jm4PcHWOzCKcAXy8v8XEmu2PcHaHpBz9EjG81Ie6K0PSDX1SFWB2hAOGudIhVEQoQVqVC/Da9Z8U1oADhvmij+HfxdITTFIwvYYCvvUytbKqZhKYgbItGXktCTEVoCkJK0VqanYSmIORsrqW1X8wAZTanYXGEVlHoIzMJraLQgXUU+lu9LhQh9Ld6XShCGEyEMJgIYTARwmAihMFECIOJEPqLm3zfrx9viRD6+1i7yz4TYZQcRQMNFUc4lTw/fRgos7qKBuso9LW6ioZshFZSKLc5BUMqQisppGxOwVCzjpqGsK1oCgYP/4X2IsDih/96DD60lQowVH87Ov0jb5eX1RT+U3QduLTrVKZgIsIPMYyqzincHWEQIieXXkGXmkQYphDjORoOC+UsqqffUrMIZ4sYgyA5mjm8sPu8+tA8wqVPQcIRNAkPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOB4uh6NNnNEGgfQ7Ui0LhHeic5hoTy65eGgoVmUvU7qdX49R9fkqOzQLMLF9DP1OJOI8W1PiE0iNP04uV1TcXeEAoSfqqZidYTWT7grHeKeCP+8vP11/ROwkArx2/SeMk3BmIDArdgMi38XT0foGhCKvEytbKqZhFG4AGFdNPJaEmIqQmsopBStpdlJaApCY1VfzADFNq8NiyO0ikKVzZU0MwmtotCBdRT6W11JRQj9ra6kIoTBRAiDiRAGEyEMJkIYTIQwmAihv7jJ9/368ZYIob+PtbvsMxFGyVE00FBxhFPJyycQA9tWV9FgHYW+VlfRkI3QSgrlNqdgSEVoJYWUzSkYatZR0xC2FU3BUPXw3+neKI89hPsiwL4P/53+8rfLy0SEW0Vr6Kz621Ehwl3Fa+jMqUzQRsRXdTza7giDEDm51DXgZ00iDFOI8RwNR6VxFtXTb6lZhDMxcgJN4ps1j3C2iHEmSh7ZHF5oEt+sW4Sf3YkSHknT8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjqfr0WiOQ+Mguh6L1vOk3uBgUI6g2wGhoVmEjsnmJJoelR2aRDgF+Hp5iY+ziBjfWoS4O0IBcmJNQtwVoQBhf4jVEQoQftoVYlWEAoQb1SGmIxQgfKkqxG/Te0b8DCFAuBVdpP9zSirCaQrG74DAfS9TJ8Wyk9AUhHXpaVizjgINFUdoFYViqZU0MwmtolAmtZJaR2EwEcJgIoTBRAiDiRAGEyEMJkIYTIQwmAhhMBHCYJkI3y+vuGkRWBedRC9FiiOc7haeH4AKfO0jc3e9dRQGy0ZoJYV1qVU0pCK0ksKm1CoaatZR0xDuS0/BkI7QNIQvpadgqP1ixjSEX1VNweAx+LBfBPj/PgZ/JkTYF2DYFWGYQoyH2jgclDOJ+JocFro7wpkYOYlm8c2aRTizonJQzeObNY8wLKbizHTkEc3hhebxzbpE+NmdKOERdAsPAAAAAAAAAAAAAAAAAAAAAAAA4Oienv4FRdty2mE6In0AAAAASUVORK5CYII=",cw="/foro2/assets/exit-icon-BqDKTf_0.png",fw=({data:r,userName:t,userPfpUrl:i,chats:a,setShowFriends:o})=>{var st;console.log(a);const[c,h]=Ht.useState(!1),[g,y]=Ht.useState(""),[p,A]=Ht.useState(null),[S,V]=Ht.useState(""),P=Ht.useRef(null),q=({msgData:$})=>(console.log($),console.log($.sender),tt.jsxs("div",{className:`message ${($==null?void 0:$.sender)===t?"":"t-l"}`,children:[tt.jsx("div",{className:"m-text",children:$.text}),tt.jsxs("div",{className:"user-i",children:[tt.jsx("img",{src:$.pfp,alt:""}),tt.jsx("div",{className:"m-date",children:$.date})]})]})),G=async()=>{let $=null,rt=null;if(r.forEach(nt=>{nt.some(yt=>yt===g)&&(console.log(nt[0]),$=nt[0],rt=nt[2])}),$!==null&&rt!==null){const nt={friendName:$,friendPfp:rt,messages:[]},yt={friendName:t,friendPfp:i,messages:[]};let O={friends:[nt]},R={friends:[yt]};await W1(b=>{b.forEach(async D=>{D.id===t&&(O={friends:[nt,...D.data().friends]}),D.id===$&&(R={friends:[yt,...D.data().friends]})})}),await G_(t,O),await G_($,R),console.log("x")}},j=async()=>{if(S.trim()!=""){const $={sender:t,pfp:i,date:Tm(),text:S},rt={...a,friends:a.friends.map(O=>O.friendName===p.friendName?{...O,messages:[...O.messages,$]}:a)},nt=await ew("chats",p.friendName),yt={id:p.friendName,friends:nt.friends.map(O=>O.friendName===t?{...O,messages:[...O.messages,$]}:a)};console.warn("MODIFICAO BRO"),console.log(rt),await K_(t,rt),await K_(p.friendName,yt)}},at=()=>{P.current&&P.current.scrollTo({top:P.current.scrollHeight,behavior:"smooth"})};return Ht.useEffect(()=>{at()},[p]),tt.jsxs("div",{className:"Friends",children:[tt.jsx("div",{className:"title",children:"Amigos"}),tt.jsxs("div",{className:"sides",children:[tt.jsxs("div",{className:"left",children:[!c&&tt.jsxs("div",{className:"search-container",children:[tt.jsx("input",{type:"text",onChange:$=>y($.target.value)}),tt.jsx("button",{onClick:G,children:" Buscar "})]}),tt.jsxs("div",{className:"friendlist-container",children:[c&&tt.jsx("img",{src:uw,className:"three-lines-icon",onClick:()=>h(!1),alt:""}),(st=a==null?void 0:a.friends)==null?void 0:st.map($=>tt.jsx(ow,{friendData:$,setSwitchSides:h,setLogData:A}))]}),c&&tt.jsx("div",{style:{height:"50px",width:"50px"}}),tt.jsx("div",{className:"exit-icon-container",children:tt.jsx("img",{src:cw,onClick:()=>o(!1)})})]}),c&&tt.jsxs("div",{className:"right",children:[tt.jsxs("div",{className:"friend",children:[tt.jsx("img",{className:"f-pfp",src:p==null?void 0:p.friendPfp,alt:""}),tt.jsxs("div",{className:"f-name",children:["@",p==null?void 0:p.friendName]})]}),tt.jsx("div",{className:"chat-container",ref:P,children:p==null?void 0:p.messages.map($=>tt.jsx(q,{msgData:$}))}),tt.jsxs("div",{className:"bottom-container",children:[tt.jsx("textarea",{className:"jjj",onChange:$=>V($.target.value),placeholder:"Mensaje...",name:"",id:""}),tt.jsx("button",{onClick:j,children:"Enviar"})]})]})]})]})};function JA(r,t){return function(){return r.apply(t,arguments)}}const{toString:hw}=Object.prototype,{getPrototypeOf:Sm}=Object,Bc=(r=>t=>{const i=hw.call(t);return r[i]||(r[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Fn=r=>(r=r.toLowerCase(),t=>Bc(t)===r),Pc=r=>t=>typeof t===r,{isArray:ka}=Array,ho=Pc("undefined");function dw(r){return r!==null&&!ho(r)&&r.constructor!==null&&!ho(r.constructor)&&yn(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const $A=Fn("ArrayBuffer");function mw(r){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(r):t=r&&r.buffer&&$A(r.buffer),t}const gw=Pc("string"),yn=Pc("function"),WA=Pc("number"),kc=r=>r!==null&&typeof r=="object",pw=r=>r===!0||r===!1,tc=r=>{if(Bc(r)!=="object")return!1;const t=Sm(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},yw=Fn("Date"),_w=Fn("File"),vw=Fn("Blob"),Aw=Fn("FileList"),Ew=r=>kc(r)&&yn(r.pipe),Tw=r=>{let t;return r&&(typeof FormData=="function"&&r instanceof FormData||yn(r.append)&&((t=Bc(r))==="formdata"||t==="object"&&yn(r.toString)&&r.toString()==="[object FormData]"))},Sw=Fn("URLSearchParams"),[bw,Rw,ww,Cw]=["ReadableStream","Request","Response","Headers"].map(Fn),Dw=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ao(r,t,{allOwnKeys:i=!1}={}){if(r===null||typeof r>"u")return;let a,o;if(typeof r!="object"&&(r=[r]),ka(r))for(a=0,o=r.length;a<o;a++)t.call(null,r[a],a,r);else{const c=i?Object.getOwnPropertyNames(r):Object.keys(r),h=c.length;let g;for(a=0;a<h;a++)g=c[a],t.call(null,r[g],g,r)}}function tE(r,t){t=t.toLowerCase();const i=Object.keys(r);let a=i.length,o;for(;a-- >0;)if(o=i[a],t===o.toLowerCase())return o;return null}const As=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,eE=r=>!ho(r)&&r!==As;function Nd(){const{caseless:r}=eE(this)&&this||{},t={},i=(a,o)=>{const c=r&&tE(t,o)||o;tc(t[c])&&tc(a)?t[c]=Nd(t[c],a):tc(a)?t[c]=Nd({},a):ka(a)?t[c]=a.slice():t[c]=a};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&Ao(arguments[a],i);return t}const Ow=(r,t,i,{allOwnKeys:a}={})=>(Ao(t,(o,c)=>{i&&yn(o)?r[c]=JA(o,i):r[c]=o},{allOwnKeys:a}),r),Nw=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),Vw=(r,t,i,a)=>{r.prototype=Object.create(t.prototype,a),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:t.prototype}),i&&Object.assign(r.prototype,i)},Iw=(r,t,i,a)=>{let o,c,h;const g={};if(t=t||{},r==null)return t;do{for(o=Object.getOwnPropertyNames(r),c=o.length;c-- >0;)h=o[c],(!a||a(h,r,t))&&!g[h]&&(t[h]=r[h],g[h]=!0);r=i!==!1&&Sm(r)}while(r&&(!i||i(r,t))&&r!==Object.prototype);return t},Mw=(r,t,i)=>{r=String(r),(i===void 0||i>r.length)&&(i=r.length),i-=t.length;const a=r.indexOf(t,i);return a!==-1&&a===i},xw=r=>{if(!r)return null;if(ka(r))return r;let t=r.length;if(!WA(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=r[t];return i},Uw=(r=>t=>r&&t instanceof r)(typeof Uint8Array<"u"&&Sm(Uint8Array)),Lw=(r,t)=>{const a=(r&&r[Symbol.iterator]).call(r);let o;for(;(o=a.next())&&!o.done;){const c=o.value;t.call(r,c[0],c[1])}},zw=(r,t)=>{let i;const a=[];for(;(i=r.exec(t))!==null;)a.push(i);return a},Bw=Fn("HTMLFormElement"),Pw=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,a,o){return a.toUpperCase()+o}),Y_=(({hasOwnProperty:r})=>(t,i)=>r.call(t,i))(Object.prototype),kw=Fn("RegExp"),nE=(r,t)=>{const i=Object.getOwnPropertyDescriptors(r),a={};Ao(i,(o,c)=>{let h;(h=t(o,c,r))!==!1&&(a[c]=h||o)}),Object.defineProperties(r,a)},jw=r=>{nE(r,(t,i)=>{if(yn(r)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const a=r[i];if(yn(a)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},qw=(r,t)=>{const i={},a=o=>{o.forEach(c=>{i[c]=!0})};return ka(r)?a(r):a(String(r).split(t)),i},Hw=()=>{},Fw=(r,t)=>r!=null&&Number.isFinite(r=+r)?r:t;function Qw(r){return!!(r&&yn(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const Gw=r=>{const t=new Array(10),i=(a,o)=>{if(kc(a)){if(t.indexOf(a)>=0)return;if(!("toJSON"in a)){t[o]=a;const c=ka(a)?[]:{};return Ao(a,(h,g)=>{const y=i(h,o+1);!ho(y)&&(c[g]=y)}),t[o]=void 0,c}}return a};return i(r,0)},Kw=Fn("AsyncFunction"),Yw=r=>r&&(kc(r)||yn(r))&&yn(r.then)&&yn(r.catch),iE=((r,t)=>r?setImmediate:t?((i,a)=>(As.addEventListener("message",({source:o,data:c})=>{o===As&&c===i&&a.length&&a.shift()()},!1),o=>{a.push(o),As.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",yn(As.postMessage)),Xw=typeof queueMicrotask<"u"?queueMicrotask.bind(As):typeof process<"u"&&process.nextTick||iE,F={isArray:ka,isArrayBuffer:$A,isBuffer:dw,isFormData:Tw,isArrayBufferView:mw,isString:gw,isNumber:WA,isBoolean:pw,isObject:kc,isPlainObject:tc,isReadableStream:bw,isRequest:Rw,isResponse:ww,isHeaders:Cw,isUndefined:ho,isDate:yw,isFile:_w,isBlob:vw,isRegExp:kw,isFunction:yn,isStream:Ew,isURLSearchParams:Sw,isTypedArray:Uw,isFileList:Aw,forEach:Ao,merge:Nd,extend:Ow,trim:Dw,stripBOM:Nw,inherits:Vw,toFlatObject:Iw,kindOf:Bc,kindOfTest:Fn,endsWith:Mw,toArray:xw,forEachEntry:Lw,matchAll:zw,isHTMLForm:Bw,hasOwnProperty:Y_,hasOwnProp:Y_,reduceDescriptors:nE,freezeMethods:jw,toObjectSet:qw,toCamelCase:Pw,noop:Hw,toFiniteNumber:Fw,findKey:tE,global:As,isContextDefined:eE,isSpecCompliantForm:Qw,toJSONObject:Gw,isAsyncFn:Kw,isThenable:Yw,setImmediate:iE,asap:Xw};function bt(r,t,i,a,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),a&&(this.request=a),o&&(this.response=o,this.status=o.status?o.status:null)}F.inherits(bt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.status}}});const rE=bt.prototype,sE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{sE[r]={value:r}});Object.defineProperties(bt,sE);Object.defineProperty(rE,"isAxiosError",{value:!0});bt.from=(r,t,i,a,o,c)=>{const h=Object.create(rE);return F.toFlatObject(r,h,function(y){return y!==Error.prototype},g=>g!=="isAxiosError"),bt.call(h,r.message,t,i,a,o),h.cause=r,h.name=r.name,c&&Object.assign(h,c),h};const Zw=null;function Vd(r){return F.isPlainObject(r)||F.isArray(r)}function aE(r){return F.endsWith(r,"[]")?r.slice(0,-2):r}function X_(r,t,i){return r?r.concat(t).map(function(o,c){return o=aE(o),!i&&c?"["+o+"]":o}).join(i?".":""):t}function Jw(r){return F.isArray(r)&&!r.some(Vd)}const $w=F.toFlatObject(F,{},null,function(t){return/^is[A-Z]/.test(t)});function jc(r,t,i){if(!F.isObject(r))throw new TypeError("target must be an object");t=t||new FormData,i=F.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(G,j){return!F.isUndefined(j[G])});const a=i.metaTokens,o=i.visitor||A,c=i.dots,h=i.indexes,y=(i.Blob||typeof Blob<"u"&&Blob)&&F.isSpecCompliantForm(t);if(!F.isFunction(o))throw new TypeError("visitor must be a function");function p(q){if(q===null)return"";if(F.isDate(q))return q.toISOString();if(!y&&F.isBlob(q))throw new bt("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(q)||F.isTypedArray(q)?y&&typeof Blob=="function"?new Blob([q]):Buffer.from(q):q}function A(q,G,j){let at=q;if(q&&!j&&typeof q=="object"){if(F.endsWith(G,"{}"))G=a?G:G.slice(0,-2),q=JSON.stringify(q);else if(F.isArray(q)&&Jw(q)||(F.isFileList(q)||F.endsWith(G,"[]"))&&(at=F.toArray(q)))return G=aE(G),at.forEach(function($,rt){!(F.isUndefined($)||$===null)&&t.append(h===!0?X_([G],rt,c):h===null?G:G+"[]",p($))}),!1}return Vd(q)?!0:(t.append(X_(j,G,c),p(q)),!1)}const S=[],V=Object.assign($w,{defaultVisitor:A,convertValue:p,isVisitable:Vd});function P(q,G){if(!F.isUndefined(q)){if(S.indexOf(q)!==-1)throw Error("Circular reference detected in "+G.join("."));S.push(q),F.forEach(q,function(at,st){(!(F.isUndefined(at)||at===null)&&o.call(t,at,F.isString(st)?st.trim():st,G,V))===!0&&P(at,G?G.concat(st):[st])}),S.pop()}}if(!F.isObject(r))throw new TypeError("data must be an object");return P(r),t}function Z_(r){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(a){return t[a]})}function bm(r,t){this._pairs=[],r&&jc(r,this,t)}const lE=bm.prototype;lE.append=function(t,i){this._pairs.push([t,i])};lE.toString=function(t){const i=t?function(a){return t.call(this,a,Z_)}:Z_;return this._pairs.map(function(o){return i(o[0])+"="+i(o[1])},"").join("&")};function Ww(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function oE(r,t,i){if(!t)return r;const a=i&&i.encode||Ww;F.isFunction(i)&&(i={serialize:i});const o=i&&i.serialize;let c;if(o?c=o(t,i):c=F.isURLSearchParams(t)?t.toString():new bm(t,i).toString(a),c){const h=r.indexOf("#");h!==-1&&(r=r.slice(0,h)),r+=(r.indexOf("?")===-1?"?":"&")+c}return r}class J_{constructor(){this.handlers=[]}use(t,i,a){return this.handlers.push({fulfilled:t,rejected:i,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){F.forEach(this.handlers,function(a){a!==null&&t(a)})}}const uE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},t2=typeof URLSearchParams<"u"?URLSearchParams:bm,e2=typeof FormData<"u"?FormData:null,n2=typeof Blob<"u"?Blob:null,i2={isBrowser:!0,classes:{URLSearchParams:t2,FormData:e2,Blob:n2},protocols:["http","https","file","blob","url","data"]},Rm=typeof window<"u"&&typeof document<"u",Id=typeof navigator=="object"&&navigator||void 0,r2=Rm&&(!Id||["ReactNative","NativeScript","NS"].indexOf(Id.product)<0),s2=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",a2=Rm&&window.location.href||"http://localhost",l2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Rm,hasStandardBrowserEnv:r2,hasStandardBrowserWebWorkerEnv:s2,navigator:Id,origin:a2},Symbol.toStringTag,{value:"Module"})),Ze={...l2,...i2};function o2(r,t){return jc(r,new Ze.classes.URLSearchParams,Object.assign({visitor:function(i,a,o,c){return Ze.isNode&&F.isBuffer(i)?(this.append(a,i.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},t))}function u2(r){return F.matchAll(/\w+|\[(\w*)]/g,r).map(t=>t[0]==="[]"?"":t[1]||t[0])}function c2(r){const t={},i=Object.keys(r);let a;const o=i.length;let c;for(a=0;a<o;a++)c=i[a],t[c]=r[c];return t}function cE(r){function t(i,a,o,c){let h=i[c++];if(h==="__proto__")return!0;const g=Number.isFinite(+h),y=c>=i.length;return h=!h&&F.isArray(o)?o.length:h,y?(F.hasOwnProp(o,h)?o[h]=[o[h],a]:o[h]=a,!g):((!o[h]||!F.isObject(o[h]))&&(o[h]=[]),t(i,a,o[h],c)&&F.isArray(o[h])&&(o[h]=c2(o[h])),!g)}if(F.isFormData(r)&&F.isFunction(r.entries)){const i={};return F.forEachEntry(r,(a,o)=>{t(u2(a),o,i,0)}),i}return null}function f2(r,t,i){if(F.isString(r))try{return(t||JSON.parse)(r),F.trim(r)}catch(a){if(a.name!=="SyntaxError")throw a}return(i||JSON.stringify)(r)}const Eo={transitional:uE,adapter:["xhr","http","fetch"],transformRequest:[function(t,i){const a=i.getContentType()||"",o=a.indexOf("application/json")>-1,c=F.isObject(t);if(c&&F.isHTMLForm(t)&&(t=new FormData(t)),F.isFormData(t))return o?JSON.stringify(cE(t)):t;if(F.isArrayBuffer(t)||F.isBuffer(t)||F.isStream(t)||F.isFile(t)||F.isBlob(t)||F.isReadableStream(t))return t;if(F.isArrayBufferView(t))return t.buffer;if(F.isURLSearchParams(t))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let g;if(c){if(a.indexOf("application/x-www-form-urlencoded")>-1)return o2(t,this.formSerializer).toString();if((g=F.isFileList(t))||a.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return jc(g?{"files[]":t}:t,y&&new y,this.formSerializer)}}return c||o?(i.setContentType("application/json",!1),f2(t)):t}],transformResponse:[function(t){const i=this.transitional||Eo.transitional,a=i&&i.forcedJSONParsing,o=this.responseType==="json";if(F.isResponse(t)||F.isReadableStream(t))return t;if(t&&F.isString(t)&&(a&&!this.responseType||o)){const h=!(i&&i.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(g){if(h)throw g.name==="SyntaxError"?bt.from(g,bt.ERR_BAD_RESPONSE,this,null,this.response):g}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ze.classes.FormData,Blob:Ze.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],r=>{Eo.headers[r]={}});const h2=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),d2=r=>{const t={};let i,a,o;return r&&r.split(`
`).forEach(function(h){o=h.indexOf(":"),i=h.substring(0,o).trim().toLowerCase(),a=h.substring(o+1).trim(),!(!i||t[i]&&h2[i])&&(i==="set-cookie"?t[i]?t[i].push(a):t[i]=[a]:t[i]=t[i]?t[i]+", "+a:a)}),t},$_=Symbol("internals");function Xl(r){return r&&String(r).trim().toLowerCase()}function ec(r){return r===!1||r==null?r:F.isArray(r)?r.map(ec):String(r)}function m2(r){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=i.exec(r);)t[a[1]]=a[2];return t}const g2=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function ad(r,t,i,a,o){if(F.isFunction(a))return a.call(this,t,i);if(o&&(t=i),!!F.isString(t)){if(F.isString(a))return t.indexOf(a)!==-1;if(F.isRegExp(a))return a.test(t)}}function p2(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,i,a)=>i.toUpperCase()+a)}function y2(r,t){const i=F.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(r,a+i,{value:function(o,c,h){return this[a].call(this,t,o,c,h)},configurable:!0})})}let un=class{constructor(t){t&&this.set(t)}set(t,i,a){const o=this;function c(g,y,p){const A=Xl(y);if(!A)throw new Error("header name must be a non-empty string");const S=F.findKey(o,A);(!S||o[S]===void 0||p===!0||p===void 0&&o[S]!==!1)&&(o[S||y]=ec(g))}const h=(g,y)=>F.forEach(g,(p,A)=>c(p,A,y));if(F.isPlainObject(t)||t instanceof this.constructor)h(t,i);else if(F.isString(t)&&(t=t.trim())&&!g2(t))h(d2(t),i);else if(F.isHeaders(t))for(const[g,y]of t.entries())c(y,g,a);else t!=null&&c(i,t,a);return this}get(t,i){if(t=Xl(t),t){const a=F.findKey(this,t);if(a){const o=this[a];if(!i)return o;if(i===!0)return m2(o);if(F.isFunction(i))return i.call(this,o,a);if(F.isRegExp(i))return i.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,i){if(t=Xl(t),t){const a=F.findKey(this,t);return!!(a&&this[a]!==void 0&&(!i||ad(this,this[a],a,i)))}return!1}delete(t,i){const a=this;let o=!1;function c(h){if(h=Xl(h),h){const g=F.findKey(a,h);g&&(!i||ad(a,a[g],g,i))&&(delete a[g],o=!0)}}return F.isArray(t)?t.forEach(c):c(t),o}clear(t){const i=Object.keys(this);let a=i.length,o=!1;for(;a--;){const c=i[a];(!t||ad(this,this[c],c,t,!0))&&(delete this[c],o=!0)}return o}normalize(t){const i=this,a={};return F.forEach(this,(o,c)=>{const h=F.findKey(a,c);if(h){i[h]=ec(o),delete i[c];return}const g=t?p2(c):String(c).trim();g!==c&&delete i[c],i[g]=ec(o),a[g]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const i=Object.create(null);return F.forEach(this,(a,o)=>{a!=null&&a!==!1&&(i[o]=t&&F.isArray(a)?a.join(", "):a)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,i])=>t+": "+i).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...i){const a=new this(t);return i.forEach(o=>a.set(o)),a}static accessor(t){const a=(this[$_]=this[$_]={accessors:{}}).accessors,o=this.prototype;function c(h){const g=Xl(h);a[g]||(y2(o,h),a[g]=!0)}return F.isArray(t)?t.forEach(c):c(t),this}};un.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);F.reduceDescriptors(un.prototype,({value:r},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(a){this[i]=a}}});F.freezeMethods(un);function ld(r,t){const i=this||Eo,a=t||i,o=un.from(a.headers);let c=a.data;return F.forEach(r,function(g){c=g.call(i,c,o.normalize(),t?t.status:void 0)}),o.normalize(),c}function fE(r){return!!(r&&r.__CANCEL__)}function ja(r,t,i){bt.call(this,r??"canceled",bt.ERR_CANCELED,t,i),this.name="CanceledError"}F.inherits(ja,bt,{__CANCEL__:!0});function hE(r,t,i){const a=i.config.validateStatus;!i.status||!a||a(i.status)?r(i):t(new bt("Request failed with status code "+i.status,[bt.ERR_BAD_REQUEST,bt.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function _2(r){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return t&&t[1]||""}function v2(r,t){r=r||10;const i=new Array(r),a=new Array(r);let o=0,c=0,h;return t=t!==void 0?t:1e3,function(y){const p=Date.now(),A=a[c];h||(h=p),i[o]=y,a[o]=p;let S=c,V=0;for(;S!==o;)V+=i[S++],S=S%r;if(o=(o+1)%r,o===c&&(c=(c+1)%r),p-h<t)return;const P=A&&p-A;return P?Math.round(V*1e3/P):void 0}}function A2(r,t){let i=0,a=1e3/t,o,c;const h=(p,A=Date.now())=>{i=A,o=null,c&&(clearTimeout(c),c=null),r.apply(null,p)};return[(...p)=>{const A=Date.now(),S=A-i;S>=a?h(p,A):(o=p,c||(c=setTimeout(()=>{c=null,h(o)},a-S)))},()=>o&&h(o)]}const Ac=(r,t,i=3)=>{let a=0;const o=v2(50,250);return A2(c=>{const h=c.loaded,g=c.lengthComputable?c.total:void 0,y=h-a,p=o(y),A=h<=g;a=h;const S={loaded:h,total:g,progress:g?h/g:void 0,bytes:y,rate:p||void 0,estimated:p&&g&&A?(g-h)/p:void 0,event:c,lengthComputable:g!=null,[t?"download":"upload"]:!0};r(S)},i)},W_=(r,t)=>{const i=r!=null;return[a=>t[0]({lengthComputable:i,total:r,loaded:a}),t[1]]},tv=r=>(...t)=>F.asap(()=>r(...t)),E2=Ze.hasStandardBrowserEnv?((r,t)=>i=>(i=new URL(i,Ze.origin),r.protocol===i.protocol&&r.host===i.host&&(t||r.port===i.port)))(new URL(Ze.origin),Ze.navigator&&/(msie|trident)/i.test(Ze.navigator.userAgent)):()=>!0,T2=Ze.hasStandardBrowserEnv?{write(r,t,i,a,o,c){const h=[r+"="+encodeURIComponent(t)];F.isNumber(i)&&h.push("expires="+new Date(i).toGMTString()),F.isString(a)&&h.push("path="+a),F.isString(o)&&h.push("domain="+o),c===!0&&h.push("secure"),document.cookie=h.join("; ")},read(r){const t=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function S2(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function b2(r,t){return t?r.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):r}function dE(r,t,i){let a=!S2(t);return r&&a||i==!1?b2(r,t):t}const ev=r=>r instanceof un?{...r}:r;function Rs(r,t){t=t||{};const i={};function a(p,A,S,V){return F.isPlainObject(p)&&F.isPlainObject(A)?F.merge.call({caseless:V},p,A):F.isPlainObject(A)?F.merge({},A):F.isArray(A)?A.slice():A}function o(p,A,S,V){if(F.isUndefined(A)){if(!F.isUndefined(p))return a(void 0,p,S,V)}else return a(p,A,S,V)}function c(p,A){if(!F.isUndefined(A))return a(void 0,A)}function h(p,A){if(F.isUndefined(A)){if(!F.isUndefined(p))return a(void 0,p)}else return a(void 0,A)}function g(p,A,S){if(S in t)return a(p,A);if(S in r)return a(void 0,p)}const y={url:c,method:c,data:c,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:g,headers:(p,A,S)=>o(ev(p),ev(A),S,!0)};return F.forEach(Object.keys(Object.assign({},r,t)),function(A){const S=y[A]||o,V=S(r[A],t[A],A);F.isUndefined(V)&&S!==g||(i[A]=V)}),i}const mE=r=>{const t=Rs({},r);let{data:i,withXSRFToken:a,xsrfHeaderName:o,xsrfCookieName:c,headers:h,auth:g}=t;t.headers=h=un.from(h),t.url=oE(dE(t.baseURL,t.url,t.allowAbsoluteUrls),r.params,r.paramsSerializer),g&&h.set("Authorization","Basic "+btoa((g.username||"")+":"+(g.password?unescape(encodeURIComponent(g.password)):"")));let y;if(F.isFormData(i)){if(Ze.hasStandardBrowserEnv||Ze.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((y=h.getContentType())!==!1){const[p,...A]=y?y.split(";").map(S=>S.trim()).filter(Boolean):[];h.setContentType([p||"multipart/form-data",...A].join("; "))}}if(Ze.hasStandardBrowserEnv&&(a&&F.isFunction(a)&&(a=a(t)),a||a!==!1&&E2(t.url))){const p=o&&c&&T2.read(c);p&&h.set(o,p)}return t},R2=typeof XMLHttpRequest<"u",w2=R2&&function(r){return new Promise(function(i,a){const o=mE(r);let c=o.data;const h=un.from(o.headers).normalize();let{responseType:g,onUploadProgress:y,onDownloadProgress:p}=o,A,S,V,P,q;function G(){P&&P(),q&&q(),o.cancelToken&&o.cancelToken.unsubscribe(A),o.signal&&o.signal.removeEventListener("abort",A)}let j=new XMLHttpRequest;j.open(o.method.toUpperCase(),o.url,!0),j.timeout=o.timeout;function at(){if(!j)return;const $=un.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),nt={data:!g||g==="text"||g==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:$,config:r,request:j};hE(function(O){i(O),G()},function(O){a(O),G()},nt),j=null}"onloadend"in j?j.onloadend=at:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(at)},j.onabort=function(){j&&(a(new bt("Request aborted",bt.ECONNABORTED,r,j)),j=null)},j.onerror=function(){a(new bt("Network Error",bt.ERR_NETWORK,r,j)),j=null},j.ontimeout=function(){let rt=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const nt=o.transitional||uE;o.timeoutErrorMessage&&(rt=o.timeoutErrorMessage),a(new bt(rt,nt.clarifyTimeoutError?bt.ETIMEDOUT:bt.ECONNABORTED,r,j)),j=null},c===void 0&&h.setContentType(null),"setRequestHeader"in j&&F.forEach(h.toJSON(),function(rt,nt){j.setRequestHeader(nt,rt)}),F.isUndefined(o.withCredentials)||(j.withCredentials=!!o.withCredentials),g&&g!=="json"&&(j.responseType=o.responseType),p&&([V,q]=Ac(p,!0),j.addEventListener("progress",V)),y&&j.upload&&([S,P]=Ac(y),j.upload.addEventListener("progress",S),j.upload.addEventListener("loadend",P)),(o.cancelToken||o.signal)&&(A=$=>{j&&(a(!$||$.type?new ja(null,r,j):$),j.abort(),j=null)},o.cancelToken&&o.cancelToken.subscribe(A),o.signal&&(o.signal.aborted?A():o.signal.addEventListener("abort",A)));const st=_2(o.url);if(st&&Ze.protocols.indexOf(st)===-1){a(new bt("Unsupported protocol "+st+":",bt.ERR_BAD_REQUEST,r));return}j.send(c||null)})},C2=(r,t)=>{const{length:i}=r=r?r.filter(Boolean):[];if(t||i){let a=new AbortController,o;const c=function(p){if(!o){o=!0,g();const A=p instanceof Error?p:this.reason;a.abort(A instanceof bt?A:new ja(A instanceof Error?A.message:A))}};let h=t&&setTimeout(()=>{h=null,c(new bt(`timeout ${t} of ms exceeded`,bt.ETIMEDOUT))},t);const g=()=>{r&&(h&&clearTimeout(h),h=null,r.forEach(p=>{p.unsubscribe?p.unsubscribe(c):p.removeEventListener("abort",c)}),r=null)};r.forEach(p=>p.addEventListener("abort",c));const{signal:y}=a;return y.unsubscribe=()=>F.asap(g),y}},D2=function*(r,t){let i=r.byteLength;if(i<t){yield r;return}let a=0,o;for(;a<i;)o=a+t,yield r.slice(a,o),a=o},O2=async function*(r,t){for await(const i of N2(r))yield*D2(i,t)},N2=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const t=r.getReader();try{for(;;){const{done:i,value:a}=await t.read();if(i)break;yield a}}finally{await t.cancel()}},nv=(r,t,i,a)=>{const o=O2(r,t);let c=0,h,g=y=>{h||(h=!0,a&&a(y))};return new ReadableStream({async pull(y){try{const{done:p,value:A}=await o.next();if(p){g(),y.close();return}let S=A.byteLength;if(i){let V=c+=S;i(V)}y.enqueue(new Uint8Array(A))}catch(p){throw g(p),p}},cancel(y){return g(y),o.return()}},{highWaterMark:2})},qc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",gE=qc&&typeof ReadableStream=="function",V2=qc&&(typeof TextEncoder=="function"?(r=>t=>r.encode(t))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),pE=(r,...t)=>{try{return!!r(...t)}catch{return!1}},I2=gE&&pE(()=>{let r=!1;const t=new Request(Ze.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!t}),iv=64*1024,Md=gE&&pE(()=>F.isReadableStream(new Response("").body)),Ec={stream:Md&&(r=>r.body)};qc&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Ec[t]&&(Ec[t]=F.isFunction(r[t])?i=>i[t]():(i,a)=>{throw new bt(`Response type '${t}' is not supported`,bt.ERR_NOT_SUPPORT,a)})})})(new Response);const M2=async r=>{if(r==null)return 0;if(F.isBlob(r))return r.size;if(F.isSpecCompliantForm(r))return(await new Request(Ze.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(F.isArrayBufferView(r)||F.isArrayBuffer(r))return r.byteLength;if(F.isURLSearchParams(r)&&(r=r+""),F.isString(r))return(await V2(r)).byteLength},x2=async(r,t)=>{const i=F.toFiniteNumber(r.getContentLength());return i??M2(t)},U2=qc&&(async r=>{let{url:t,method:i,data:a,signal:o,cancelToken:c,timeout:h,onDownloadProgress:g,onUploadProgress:y,responseType:p,headers:A,withCredentials:S="same-origin",fetchOptions:V}=mE(r);p=p?(p+"").toLowerCase():"text";let P=C2([o,c&&c.toAbortSignal()],h),q;const G=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let j;try{if(y&&I2&&i!=="get"&&i!=="head"&&(j=await x2(A,a))!==0){let nt=new Request(t,{method:"POST",body:a,duplex:"half"}),yt;if(F.isFormData(a)&&(yt=nt.headers.get("content-type"))&&A.setContentType(yt),nt.body){const[O,R]=W_(j,Ac(tv(y)));a=nv(nt.body,iv,O,R)}}F.isString(S)||(S=S?"include":"omit");const at="credentials"in Request.prototype;q=new Request(t,{...V,signal:P,method:i.toUpperCase(),headers:A.normalize().toJSON(),body:a,duplex:"half",credentials:at?S:void 0});let st=await fetch(q);const $=Md&&(p==="stream"||p==="response");if(Md&&(g||$&&G)){const nt={};["status","statusText","headers"].forEach(b=>{nt[b]=st[b]});const yt=F.toFiniteNumber(st.headers.get("content-length")),[O,R]=g&&W_(yt,Ac(tv(g),!0))||[];st=new Response(nv(st.body,iv,O,()=>{R&&R(),G&&G()}),nt)}p=p||"text";let rt=await Ec[F.findKey(Ec,p)||"text"](st,r);return!$&&G&&G(),await new Promise((nt,yt)=>{hE(nt,yt,{data:rt,headers:un.from(st.headers),status:st.status,statusText:st.statusText,config:r,request:q})})}catch(at){throw G&&G(),at&&at.name==="TypeError"&&/fetch/i.test(at.message)?Object.assign(new bt("Network Error",bt.ERR_NETWORK,r,q),{cause:at.cause||at}):bt.from(at,at&&at.code,r,q)}}),xd={http:Zw,xhr:w2,fetch:U2};F.forEach(xd,(r,t)=>{if(r){try{Object.defineProperty(r,"name",{value:t})}catch{}Object.defineProperty(r,"adapterName",{value:t})}});const rv=r=>`- ${r}`,L2=r=>F.isFunction(r)||r===null||r===!1,yE={getAdapter:r=>{r=F.isArray(r)?r:[r];const{length:t}=r;let i,a;const o={};for(let c=0;c<t;c++){i=r[c];let h;if(a=i,!L2(i)&&(a=xd[(h=String(i)).toLowerCase()],a===void 0))throw new bt(`Unknown adapter '${h}'`);if(a)break;o[h||"#"+c]=a}if(!a){const c=Object.entries(o).map(([g,y])=>`adapter ${g} `+(y===!1?"is not supported by the environment":"is not available in the build"));let h=t?c.length>1?`since :
`+c.map(rv).join(`
`):" "+rv(c[0]):"as no adapter specified";throw new bt("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return a},adapters:xd};function od(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new ja(null,r)}function sv(r){return od(r),r.headers=un.from(r.headers),r.data=ld.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),yE.getAdapter(r.adapter||Eo.adapter)(r).then(function(a){return od(r),a.data=ld.call(r,r.transformResponse,a),a.headers=un.from(a.headers),a},function(a){return fE(a)||(od(r),a&&a.response&&(a.response.data=ld.call(r,r.transformResponse,a.response),a.response.headers=un.from(a.response.headers))),Promise.reject(a)})}const _E="1.8.3",Hc={};["object","boolean","number","function","string","symbol"].forEach((r,t)=>{Hc[r]=function(a){return typeof a===r||"a"+(t<1?"n ":" ")+r}});const av={};Hc.transitional=function(t,i,a){function o(c,h){return"[Axios v"+_E+"] Transitional option '"+c+"'"+h+(a?". "+a:"")}return(c,h,g)=>{if(t===!1)throw new bt(o(h," has been removed"+(i?" in "+i:"")),bt.ERR_DEPRECATED);return i&&!av[h]&&(av[h]=!0,console.warn(o(h," has been deprecated since v"+i+" and will be removed in the near future"))),t?t(c,h,g):!0}};Hc.spelling=function(t){return(i,a)=>(console.warn(`${a} is likely a misspelling of ${t}`),!0)};function z2(r,t,i){if(typeof r!="object")throw new bt("options must be an object",bt.ERR_BAD_OPTION_VALUE);const a=Object.keys(r);let o=a.length;for(;o-- >0;){const c=a[o],h=t[c];if(h){const g=r[c],y=g===void 0||h(g,c,r);if(y!==!0)throw new bt("option "+c+" must be "+y,bt.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new bt("Unknown option "+c,bt.ERR_BAD_OPTION)}}const nc={assertOptions:z2,validators:Hc},li=nc.validators;let Es=class{constructor(t){this.defaults=t,this.interceptors={request:new J_,response:new J_}}async request(t,i){try{return await this._request(t,i)}catch(a){if(a instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const c=o.stack?o.stack.replace(/^.+\n/,""):"";try{a.stack?c&&!String(a.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+c):a.stack=c}catch{}}throw a}}_request(t,i){typeof t=="string"?(i=i||{},i.url=t):i=t||{},i=Rs(this.defaults,i);const{transitional:a,paramsSerializer:o,headers:c}=i;a!==void 0&&nc.assertOptions(a,{silentJSONParsing:li.transitional(li.boolean),forcedJSONParsing:li.transitional(li.boolean),clarifyTimeoutError:li.transitional(li.boolean)},!1),o!=null&&(F.isFunction(o)?i.paramsSerializer={serialize:o}:nc.assertOptions(o,{encode:li.function,serialize:li.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),nc.assertOptions(i,{baseUrl:li.spelling("baseURL"),withXsrfToken:li.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let h=c&&F.merge(c.common,c[i.method]);c&&F.forEach(["delete","get","head","post","put","patch","common"],q=>{delete c[q]}),i.headers=un.concat(h,c);const g=[];let y=!0;this.interceptors.request.forEach(function(G){typeof G.runWhen=="function"&&G.runWhen(i)===!1||(y=y&&G.synchronous,g.unshift(G.fulfilled,G.rejected))});const p=[];this.interceptors.response.forEach(function(G){p.push(G.fulfilled,G.rejected)});let A,S=0,V;if(!y){const q=[sv.bind(this),void 0];for(q.unshift.apply(q,g),q.push.apply(q,p),V=q.length,A=Promise.resolve(i);S<V;)A=A.then(q[S++],q[S++]);return A}V=g.length;let P=i;for(S=0;S<V;){const q=g[S++],G=g[S++];try{P=q(P)}catch(j){G.call(this,j);break}}try{A=sv.call(this,P)}catch(q){return Promise.reject(q)}for(S=0,V=p.length;S<V;)A=A.then(p[S++],p[S++]);return A}getUri(t){t=Rs(this.defaults,t);const i=dE(t.baseURL,t.url,t.allowAbsoluteUrls);return oE(i,t.params,t.paramsSerializer)}};F.forEach(["delete","get","head","options"],function(t){Es.prototype[t]=function(i,a){return this.request(Rs(a||{},{method:t,url:i,data:(a||{}).data}))}});F.forEach(["post","put","patch"],function(t){function i(a){return function(c,h,g){return this.request(Rs(g||{},{method:t,headers:a?{"Content-Type":"multipart/form-data"}:{},url:c,data:h}))}}Es.prototype[t]=i(),Es.prototype[t+"Form"]=i(!0)});let B2=class vE{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(c){i=c});const a=this;this.promise.then(o=>{if(!a._listeners)return;let c=a._listeners.length;for(;c-- >0;)a._listeners[c](o);a._listeners=null}),this.promise.then=o=>{let c;const h=new Promise(g=>{a.subscribe(g),c=g}).then(o);return h.cancel=function(){a.unsubscribe(c)},h},t(function(c,h,g){a.reason||(a.reason=new ja(c,h,g),i(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const i=this._listeners.indexOf(t);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const t=new AbortController,i=a=>{t.abort(a)};return this.subscribe(i),t.signal.unsubscribe=()=>this.unsubscribe(i),t.signal}static source(){let t;return{token:new vE(function(o){t=o}),cancel:t}}};function P2(r){return function(i){return r.apply(null,i)}}function k2(r){return F.isObject(r)&&r.isAxiosError===!0}const Ud={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ud).forEach(([r,t])=>{Ud[t]=r});function AE(r){const t=new Es(r),i=JA(Es.prototype.request,t);return F.extend(i,Es.prototype,t,{allOwnKeys:!0}),F.extend(i,t,null,{allOwnKeys:!0}),i.create=function(o){return AE(Rs(r,o))},i}const he=AE(Eo);he.Axios=Es;he.CanceledError=ja;he.CancelToken=B2;he.isCancel=fE;he.VERSION=_E;he.toFormData=jc;he.AxiosError=bt;he.Cancel=he.CanceledError;he.all=function(t){return Promise.all(t)};he.spread=P2;he.isAxiosError=k2;he.mergeConfig=Rs;he.AxiosHeaders=un;he.formToJSON=r=>cE(F.isHTMLForm(r)?new FormData(r):r);he.getAdapter=yE.getAdapter;he.HttpStatusCode=Ud;he.default=he;const{Axios:Q2,AxiosError:G2,CanceledError:K2,isCancel:Y2,CancelToken:X2,VERSION:Z2,all:J2,Cancel:$2,isAxiosError:W2,spread:tC,toFormData:eC,AxiosHeaders:nC,HttpStatusCode:iC,formToJSON:rC,getAdapter:sC,mergeConfig:aC}=he;function j2(){const[r,t]=Ht.useState(null),[i,a]=Ht.useState("vacio"),[o,c]=Ht.useState(!1),[h,g]=Ht.useState(!1),[y,p]=Ht.useState([]),[A,S]=Ht.useState(null),[V,P]=Ht.useState(null),[q,G]=Ht.useState(null),j=()=>{const rt=new URLSearchParams(window.location.search).get("data");if(console.log(rt),rt){const nt=rt.split("^");P(nt[0]),G(nt[1].split("/revision")[0]),console.log(nt[0],nt[1]),a(rt)}},at=()=>{$1($=>{console.log("Posts:",$),t($.reverse())})},st=()=>{tw($=>{$.forEach(rt=>{rt.id===V&&(console.log(rt),S(rt))})})};return Ht.useEffect(()=>{st()},[V]),Ht.useEffect(()=>{(async()=>{const O="https://sheets.googleapis.com/v4/spreadsheets/1Bcze_9b0F7USc2zRz9QKg32YiTvGS91POdL7J9mVdKc/values/UsuariosHoja?key=AIzaSyBpIz7F_OZCzjLn8FZkSzw2KQE-7oyeO1s";try{const R=await he.get(O);p(R.data.values),console.log(R.data.values)}catch(R){console.error("Error fetching data:",R)}})()},[]),Ht.useEffect(()=>{j()},[]),Ht.useEffect(()=>{at()},[]),tt.jsx("div",{id:"MAIN-CONTAINER",children:tt.jsxs("div",{className:"main",children:[o?tt.jsx(iw,{setShowCreateNewPost:c,userPfpUrl:q,userName:V}):tt.jsx(sw,{setShowCreateNewPost:c}),h?tt.jsx(fw,{data:y,userName:V,userPfpUrl:q,chats:A,setShowFriends:g}):tt.jsx("img",{src:lw,className:"openfriends-icon",onClick:()=>g(!0)}),tt.jsx("div",{className:"interknot-container",children:tt.jsx("img",{src:aw,className:"internot-logo",alt:""})}),r==null?void 0:r.map($=>tt.jsx(tt.Fragment,{children:tt.jsx(nw,{post:$,userName:V,userPfpUrl:q},$.id)}))]})})}tT.createRoot(document.getElementById("root")).render(tt.jsx(Ht.StrictMode,{children:tt.jsx(j2,{})}));
