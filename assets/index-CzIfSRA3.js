(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var of={exports:{}},Ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp;function r0(){if(wp)return Ol;wp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:s,type:a,key:d,ref:u!==void 0?u:null,props:h}}return Ol.Fragment=e,Ol.jsx=i,Ol.jsxs=i,Ol}var Dp;function a0(){return Dp||(Dp=1,of.exports=r0()),of.exports}var wt=a0(),cf={exports:{}},Et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function s0(){if(Cp)return Et;Cp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),V=Symbol.iterator;function P(C){return C===null||typeof C!="object"?null:(C=V&&C[V]||C["@@iterator"],typeof C=="function"?C:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,J={};function Z(C,Y,st){this.props=C,this.context=Y,this.refs=J,this.updater=st||H}Z.prototype.isReactComponent={},Z.prototype.setState=function(C,Y){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Y,"setState")},Z.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function yt(){}yt.prototype=Z.prototype;function dt(C,Y,st){this.props=C,this.context=Y,this.refs=J,this.updater=st||H}var Tt=dt.prototype=new yt;Tt.constructor=dt,X(Tt,Z.prototype),Tt.isPureReactComponent=!0;var Ft=Array.isArray,_t={H:null,A:null,T:null,S:null},xt=Object.prototype.hasOwnProperty;function M(C,Y,st,tt,et,At){return st=At.ref,{$$typeof:s,type:C,key:Y,ref:st!==void 0?st:null,props:At}}function R(C,Y){return M(C.type,Y,void 0,void 0,void 0,C.props)}function A(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function D(C){var Y={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(st){return Y[st]})}var O=/\/+/g;function z(C,Y){return typeof C=="object"&&C!==null&&C.key!=null?D(""+C.key):Y.toString(36)}function w(){}function pe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function(Y){C.status==="pending"&&(C.status="fulfilled",C.value=Y)},function(Y){C.status==="pending"&&(C.status="rejected",C.reason=Y)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function oe(C,Y,st,tt,et){var At=typeof C;(At==="undefined"||At==="boolean")&&(C=null);var vt=!1;if(C===null)vt=!0;else switch(At){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(C.$$typeof){case s:case e:vt=!0;break;case S:return vt=C._init,oe(vt(C._payload),Y,st,tt,et)}}if(vt)return et=et(C),vt=tt===""?"."+z(C,0):tt,Ft(et)?(st="",vt!=null&&(st=vt.replace(O,"$&/")+"/"),oe(et,Y,st,"",function(ee){return ee})):et!=null&&(A(et)&&(et=R(et,st+(et.key==null||C&&C.key===et.key?"":(""+et.key).replace(O,"$&/")+"/")+vt)),Y.push(et)),1;vt=0;var ce=tt===""?".":tt+":";if(Ft(C))for(var zt=0;zt<C.length;zt++)tt=C[zt],At=ce+z(tt,zt),vt+=oe(tt,Y,st,At,et);else if(zt=P(C),typeof zt=="function")for(C=zt.call(C),zt=0;!(tt=C.next()).done;)tt=tt.value,At=ce+z(tt,zt++),vt+=oe(tt,Y,st,At,et);else if(At==="object"){if(typeof C.then=="function")return oe(pe(C),Y,st,tt,et);throw Y=String(C),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return vt}function W(C,Y,st){if(C==null)return C;var tt=[],et=0;return oe(C,tt,"","",function(At){return Y.call(st,At,et++)}),tt}function ht(C){if(C._status===-1){var Y=C._result;Y=Y(),Y.then(function(st){(C._status===0||C._status===-1)&&(C._status=1,C._result=st)},function(st){(C._status===0||C._status===-1)&&(C._status=2,C._result=st)}),C._status===-1&&(C._status=0,C._result=Y)}if(C._status===1)return C._result.default;throw C._result}var ut=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function qt(){}return Et.Children={map:W,forEach:function(C,Y,st){W(C,function(){Y.apply(this,arguments)},st)},count:function(C){var Y=0;return W(C,function(){Y++}),Y},toArray:function(C){return W(C,function(Y){return Y})||[]},only:function(C){if(!A(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Et.Component=Z,Et.Fragment=i,Et.Profiler=u,Et.PureComponent=dt,Et.StrictMode=a,Et.Suspense=_,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,Et.act=function(){throw Error("act(...) is not supported in production builds of React.")},Et.cache=function(C){return function(){return C.apply(null,arguments)}},Et.cloneElement=function(C,Y,st){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var tt=X({},C.props),et=C.key,At=void 0;if(Y!=null)for(vt in Y.ref!==void 0&&(At=void 0),Y.key!==void 0&&(et=""+Y.key),Y)!xt.call(Y,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&Y.ref===void 0||(tt[vt]=Y[vt]);var vt=arguments.length-2;if(vt===1)tt.children=st;else if(1<vt){for(var ce=Array(vt),zt=0;zt<vt;zt++)ce[zt]=arguments[zt+2];tt.children=ce}return M(C.type,et,void 0,void 0,At,tt)},Et.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},Et.createElement=function(C,Y,st){var tt,et={},At=null;if(Y!=null)for(tt in Y.key!==void 0&&(At=""+Y.key),Y)xt.call(Y,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(et[tt]=Y[tt]);var vt=arguments.length-2;if(vt===1)et.children=st;else if(1<vt){for(var ce=Array(vt),zt=0;zt<vt;zt++)ce[zt]=arguments[zt+2];et.children=ce}if(C&&C.defaultProps)for(tt in vt=C.defaultProps,vt)et[tt]===void 0&&(et[tt]=vt[tt]);return M(C,At,void 0,void 0,null,et)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(C){return{$$typeof:g,render:C}},Et.isValidElement=A,Et.lazy=function(C){return{$$typeof:S,_payload:{_status:-1,_result:C},_init:ht}},Et.memo=function(C,Y){return{$$typeof:v,type:C,compare:Y===void 0?null:Y}},Et.startTransition=function(C){var Y=_t.T,st={};_t.T=st;try{var tt=C(),et=_t.S;et!==null&&et(st,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(qt,ut)}catch(At){ut(At)}finally{_t.T=Y}},Et.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},Et.use=function(C){return _t.H.use(C)},Et.useActionState=function(C,Y,st){return _t.H.useActionState(C,Y,st)},Et.useCallback=function(C,Y){return _t.H.useCallback(C,Y)},Et.useContext=function(C){return _t.H.useContext(C)},Et.useDebugValue=function(){},Et.useDeferredValue=function(C,Y){return _t.H.useDeferredValue(C,Y)},Et.useEffect=function(C,Y){return _t.H.useEffect(C,Y)},Et.useId=function(){return _t.H.useId()},Et.useImperativeHandle=function(C,Y,st){return _t.H.useImperativeHandle(C,Y,st)},Et.useInsertionEffect=function(C,Y){return _t.H.useInsertionEffect(C,Y)},Et.useLayoutEffect=function(C,Y){return _t.H.useLayoutEffect(C,Y)},Et.useMemo=function(C,Y){return _t.H.useMemo(C,Y)},Et.useOptimistic=function(C,Y){return _t.H.useOptimistic(C,Y)},Et.useReducer=function(C,Y,st){return _t.H.useReducer(C,Y,st)},Et.useRef=function(C){return _t.H.useRef(C)},Et.useState=function(C){return _t.H.useState(C)},Et.useSyncExternalStore=function(C,Y,st){return _t.H.useSyncExternalStore(C,Y,st)},Et.useTransition=function(){return _t.H.useTransition()},Et.version="19.0.0",Et}var Vp;function Gf(){return Vp||(Vp=1,cf.exports=s0()),cf.exports}var nn=Gf(),hf={exports:{}},Ml={},ff={exports:{}},df={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function l0(){return Ip||(Ip=1,function(s){function e(W,ht){var ut=W.length;W.push(ht);t:for(;0<ut;){var qt=ut-1>>>1,C=W[qt];if(0<u(C,ht))W[qt]=ht,W[ut]=C,ut=qt;else break t}}function i(W){return W.length===0?null:W[0]}function a(W){if(W.length===0)return null;var ht=W[0],ut=W.pop();if(ut!==ht){W[0]=ut;t:for(var qt=0,C=W.length,Y=C>>>1;qt<Y;){var st=2*(qt+1)-1,tt=W[st],et=st+1,At=W[et];if(0>u(tt,ut))et<C&&0>u(At,tt)?(W[qt]=At,W[et]=ut,qt=et):(W[qt]=tt,W[st]=ut,qt=st);else if(et<C&&0>u(At,ut))W[qt]=At,W[et]=ut,qt=et;else break t}}return ht}function u(W,ht){var ut=W.sortIndex-ht.sortIndex;return ut!==0?ut:W.id-ht.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],v=[],S=1,V=null,P=3,H=!1,X=!1,J=!1,Z=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function Tt(W){for(var ht=i(v);ht!==null;){if(ht.callback===null)a(v);else if(ht.startTime<=W)a(v),ht.sortIndex=ht.expirationTime,e(_,ht);else break;ht=i(v)}}function Ft(W){if(J=!1,Tt(W),!X)if(i(_)!==null)X=!0,pe();else{var ht=i(v);ht!==null&&oe(Ft,ht.startTime-W)}}var _t=!1,xt=-1,M=5,R=-1;function A(){return!(s.unstable_now()-R<M)}function D(){if(_t){var W=s.unstable_now();R=W;var ht=!0;try{t:{X=!1,J&&(J=!1,yt(xt),xt=-1),H=!0;var ut=P;try{e:{for(Tt(W),V=i(_);V!==null&&!(V.expirationTime>W&&A());){var qt=V.callback;if(typeof qt=="function"){V.callback=null,P=V.priorityLevel;var C=qt(V.expirationTime<=W);if(W=s.unstable_now(),typeof C=="function"){V.callback=C,Tt(W),ht=!0;break e}V===i(_)&&a(_),Tt(W)}else a(_);V=i(_)}if(V!==null)ht=!0;else{var Y=i(v);Y!==null&&oe(Ft,Y.startTime-W),ht=!1}}break t}finally{V=null,P=ut,H=!1}ht=void 0}}finally{ht?O():_t=!1}}}var O;if(typeof dt=="function")O=function(){dt(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,w=z.port2;z.port1.onmessage=D,O=function(){w.postMessage(null)}}else O=function(){Z(D,0)};function pe(){_t||(_t=!0,O())}function oe(W,ht){xt=Z(function(){W(s.unstable_now())},ht)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(W){W.callback=null},s.unstable_continueExecution=function(){X||H||(X=!0,pe())},s.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<W?Math.floor(1e3/W):5},s.unstable_getCurrentPriorityLevel=function(){return P},s.unstable_getFirstCallbackNode=function(){return i(_)},s.unstable_next=function(W){switch(P){case 1:case 2:case 3:var ht=3;break;default:ht=P}var ut=P;P=ht;try{return W()}finally{P=ut}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(W,ht){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ut=P;P=W;try{return ht()}finally{P=ut}},s.unstable_scheduleCallback=function(W,ht,ut){var qt=s.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?qt+ut:qt):ut=qt,W){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ut+C,W={id:S++,callback:ht,priorityLevel:W,startTime:ut,expirationTime:C,sortIndex:-1},ut>qt?(W.sortIndex=ut,e(v,W),i(_)===null&&W===i(v)&&(J?(yt(xt),xt=-1):J=!0,oe(Ft,ut-qt))):(W.sortIndex=C,e(_,W),X||H||(X=!0,pe())),W},s.unstable_shouldYield=A,s.unstable_wrapCallback=function(W){var ht=P;return function(){var ut=P;P=ht;try{return W.apply(this,arguments)}finally{P=ut}}}}(df)),df}var Np;function u0(){return Np||(Np=1,ff.exports=l0()),ff.exports}var mf={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op;function o0(){if(Op)return He;Op=1;var s=Gf();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)v+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(_,v,S){var V=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:V==null?null:""+V,children:_,containerInfo:v,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,He.createPortal=function(_,v){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,S)},He.flushSync=function(_){var v=d.T,S=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=S,a.d.f()}},He.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},He.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},He.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var S=v.as,V=g(S,v.crossOrigin),P=typeof v.integrity=="string"?v.integrity:void 0,H=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;S==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:V,integrity:P,fetchPriority:H}):S==="script"&&a.d.X(_,{crossOrigin:V,integrity:P,fetchPriority:H,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},He.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var S=g(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},He.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var S=v.as,V=g(S,v.crossOrigin);a.d.L(_,S,{crossOrigin:V,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},He.preloadModule=function(_,v){if(typeof _=="string")if(v){var S=g(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},He.requestFormReset=function(_){a.d.r(_)},He.unstable_batchedUpdates=function(_,v){return _(v)},He.useFormState=function(_,v,S){return d.H.useFormState(_,v,S)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.0.0",He}var Mp;function c0(){if(Mp)return mf.exports;Mp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),mf.exports=o0(),mf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function h0(){if(Up)return Ml;Up=1;var s=u0(),e=Gf(),i=c0();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),H=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),yt=Symbol.for("react.memo"),dt=Symbol.for("react.lazy"),Tt=Symbol.for("react.offscreen"),Ft=Symbol.for("react.memo_cache_sentinel"),_t=Symbol.iterator;function xt(t){return t===null||typeof t!="object"?null:(t=_t&&t[_t]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function R(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _:return"Fragment";case g:return"Portal";case S:return"Profiler";case v:return"StrictMode";case J:return"Suspense";case Z:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case H:return(t.displayName||"Context")+".Provider";case P:return(t._context.displayName||"Context")+".Consumer";case X:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yt:return n=t.displayName||null,n!==null?n:R(t.type)||"Memo";case dt:n=t._payload,t=t._init;try{return R(t(n))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,O,z;function w(t){if(O===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);O=n&&n[1]||"",z=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O+t+z}var pe=!1;function oe(t,n){if(!t||pe)return"";pe=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(k){var B=k}Reflect.construct(t,[],K)}else{try{K.call()}catch(k){B=k}t.call(K.prototype)}}else{try{throw Error()}catch(k){B=k}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),N=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<N.length&&!N[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===N.length)for(l=b.length-1,c=N.length-1;1<=l&&0<=c&&b[l]!==N[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==N[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==N[c]){var j=`
`+b[l].replace(" at new "," at ");return t.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",t.displayName)),j}while(1<=l&&0<=c);break}}}finally{pe=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?w(r):""}function W(t){switch(t.tag){case 26:case 27:case 5:return w(t.type);case 16:return w("Lazy");case 13:return w("Suspense");case 19:return w("SuspenseList");case 0:case 15:return t=oe(t.type,!1),t;case 11:return t=oe(t.type.render,!1),t;case 1:return t=oe(t.type,!0),t;default:return""}}function ht(t){try{var n="";do n+=W(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ut(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function qt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function C(t){if(ut(t)!==t)throw Error(a(188))}function Y(t){var n=t.alternate;if(!n){if(n=ut(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return C(c),t;if(f===l)return C(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function st(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=st(t),n!==null)return n;t=t.sibling}return null}var tt=Array.isArray,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,At={pending:!1,data:null,method:null,action:null},vt=[],ce=-1;function zt(t){return{current:t}}function ee(t){0>ce||(t.current=vt[ce],vt[ce]=null,ce--)}function jt(t,n){ce++,vt[ce]=t.current,t.current=n}var Fe=zt(null),ri=zt(null),fn=zt(null),xi=zt(null);function zi(t,n){switch(jt(fn,n),jt(ri,t),jt(Fe,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?ep(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=ep(t),n=np(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ee(Fe),jt(Fe,n)}function ai(){ee(Fe),ee(ri),ee(fn)}function Ds(t){t.memoizedState!==null&&jt(xi,t);var n=Fe.current,r=np(n,t.type);n!==r&&(jt(ri,t),jt(Fe,r))}function ya(t){ri.current===t&&(ee(Fe),ee(ri)),xi.current===t&&(ee(xi),Dl._currentValue=At)}var _a=Object.prototype.hasOwnProperty,Vr=s.unstable_scheduleCallback,va=s.unstable_cancelCallback,cc=s.unstable_shouldYield,Cs=s.unstable_requestPaint,Je=s.unstable_now,eu=s.unstable_getCurrentPriorityLevel,ye=s.unstable_ImmediatePriority,Re=s.unstable_UserBlockingPriority,si=s.unstable_NormalPriority,nu=s.unstable_LowPriority,Vs=s.unstable_IdlePriority,hc=s.log,Ir=s.unstable_setDisableYieldValue,Li=null,qe=null;function Is(t){if(qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Li,t,void 0,(t.current.flags&128)===128)}catch{}}function Pn(t){if(typeof hc=="function"&&Ir(t),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Li,t)}catch{}}var Ke=Math.clz32?Math.clz32:ru,Ns=Math.log,iu=Math.LN2;function ru(t){return t>>>=0,t===0?32:31-(Ns(t)/iu|0)|0}var Bn=128,Pi=4194304;function In(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function dn(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,c=t.suspendedLanes,f=t.pingedLanes,y=t.warmLanes;t=t.finishedLanes!==0;var E=r&134217727;return E!==0?(r=E&~c,r!==0?l=In(r):(f&=E,f!==0?l=In(f):t||(y=E&~y,y!==0&&(l=In(y))))):(E=r&~c,E!==0?l=In(E):f!==0?l=In(f):t||(y=r&~y,y!==0&&(l=In(y)))),l===0?0:n!==0&&n!==l&&(n&c)===0&&(c=l&-l,y=n&-n,c>=y||c===32&&(y&4194176)!==0)?n:l}function Bi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ea(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Os(){var t=Bn;return Bn<<=1,(Bn&4194176)===0&&(Bn=128),t}function qi(){var t=Pi;return Pi<<=1,(Pi&62914560)===0&&(Pi=4194304),t}function Ta(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function se(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function au(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,N=t.hiddenUpdates;for(r=y&~r;0<r;){var j=31-Ke(r),K=1<<j;E[j]=0,b[j]=-1;var B=N[j];if(B!==null)for(N[j]=null,j=0;j<B.length;j++){var k=B[j];k!==null&&(k.lane&=-536870913)}r&=~K}l!==0&&ki(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function ki(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ke(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194218}function Hi(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Ke(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function su(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function lu(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Ep(t.type))}function ji(t,n){var r=et.p;try{return et.p=t,n()}finally{et.p=r}}var qn=Math.random().toString(36).slice(2),we="__reactFiber$"+qn,_e="__reactProps$"+qn,li="__reactContainer$"+qn,Nr="__reactEvents$"+qn,Aa="__reactListeners$"+qn,kn="__reactHandles$"+qn,Ms="__reactResources$"+qn,Gi="__reactMarker$"+qn;function Or(t){delete t[we],delete t[_e],delete t[Nr],delete t[Aa],delete t[kn]}function Nn(t){var n=t[we];if(n)return n;for(var r=t.parentNode;r;){if(n=r[li]||r[we]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=ap(t);t!==null;){if(r=t[we])return r;t=ap(t)}return n}t=r,r=t.parentNode}return null}function ui(t){if(t=t[we]||t[li]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Qi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Fi(t){var n=t[Ms];return n||(n=t[Ms]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function $t(t){t[Gi]=!0}var Us=new Set,Sa={};function an(t,n){We(t,n),We(t+"Capture",n)}function We(t,n){for(Sa[t]=n,t=0;t<n.length;t++)Us.add(n[t])}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xs={},zs={};function uu(t){return _a.call(zs,t)?!0:_a.call(xs,t)?!1:fc.test(t)?zs[t]=!0:(xs[t]=!0,!1)}function Ki(t,n,r){if(uu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Yi(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function mn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ye(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ou(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function dc(t){var n=ou(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Mr(t){t._valueTracker||(t._valueTracker=dc(t))}function Ls(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=ou(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function ba(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var oi=/[\n"\\]/g;function ne(t){return t.replace(oi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Xi(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ye(n)):t.value!==""+Ye(n)&&(t.value=""+Ye(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Ra(t,y,Ye(n)):r!=null?Ra(t,y,Ye(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ye(E):t.removeAttribute("name")}function Ur(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ye(r):"",n=n!=null?""+Ye(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Ra(t,n,r){n==="number"&&ba(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Lt(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ye(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function xr(t,n,r){if(n!=null&&(n=""+Ye(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ye(r):""}function Zi(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(tt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ye(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function gn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var mc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ps(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||mc.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function cu(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Ps(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Ps(t,f,n[f])}function Bs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hn(t){return pc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var pn=null;function wa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ci=null,hi=null;function fi(t){var n=ui(t);if(n&&(t=n.stateNode)){var r=t[_e]||null;t:switch(t=n.stateNode,n.type){case"input":if(Xi(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ne(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[_e]||null;if(!c)throw Error(a(90));Xi(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ls(l)}break t;case"textarea":xr(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Lt(t,!!r.multiple,n,!1)}}}var qs=!1;function hu(t,n,r){if(qs)return t(n,r);qs=!0;try{var l=t(n);return l}finally{if(qs=!1,(ci!==null||hi!==null)&&(no(),ci&&(n=ci,t=hi,hi=ci=null,fi(n),t)))for(n=0;n<t.length;n++)fi(t[n])}}function zr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[_e]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var yn=!1;if(sn)try{var Lr={};Object.defineProperty(Lr,"passive",{get:function(){yn=!0}}),window.addEventListener("test",Lr,Lr),window.removeEventListener("test",Lr,Lr)}catch{yn=!1}var jn=null,$i=null,di=null;function ks(){if(di)return di;var t,n=$i,r=n.length,l,c="value"in jn?jn.value:jn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return di=c.slice(t,1<l?1-l:void 0)}function Gn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Qn(){return!0}function Hs(){return!1}function De(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qn:Hs,this.isPropagationStopped=Hs,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Da=De(kt),Pr=D({},kt,{view:0,detail:0}),fu=De(Pr),Ca,Va,Fn,Br=D({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fn&&(Fn&&t.type==="mousemove"?(Ca=t.screenX-Fn.screenX,Va=t.screenY-Fn.screenY):Va=Ca=0,Fn=t),Ca)},movementY:function(t){return"movementY"in t?t.movementY:Va}}),_n=De(Br),du=D({},Br,{dataTransfer:0}),yc=De(du),qr=D({},Pr,{relatedTarget:0}),Ia=De(qr),js=D({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),Na=De(js),mu=D({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Oa=De(mu),_c=D({},kt,{data:0}),Gs=De(_c),kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=pu[t])?!!n[t]:!1}function Hr(){return Qs}var yu=D({},Pr,{key:function(t){if(t.key){var n=kr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Gn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hr,charCode:function(t){return t.type==="keypress"?Gn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ma=De(yu),_u=D({},Br,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fs=De(_u),mi=D({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hr}),vu=De(mi),Eu=D({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tu=De(Eu),Au=D({},Br,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ua=De(Au),Xe=D({},kt,{newState:0,oldState:0}),Su=De(Xe),bu=[9,13,27,32],Kn=sn&&"CompositionEvent"in window,o=null;sn&&"documentMode"in document&&(o=document.documentMode);var m=sn&&"TextEvent"in window&&!o,p=sn&&(!Kn||o&&8<o&&11>=o),T=" ",x=!1;function q(t,n){switch(t){case"keyup":return bu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var It=!1;function ve(t,n){switch(t){case"compositionend":return $(n);case"keypress":return n.which!==32?null:(x=!0,T);case"textInput":return t=n.data,t===T&&x?null:t;default:return null}}function Nt(t,n){if(It)return t==="compositionend"||!Kn&&q(t,n)?(t=ks(),di=$i=jn=null,It=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ce[t.type]:n==="textarea"}function gi(t,n,r,l){ci?hi?hi.push(l):hi=[l]:ci=l,n=lo(n,"onChange"),0<n.length&&(r=new Da("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Me=null,Yn=null;function Ks(t){Zg(t,0)}function Ru(t){var n=Qi(t);if(Ls(n))return t}function Rd(t,n){if(t==="change")return n}var wd=!1;if(sn){var vc;if(sn){var Ec="oninput"in document;if(!Ec){var Dd=document.createElement("div");Dd.setAttribute("oninput","return;"),Ec=typeof Dd.oninput=="function"}vc=Ec}else vc=!1;wd=vc&&(!document.documentMode||9<document.documentMode)}function Cd(){Me&&(Me.detachEvent("onpropertychange",Vd),Yn=Me=null)}function Vd(t){if(t.propertyName==="value"&&Ru(Yn)){var n=[];gi(n,Yn,t,wa(t)),hu(Ks,n)}}function Uv(t,n,r){t==="focusin"?(Cd(),Me=n,Yn=r,Me.attachEvent("onpropertychange",Vd)):t==="focusout"&&Cd()}function xv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ru(Yn)}function zv(t,n){if(t==="click")return Ru(n)}function Lv(t,n){if(t==="input"||t==="change")return Ru(n)}function Pv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:Pv;function Ys(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!_a.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function Id(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nd(t,n){var r=Id(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Id(r)}}function Od(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Od(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Md(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ba(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=ba(t.document)}return n}function Tc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function Bv(t,n){var r=Md(n);n=t.focusedElem;var l=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&Od(n.ownerDocument.documentElement,n)){if(l!==null&&Tc(n)){if(t=l.start,r=l.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var c=n.textContent.length,f=Math.min(l.start,c);l=l.end===void 0?f:Math.min(l.end,c),!r.extend&&f>l&&(c=l,l=f,f=c),c=Nd(n,f);var y=Nd(n,l);c&&y&&(r.rangeCount!==1||r.anchorNode!==c.node||r.anchorOffset!==c.offset||r.focusNode!==y.node||r.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),r.removeAllRanges(),f>l?(r.addRange(t),r.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var qv=sn&&"documentMode"in document&&11>=document.documentMode,xa=null,Ac=null,Xs=null,Sc=!1;function Ud(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Sc||xa==null||xa!==ba(l)||(l=xa,"selectionStart"in l&&Tc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Xs&&Ys(Xs,l)||(Xs=l,l=lo(Ac,"onSelect"),0<l.length&&(n=new Da("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=xa)))}function jr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var za={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionrun:jr("Transition","TransitionRun"),transitionstart:jr("Transition","TransitionStart"),transitioncancel:jr("Transition","TransitionCancel"),transitionend:jr("Transition","TransitionEnd")},bc={},xd={};sn&&(xd=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function Gr(t){if(bc[t])return bc[t];if(!za[t])return t;var n=za[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in xd)return bc[t]=n[r];return t}var zd=Gr("animationend"),Ld=Gr("animationiteration"),Pd=Gr("animationstart"),kv=Gr("transitionrun"),Hv=Gr("transitionstart"),jv=Gr("transitioncancel"),Bd=Gr("transitionend"),qd=new Map,kd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function On(t,n){qd.set(t,n),an(n,[t])}var vn=[],La=0,Rc=0;function wu(){for(var t=La,n=Rc=La=0;n<t;){var r=vn[n];vn[n++]=null;var l=vn[n];vn[n++]=null;var c=vn[n];vn[n++]=null;var f=vn[n];if(vn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Hd(r,c,f)}}function Du(t,n,r,l){vn[La++]=t,vn[La++]=n,vn[La++]=r,vn[La++]=l,Rc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function wc(t,n,r,l){return Du(t,n,r,l),Cu(t)}function Ji(t,n){return Du(t,null,null,n),Cu(t)}function Hd(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;c&&n!==null&&t.tag===3&&(f=t.stateNode,c=31-Ke(r),f=f.hiddenUpdates,t=f[c],t===null?f[c]=[n]:t.push(n),n.lane=r|536870912)}function Cu(t){if(50<El)throw El=0,Oh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Pa={},jd=new WeakMap;function En(t,n){if(typeof t=="object"&&t!==null){var r=jd.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ht(n)},jd.set(t,n),n)}return{value:t,source:n,stack:ht(n)}}var Ba=[],qa=0,Vu=null,Iu=0,Tn=[],An=0,Qr=null,pi=1,yi="";function Fr(t,n){Ba[qa++]=Iu,Ba[qa++]=Vu,Vu=t,Iu=n}function Gd(t,n,r){Tn[An++]=pi,Tn[An++]=yi,Tn[An++]=Qr,Qr=t;var l=pi;t=yi;var c=32-Ke(l)-1;l&=~(1<<c),r+=1;var f=32-Ke(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,pi=1<<32-Ke(n)+c|r<<c|l,yi=f+t}else pi=1<<f|r<<c|l,yi=t}function Dc(t){t.return!==null&&(Fr(t,1),Gd(t,1,0))}function Cc(t){for(;t===Vu;)Vu=Ba[--qa],Ba[qa]=null,Iu=Ba[--qa],Ba[qa]=null;for(;t===Qr;)Qr=Tn[--An],Tn[An]=null,yi=Tn[--An],Tn[An]=null,pi=Tn[--An],Tn[An]=null}var Ze=null,Ue=null,Pt=!1,Mn=null,Xn=!1,Vc=Error(a(519));function Kr(t){var n=Error(a(418,""));throw Js(En(n,t)),Vc}function Qd(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[we]=t,n[_e]=l,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(r=0;r<Al.length;r++)Ct(Al[r],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),Ur(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Mr(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),Zi(n,l.value,l.defaultValue,l.children),Mr(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||tp(n.textContent,r)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=uo),n=!0):n=!1,n||Kr(t)}function Fd(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 3:case 27:Xn=!0;return;case 5:case 13:Xn=!1;return;default:Ze=Ze.return}}function Zs(t){if(t!==Ze)return!1;if(!Pt)return Fd(t),Pt=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Xh(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&Ue&&Kr(t),Fd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Ue=xn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Ue=null}}else Ue=Ze?xn(t.stateNode.nextSibling):null;return!0}function $s(){Ue=Ze=null,Pt=!1}function Js(t){Mn===null?Mn=[t]:Mn.push(t)}var Ws=Error(a(460)),Kd=Error(a(474)),Ic={then:function(){}};function Yd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Nu(){}function Xd(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Nu,Nu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Ws?Error(a(483)):t;default:if(typeof n.status=="string")n.then(Nu,Nu);else{if(t=Yt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Ws?Error(a(483)):t}throw tl=n,Ws}}var tl=null;function Zd(){if(tl===null)throw Error(a(459));var t=tl;return tl=null,t}var ka=null,el=0;function Ou(t){var n=el;return el+=1,ka===null&&(ka=[]),Xd(ka,t,n)}function nl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Mu(t,n){throw n.$$typeof===h?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function $d(t){var n=t._init;return n(t._payload)}function Jd(t){function n(U,I){if(t){var L=U.deletions;L===null?(U.deletions=[I],U.flags|=16):L.push(I)}}function r(U,I){if(!t)return null;for(;I!==null;)n(U,I),I=I.sibling;return null}function l(U){for(var I=new Map;U!==null;)U.key!==null?I.set(U.key,U):I.set(U.index,U),U=U.sibling;return I}function c(U,I){return U=cr(U,I),U.index=0,U.sibling=null,U}function f(U,I,L){return U.index=L,t?(L=U.alternate,L!==null?(L=L.index,L<I?(U.flags|=33554434,I):L):(U.flags|=33554434,I)):(U.flags|=1048576,I)}function y(U){return t&&U.alternate===null&&(U.flags|=33554434),U}function E(U,I,L,G){return I===null||I.tag!==6?(I=bh(L,U.mode,G),I.return=U,I):(I=c(I,L),I.return=U,I)}function b(U,I,L,G){var it=L.type;return it===_?j(U,I,L.props.children,G,L.key):I!==null&&(I.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===dt&&$d(it)===I.type)?(I=c(I,L.props),nl(I,L),I.return=U,I):(I=$u(L.type,L.key,L.props,null,U.mode,G),nl(I,L),I.return=U,I)}function N(U,I,L,G){return I===null||I.tag!==4||I.stateNode.containerInfo!==L.containerInfo||I.stateNode.implementation!==L.implementation?(I=Rh(L,U.mode,G),I.return=U,I):(I=c(I,L.children||[]),I.return=U,I)}function j(U,I,L,G,it){return I===null||I.tag!==7?(I=ia(L,U.mode,G,it),I.return=U,I):(I=c(I,L),I.return=U,I)}function K(U,I,L){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=bh(""+I,U.mode,L),I.return=U,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case d:return L=$u(I.type,I.key,I.props,null,U.mode,L),nl(L,I),L.return=U,L;case g:return I=Rh(I,U.mode,L),I.return=U,I;case dt:var G=I._init;return I=G(I._payload),K(U,I,L)}if(tt(I)||xt(I))return I=ia(I,U.mode,L,null),I.return=U,I;if(typeof I.then=="function")return K(U,Ou(I),L);if(I.$$typeof===H)return K(U,Yu(U,I),L);Mu(U,I)}return null}function B(U,I,L,G){var it=I!==null?I.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return it!==null?null:E(U,I,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case d:return L.key===it?b(U,I,L,G):null;case g:return L.key===it?N(U,I,L,G):null;case dt:return it=L._init,L=it(L._payload),B(U,I,L,G)}if(tt(L)||xt(L))return it!==null?null:j(U,I,L,G,null);if(typeof L.then=="function")return B(U,I,Ou(L),G);if(L.$$typeof===H)return B(U,I,Yu(U,L),G);Mu(U,L)}return null}function k(U,I,L,G,it){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return U=U.get(L)||null,E(I,U,""+G,it);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case d:return U=U.get(G.key===null?L:G.key)||null,b(I,U,G,it);case g:return U=U.get(G.key===null?L:G.key)||null,N(I,U,G,it);case dt:var bt=G._init;return G=bt(G._payload),k(U,I,L,G,it)}if(tt(G)||xt(G))return U=U.get(L)||null,j(I,U,G,it,null);if(typeof G.then=="function")return k(U,I,L,Ou(G),it);if(G.$$typeof===H)return k(U,I,L,Yu(I,G),it);Mu(I,G)}return null}function at(U,I,L,G){for(var it=null,bt=null,lt=I,ct=I=0,Ne=null;lt!==null&&ct<L.length;ct++){lt.index>ct?(Ne=lt,lt=null):Ne=lt.sibling;var Bt=B(U,lt,L[ct],G);if(Bt===null){lt===null&&(lt=Ne);break}t&&lt&&Bt.alternate===null&&n(U,lt),I=f(Bt,I,ct),bt===null?it=Bt:bt.sibling=Bt,bt=Bt,lt=Ne}if(ct===L.length)return r(U,lt),Pt&&Fr(U,ct),it;if(lt===null){for(;ct<L.length;ct++)lt=K(U,L[ct],G),lt!==null&&(I=f(lt,I,ct),bt===null?it=lt:bt.sibling=lt,bt=lt);return Pt&&Fr(U,ct),it}for(lt=l(lt);ct<L.length;ct++)Ne=k(lt,U,ct,L[ct],G),Ne!==null&&(t&&Ne.alternate!==null&&lt.delete(Ne.key===null?ct:Ne.key),I=f(Ne,I,ct),bt===null?it=Ne:bt.sibling=Ne,bt=Ne);return t&&lt.forEach(function(yr){return n(U,yr)}),Pt&&Fr(U,ct),it}function gt(U,I,L,G){if(L==null)throw Error(a(151));for(var it=null,bt=null,lt=I,ct=I=0,Ne=null,Bt=L.next();lt!==null&&!Bt.done;ct++,Bt=L.next()){lt.index>ct?(Ne=lt,lt=null):Ne=lt.sibling;var yr=B(U,lt,Bt.value,G);if(yr===null){lt===null&&(lt=Ne);break}t&&lt&&yr.alternate===null&&n(U,lt),I=f(yr,I,ct),bt===null?it=yr:bt.sibling=yr,bt=yr,lt=Ne}if(Bt.done)return r(U,lt),Pt&&Fr(U,ct),it;if(lt===null){for(;!Bt.done;ct++,Bt=L.next())Bt=K(U,Bt.value,G),Bt!==null&&(I=f(Bt,I,ct),bt===null?it=Bt:bt.sibling=Bt,bt=Bt);return Pt&&Fr(U,ct),it}for(lt=l(lt);!Bt.done;ct++,Bt=L.next())Bt=k(lt,U,ct,Bt.value,G),Bt!==null&&(t&&Bt.alternate!==null&&lt.delete(Bt.key===null?ct:Bt.key),I=f(Bt,I,ct),bt===null?it=Bt:bt.sibling=Bt,bt=Bt);return t&&lt.forEach(function(i0){return n(U,i0)}),Pt&&Fr(U,ct),it}function ae(U,I,L,G){if(typeof L=="object"&&L!==null&&L.type===_&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case d:t:{for(var it=L.key;I!==null;){if(I.key===it){if(it=L.type,it===_){if(I.tag===7){r(U,I.sibling),G=c(I,L.props.children),G.return=U,U=G;break t}}else if(I.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===dt&&$d(it)===I.type){r(U,I.sibling),G=c(I,L.props),nl(G,L),G.return=U,U=G;break t}r(U,I);break}else n(U,I);I=I.sibling}L.type===_?(G=ia(L.props.children,U.mode,G,L.key),G.return=U,U=G):(G=$u(L.type,L.key,L.props,null,U.mode,G),nl(G,L),G.return=U,U=G)}return y(U);case g:t:{for(it=L.key;I!==null;){if(I.key===it)if(I.tag===4&&I.stateNode.containerInfo===L.containerInfo&&I.stateNode.implementation===L.implementation){r(U,I.sibling),G=c(I,L.children||[]),G.return=U,U=G;break t}else{r(U,I);break}else n(U,I);I=I.sibling}G=Rh(L,U.mode,G),G.return=U,U=G}return y(U);case dt:return it=L._init,L=it(L._payload),ae(U,I,L,G)}if(tt(L))return at(U,I,L,G);if(xt(L)){if(it=xt(L),typeof it!="function")throw Error(a(150));return L=it.call(L),gt(U,I,L,G)}if(typeof L.then=="function")return ae(U,I,Ou(L),G);if(L.$$typeof===H)return ae(U,I,Yu(U,L),G);Mu(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,I!==null&&I.tag===6?(r(U,I.sibling),G=c(I,L),G.return=U,U=G):(r(U,I),G=bh(L,U.mode,G),G.return=U,U=G),y(U)):r(U,I)}return function(U,I,L,G){try{el=0;var it=ae(U,I,L,G);return ka=null,it}catch(lt){if(lt===Ws)throw lt;var bt=wn(29,lt,null,U.mode);return bt.lanes=G,bt.return=U,bt}finally{}}}var Yr=Jd(!0),Wd=Jd(!1),Ha=zt(null),Uu=zt(0);function tm(t,n){t=Ci,jt(Uu,t),jt(Ha,n),Ci=t|n.baseLanes}function Nc(){jt(Uu,Ci),jt(Ha,Ha.current)}function Oc(){Ci=Uu.current,ee(Ha),ee(Uu)}var Sn=zt(null),Zn=null;function Wi(t){var n=t.alternate;jt(Te,Te.current&1),jt(Sn,t),Zn===null&&(n===null||Ha.current!==null||n.memoizedState!==null)&&(Zn=t)}function em(t){if(t.tag===22){if(jt(Te,Te.current),jt(Sn,t),Zn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Zn=t)}}else tr()}function tr(){jt(Te,Te.current),jt(Sn,Sn.current)}function _i(t){ee(Sn),Zn===t&&(Zn=null),ee(Te)}var Te=zt(0);function xu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Gv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},Qv=s.unstable_scheduleCallback,Fv=s.unstable_NormalPriority,Ae={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mc(){return{controller:new Gv,data:new Map,refCount:0}}function il(t){t.refCount--,t.refCount===0&&Qv(Fv,function(){t.controller.abort()})}var rl=null,Uc=0,ja=0,Ga=null;function Kv(t,n){if(rl===null){var r=rl=[];Uc=0,ja=qh(),Ga={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Uc++,n.then(nm,nm),n}function nm(){if(--Uc===0&&rl!==null){Ga!==null&&(Ga.status="fulfilled");var t=rl;rl=null,ja=0,Ga=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Yv(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var im=A.S;A.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Kv(t,n),im!==null&&im(t,n)};var Xr=zt(null);function xc(){var t=Xr.current;return t!==null?t:Yt.pooledCache}function zu(t,n){n===null?jt(Xr,Xr.current):jt(Xr,n.pool)}function rm(){var t=xc();return t===null?null:{parent:Ae._currentValue,pool:t}}var er=0,St=null,Gt=null,he=null,Lu=!1,Qa=!1,Zr=!1,Pu=0,al=0,Fa=null,Xv=0;function le(){throw Error(a(321))}function zc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!ln(t[r],n[r]))return!1;return!0}function Lc(t,n,r,l,c,f){return er=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=t===null||t.memoizedState===null?$r:nr,Zr=!1,f=r(l,c),Zr=!1,Qa&&(f=sm(n,r,l,c)),am(t),f}function am(t){A.H=$n;var n=Gt!==null&&Gt.next!==null;if(er=0,he=Gt=St=null,Lu=!1,al=0,Fa=null,n)throw Error(a(300));t===null||Ve||(t=t.dependencies,t!==null&&Ku(t)&&(Ve=!0))}function sm(t,n,r,l){St=t;var c=0;do{if(Qa&&(Fa=null),al=0,Qa=!1,25<=c)throw Error(a(301));if(c+=1,he=Gt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}A.H=Jr,f=n(r,l)}while(Qa);return f}function Zv(){var t=A.H,n=t.useState()[0];return n=typeof n.then=="function"?sl(n):n,t=t.useState()[0],(Gt!==null?Gt.memoizedState:null)!==t&&(St.flags|=1024),n}function Pc(){var t=Pu!==0;return Pu=0,t}function Bc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function qc(t){if(Lu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Lu=!1}er=0,he=Gt=St=null,Qa=!1,al=Pu=0,Fa=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?St.memoizedState=he=t:he=he.next=t,he}function fe(){if(Gt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Gt.next;var n=he===null?St.memoizedState:he.next;if(n!==null)he=n,Gt=t;else{if(t===null)throw St.alternate===null?Error(a(467)):Error(a(310));Gt=t,t={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},he===null?St.memoizedState=he=t:he=he.next=t}return he}var Bu;Bu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function sl(t){var n=al;return al+=1,Fa===null&&(Fa=[]),t=Xd(Fa,t,n),n=St,(he===null?n.memoizedState:he.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?$r:nr),t}function qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===H)return ke(t)}throw Error(a(438,String(t)))}function kc(t){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Bu(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=Ft;return n.index++,r}function vi(t,n){return typeof n=="function"?n(t):n}function ku(t){var n=fe();return Hc(n,Gt,t)}function Hc(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,N=n,j=!1;do{var K=N.lane&-536870913;if(K!==N.lane?(Ot&K)===K:(er&K)===K){var B=N.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),K===ja&&(j=!0);else if((er&B)===B){N=N.next,B===ja&&(j=!0);continue}else K={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},b===null?(E=b=K,y=f):b=b.next=K,St.lanes|=B,hr|=B;K=N.action,Zr&&r(f,K),f=N.hasEagerState?N.eagerState:r(f,K)}else B={lane:K,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},b===null?(E=b=B,y=f):b=b.next=B,St.lanes|=K,hr|=K;N=N.next}while(N!==null&&N!==n);if(b===null?y=f:b.next=E,!ln(f,t.memoizedState)&&(Ve=!0,j&&(r=Ga,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function jc(t){var n=fe(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);ln(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function lm(t,n,r){var l=St,c=fe(),f=Pt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!ln((Gt||c).memoizedState,r);if(y&&(c.memoizedState=r,Ve=!0),c=c.queue,Fc(cm.bind(null,l,c,t),[t]),c.getSnapshot!==n||y||he!==null&&he.memoizedState.tag&1){if(l.flags|=2048,Ka(9,om.bind(null,l,c,r,n),{destroy:void 0},null),Yt===null)throw Error(a(349));f||(er&60)!==0||um(l,n,r)}return r}function um(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=Bu(),St.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function om(t,n,r,l){n.value=r,n.getSnapshot=l,hm(n)&&fm(t)}function cm(t,n,r){return r(function(){hm(n)&&fm(t)})}function hm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!ln(t,r)}catch{return!0}}function fm(t){var n=Ji(t,2);n!==null&&$e(n,t,2)}function Gc(t){var n=tn();if(typeof t=="function"){var r=t;if(t=r(),Zr){Pn(!0);try{r()}finally{Pn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:t},n}function dm(t,n,r,l){return t.baseState=r,Hc(t,Gt,typeof l=="function"?l:vi)}function $v(t,n,r,l,c){if(Gu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};A.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,mm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function mm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=A.T,y={};A.T=y;try{var E=r(c,l),b=A.S;b!==null&&b(y,E),gm(t,n,E)}catch(N){Qc(t,n,N)}finally{A.T=f}}else try{f=r(c,l),gm(t,n,f)}catch(N){Qc(t,n,N)}}function gm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){pm(t,n,l)},function(l){return Qc(t,n,l)}):pm(t,n,r)}function pm(t,n,r){n.status="fulfilled",n.value=r,ym(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,mm(t,r)))}function Qc(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,ym(n),n=n.next;while(n!==l)}t.action=null}function ym(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function _m(t,n){return n}function vm(t,n){if(Pt){var r=Yt.formState;if(r!==null){t:{var l=St;if(Pt){if(Ue){e:{for(var c=Ue,f=Xn;c.nodeType!==8;){if(!f){c=null;break e}if(c=xn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Ue=xn(c.nextSibling),l=c.data==="F!";break t}}Kr(l)}l=!1}l&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_m,lastRenderedState:n},r.queue=l,r=Lm.bind(null,St,l),l.dispatch=r,l=Gc(!1),f=$c.bind(null,St,!1,l.queue),l=tn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=$v.bind(null,St,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Em(t){var n=fe();return Tm(n,Gt,t)}function Tm(t,n,r){n=Hc(t,n,_m)[0],t=ku(vi)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?sl(n):n;var l=fe(),c=l.queue,f=c.dispatch;return r!==l.memoizedState&&(St.flags|=2048,Ka(9,Jv.bind(null,c,r),{destroy:void 0},null)),[n,f,t]}function Jv(t,n){t.action=n}function Am(t){var n=fe(),r=Gt;if(r!==null)return Tm(n,r,t);fe(),n=n.memoizedState,r=fe();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ka(t,n,r,l){return t={tag:t,create:n,inst:r,deps:l,next:null},n=St.updateQueue,n===null&&(n=Bu(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Sm(){return fe().memoizedState}function Hu(t,n,r,l){var c=tn();St.flags|=t,c.memoizedState=Ka(1|n,r,{destroy:void 0},l===void 0?null:l)}function ju(t,n,r,l){var c=fe();l=l===void 0?null:l;var f=c.memoizedState.inst;Gt!==null&&l!==null&&zc(l,Gt.memoizedState.deps)?c.memoizedState=Ka(n,r,f,l):(St.flags|=t,c.memoizedState=Ka(1|n,r,f,l))}function bm(t,n){Hu(8390656,8,t,n)}function Fc(t,n){ju(2048,8,t,n)}function Rm(t,n){return ju(4,2,t,n)}function wm(t,n){return ju(4,4,t,n)}function Dm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Cm(t,n,r){r=r!=null?r.concat([t]):null,ju(4,4,Dm.bind(null,n,t),r)}function Kc(){}function Vm(t,n){var r=fe();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&zc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Im(t,n){var r=fe();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&zc(n,l[1]))return l[0];if(l=t(),Zr){Pn(!0);try{t()}finally{Pn(!1)}}return r.memoizedState=[l,n],l}function Yc(t,n,r){return r===void 0||(er&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Og(),St.lanes|=t,hr|=t,r)}function Nm(t,n,r,l){return ln(r,n)?r:Ha.current!==null?(t=Yc(t,r,l),ln(t,n)||(Ve=!0),t):(er&42)===0?(Ve=!0,t.memoizedState=r):(t=Og(),St.lanes|=t,hr|=t,n)}function Om(t,n,r,l,c){var f=et.p;et.p=f!==0&&8>f?f:8;var y=A.T,E={};A.T=E,$c(t,!1,n,r);try{var b=c(),N=A.S;if(N!==null&&N(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var j=Yv(b,l);ll(t,n,j,hn(t))}else ll(t,n,l,hn(t))}catch(K){ll(t,n,{then:function(){},status:"rejected",reason:K},hn())}finally{et.p=f,A.T=y}}function Wv(){}function Xc(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Mm(t).queue;Om(t,c,n,At,r===null?Wv:function(){return Um(t),r(l)})}function Mm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:At,baseState:At,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:At},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Um(t){var n=Mm(t).next.queue;ll(t,n,{},hn())}function Zc(){return ke(Dl)}function xm(){return fe().memoizedState}function zm(){return fe().memoizedState}function tE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=hn();t=ar(r);var l=sr(n,t,r);l!==null&&($e(l,n,r),cl(l,n,r)),n={cache:Mc()},t.payload=n;return}n=n.return}}function eE(t,n,r){var l=hn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Gu(t)?Pm(n,r):(r=wc(t,n,r,l),r!==null&&($e(r,t,l),Bm(r,n,l)))}function Lm(t,n,r){var l=hn();ll(t,n,r,l)}function ll(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Gu(t))Pm(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,ln(E,y))return Du(t,n,c,0),Yt===null&&wu(),!1}catch{}finally{}if(r=wc(t,n,c,l),r!==null)return $e(r,t,l),Bm(r,n,l),!0}return!1}function $c(t,n,r,l){if(l={lane:2,revertLane:qh(),action:l,hasEagerState:!1,eagerState:null,next:null},Gu(t)){if(n)throw Error(a(479))}else n=wc(t,r,l,2),n!==null&&$e(n,t,2)}function Gu(t){var n=t.alternate;return t===St||n!==null&&n===St}function Pm(t,n){Qa=Lu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Bm(t,n,r){if((r&4194176)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Hi(t,r)}}var $n={readContext:ke,use:qu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le};$n.useCacheRefresh=le,$n.useMemoCache=le,$n.useHostTransitionStatus=le,$n.useFormState=le,$n.useActionState=le,$n.useOptimistic=le;var $r={readContext:ke,use:qu,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:ke,useEffect:bm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Hu(4194308,4,Dm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Hu(4194308,4,t,n)},useInsertionEffect:function(t,n){Hu(4,2,t,n)},useMemo:function(t,n){var r=tn();n=n===void 0?null:n;var l=t();if(Zr){Pn(!0);try{t()}finally{Pn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=tn();if(r!==void 0){var c=r(n);if(Zr){Pn(!0);try{r(n)}finally{Pn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=eE.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=Gc(t);var n=t.queue,r=Lm.bind(null,St,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Kc,useDeferredValue:function(t,n){var r=tn();return Yc(r,t,n)},useTransition:function(){var t=Gc(!1);return t=Om.bind(null,St,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=St,c=tn();if(Pt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Yt===null)throw Error(a(349));(Ot&60)!==0||um(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,bm(cm.bind(null,l,f,t),[t]),l.flags|=2048,Ka(9,om.bind(null,l,f,r,n),{destroy:void 0},null),r},useId:function(){var t=tn(),n=Yt.identifierPrefix;if(Pt){var r=yi,l=pi;r=(l&~(1<<32-Ke(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=Pu++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=Xv++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return tn().memoizedState=tE.bind(null,St)}};$r.useMemoCache=kc,$r.useHostTransitionStatus=Zc,$r.useFormState=vm,$r.useActionState=vm,$r.useOptimistic=function(t){var n=tn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=$c.bind(null,St,!0,r),r.dispatch=n,[t,n]};var nr={readContext:ke,use:qu,useCallback:Vm,useContext:ke,useEffect:Fc,useImperativeHandle:Cm,useInsertionEffect:Rm,useLayoutEffect:wm,useMemo:Im,useReducer:ku,useRef:Sm,useState:function(){return ku(vi)},useDebugValue:Kc,useDeferredValue:function(t,n){var r=fe();return Nm(r,Gt.memoizedState,t,n)},useTransition:function(){var t=ku(vi)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:sl(t),n]},useSyncExternalStore:lm,useId:xm};nr.useCacheRefresh=zm,nr.useMemoCache=kc,nr.useHostTransitionStatus=Zc,nr.useFormState=Em,nr.useActionState=Em,nr.useOptimistic=function(t,n){var r=fe();return dm(r,Gt,t,n)};var Jr={readContext:ke,use:qu,useCallback:Vm,useContext:ke,useEffect:Fc,useImperativeHandle:Cm,useInsertionEffect:Rm,useLayoutEffect:wm,useMemo:Im,useReducer:jc,useRef:Sm,useState:function(){return jc(vi)},useDebugValue:Kc,useDeferredValue:function(t,n){var r=fe();return Gt===null?Yc(r,t,n):Nm(r,Gt.memoizedState,t,n)},useTransition:function(){var t=jc(vi)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:sl(t),n]},useSyncExternalStore:lm,useId:xm};Jr.useCacheRefresh=zm,Jr.useMemoCache=kc,Jr.useHostTransitionStatus=Zc,Jr.useFormState=Am,Jr.useActionState=Am,Jr.useOptimistic=function(t,n){var r=fe();return Gt!==null?dm(r,Gt,t,n):(r.baseState=t,[t,r.queue.dispatch])};function Jc(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:D({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Wc={isMounted:function(t){return(t=t._reactInternals)?ut(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=hn(),c=ar(l);c.payload=n,r!=null&&(c.callback=r),n=sr(t,c,l),n!==null&&($e(n,t,l),cl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=hn(),c=ar(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=sr(t,c,l),n!==null&&($e(n,t,l),cl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=hn(),l=ar(r);l.tag=2,n!=null&&(l.callback=n),n=sr(t,l,r),n!==null&&($e(n,t,r),cl(n,t,r))}};function qm(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Ys(r,l)||!Ys(c,f):!0}function km(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Wc.enqueueReplaceState(n,n.state,null)}function Wr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=D({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Qu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Hm(t){Qu(t)}function jm(t){console.error(t)}function Gm(t){Qu(t)}function Fu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Qm(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function th(t,n,r){return r=ar(r),r.tag=3,r.payload={element:null},r.callback=function(){Fu(t,n)},r}function Fm(t){return t=ar(t),t.tag=3,t}function Km(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Qm(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Qm(n,r,l),typeof c!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function nE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ol(n,r,c,!0),r=Sn.current,r!==null){switch(r.tag){case 13:return Zn===null?xh():r.alternate===null&&re===0&&(re=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Ic?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Lh(t,l,c)),!1;case 22:return r.flags|=65536,l===Ic?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Lh(t,l,c)),!1}throw Error(a(435,r.tag))}return Lh(t,l,c),xh(),!1}if(Pt)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Vc&&(t=Error(a(422),{cause:l}),Js(En(t,r)))):(l!==Vc&&(n=Error(a(423),{cause:l}),Js(En(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=En(l,r),c=th(t.stateNode,l,c),gh(t,c),re!==4&&(re=2)),!1;var f=Error(a(520),{cause:l});if(f=En(f,r),_l===null?_l=[f]:_l.push(f),re!==4&&(re=2),n===null)return!0;l=En(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=th(r.stateNode,l,t),gh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(fr===null||!fr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Fm(c),Km(c,t,r,l),gh(r,c),!1}r=r.return}while(r!==null);return!1}var Ym=Error(a(461)),Ve=!1;function xe(t,n,r,l){n.child=t===null?Wd(n,null,r,l):Yr(n,t.child,r,l)}function Xm(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ea(n),l=Lc(t,n,r,y,f,c),E=Pc(),t!==null&&!Ve?(Bc(t,n,c),Ei(t,n,c)):(Pt&&E&&Dc(n),n.flags|=1,xe(t,n,l,c),n.child)}function Zm(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Sh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,$m(t,n,f,l,c)):(t=$u(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!oh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ys,r(y,l)&&t.ref===n.ref)return Ei(t,n,c)}return n.flags|=1,t=cr(f,l),t.ref=n.ref,t.return=n,n.child=t}function $m(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Ys(f,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=f,oh(t,c))(t.flags&131072)!==0&&(Ve=!0);else return n.lanes=t.lanes,Ei(t,n,c)}return eh(t,n,r,l,c)}function Jm(t,n,r){var l=n.pendingProps,c=l.children,f=(n.stateNode._pendingVisibility&2)!==0,y=t!==null?t.memoizedState:null;if(ul(t,n),l.mode==="hidden"||f){if((n.flags&128)!==0){if(l=y!==null?y.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Wm(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&zu(n,y!==null?y.cachePool:null),y!==null?tm(n,y):Nc(),em(n);else return n.lanes=n.childLanes=536870912,Wm(t,n,y!==null?y.baseLanes|r:r,r)}else y!==null?(zu(n,y.cachePool),tm(n,y),tr(),n.memoizedState=null):(t!==null&&zu(n,null),Nc(),tr());return xe(t,n,c,r),n.child}function Wm(t,n,r,l){var c=xc();return c=c===null?null:{parent:Ae._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&zu(n,null),Nc(),em(n),t!==null&&ol(t,n,l,!0),null}function ul(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function eh(t,n,r,l,c){return ea(n),r=Lc(t,n,r,l,void 0,c),l=Pc(),t!==null&&!Ve?(Bc(t,n,c),Ei(t,n,c)):(Pt&&l&&Dc(n),n.flags|=1,xe(t,n,r,c),n.child)}function tg(t,n,r,l,c,f){return ea(n),n.updateQueue=null,r=sm(n,l,r,c),am(t),l=Pc(),t!==null&&!Ve?(Bc(t,n,f),Ei(t,n,f)):(Pt&&l&&Dc(n),n.flags|=1,xe(t,n,r,f),n.child)}function eg(t,n,r,l,c){if(ea(n),n.stateNode===null){var f=Pa,y=r.contextType;typeof y=="object"&&y!==null&&(f=ke(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Wc,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},dh(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?ke(y):Pa,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Jc(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Wc.enqueueReplaceState(f,f.state,null),fl(n,l,f,c),hl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=Wr(r,E);f.props=b;var N=f.context,j=r.contextType;y=Pa,typeof j=="object"&&j!==null&&(y=ke(j));var K=r.getDerivedStateFromProps;j=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,j||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||N!==y)&&km(n,f,l,y),rr=!1;var B=n.memoizedState;f.state=B,fl(n,l,f,c),hl(),N=n.memoizedState,E||B!==N||rr?(typeof K=="function"&&(Jc(n,r,K,l),N=n.memoizedState),(b=rr||qm(n,r,b,l,B,N,y))?(j||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=N),f.props=l,f.state=N,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,mh(t,n),y=n.memoizedProps,j=Wr(r,y),f.props=j,K=n.pendingProps,B=f.context,N=r.contextType,b=Pa,typeof N=="object"&&N!==null&&(b=ke(N)),E=r.getDerivedStateFromProps,(N=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==K||B!==b)&&km(n,f,l,b),rr=!1,B=n.memoizedState,f.state=B,fl(n,l,f,c),hl();var k=n.memoizedState;y!==K||B!==k||rr||t!==null&&t.dependencies!==null&&Ku(t.dependencies)?(typeof E=="function"&&(Jc(n,r,E,l),k=n.memoizedState),(j=rr||qm(n,r,j,l,B,k,b)||t!==null&&t.dependencies!==null&&Ku(t.dependencies))?(N||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=b,l=j):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ul(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Yr(n,t.child,null,c),n.child=Yr(n,null,r,c)):xe(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ei(t,n,c),t}function ng(t,n,r,l){return $s(),n.flags|=256,xe(t,n,r,l),n.child}var nh={dehydrated:null,treeContext:null,retryLane:0};function ih(t){return{baseLanes:t,cachePool:rm()}}function rh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Dn),t}function ig(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Te.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pt){if(c?Wi(n):tr(),Pt){var E=Ue,b;if(b=E){t:{for(b=E,E=Xn;b.nodeType!==8;){if(!E){E=null;break t}if(b=xn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Qr!==null?{id:pi,overflow:yi}:null,retryLane:536870912},b=wn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ze=n,Ue=null,b=!0):b=!1}b||Kr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;_i(n)}return E=l.children,l=l.fallback,c?(tr(),c=n.mode,E=sh({mode:"hidden",children:E},c),l=ia(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=ih(r),c.childLanes=rh(t,y,r),n.memoizedState=nh,l):(Wi(n),ah(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Wi(n),n.flags&=-257,n=lh(t,n,r)):n.memoizedState!==null?(tr(),n.child=t.child,n.flags|=128,n=null):(tr(),c=l.fallback,E=n.mode,l=sh({mode:"visible",children:l.children},E),c=ia(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Yr(n,t.child,null,r),l=n.child,l.memoizedState=ih(r),l.childLanes=rh(t,y,r),n.memoizedState=nh,n=c);else if(Wi(n),E.data==="$!"){if(y=E.nextSibling&&E.nextSibling.dataset,y)var N=y.dgst;y=N,l=Error(a(419)),l.stack="",l.digest=y,Js({value:l,source:null,stack:null}),n=lh(t,n,r)}else if(Ve||ol(t,n,r,!1),y=(r&t.childLanes)!==0,Ve||y){if(y=Yt,y!==null){if(l=r&-r,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane)throw b.retryLane=l,Ji(t,l),$e(y,t,l),Ym}E.data==="$?"||xh(),n=lh(t,n,r)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=yE.bind(null,t),E._reactRetry=n,n=null):(t=b.treeContext,Ue=xn(E.nextSibling),Ze=n,Pt=!0,Mn=null,Xn=!1,t!==null&&(Tn[An++]=pi,Tn[An++]=yi,Tn[An++]=Qr,pi=t.id,yi=t.overflow,Qr=n),n=ah(n,l.children),n.flags|=4096);return n}return c?(tr(),c=l.fallback,E=n.mode,b=t.child,N=b.sibling,l=cr(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&31457280,N!==null?c=cr(N,c):(c=ia(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=ih(r):(b=E.cachePool,b!==null?(N=Ae._currentValue,b=b.parent!==N?{parent:N,pool:N}:b):b=rm(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=rh(t,y,r),n.memoizedState=nh,l):(Wi(n),r=t.child,t=r.sibling,r=cr(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function ah(t,n){return n=sh({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function sh(t,n){return Vg(t,n,0,null)}function lh(t,n,r){return Yr(n,t.child,null,r),t=ah(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function rg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),hh(t.return,n,r)}function uh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function ag(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(xe(t,n,l.children,r),l=Te.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rg(t,r,n);else if(t.tag===19)rg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(jt(Te,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&xu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),uh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&xu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}uh(n,!0,r,null,f);break;case"together":uh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ei(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),hr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(ol(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=cr(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=cr(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function oh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ku(t)))}function iE(t,n,r){switch(n.tag){case 3:zi(n,n.stateNode.containerInfo),ir(n,Ae,t.memoizedState.cache),$s();break;case 27:case 5:Ds(n);break;case 4:zi(n,n.stateNode.containerInfo);break;case 10:ir(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Wi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?ig(t,n,r):(Wi(n),t=Ei(t,n,r),t!==null?t.sibling:null);Wi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ol(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return ag(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),jt(Te,Te.current),l)break;return null;case 22:case 23:return n.lanes=0,Jm(t,n,r);case 24:ir(n,Ae,t.memoizedState.cache)}return Ei(t,n,r)}function sg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!oh(t,r)&&(n.flags&128)===0)return Ve=!1,iE(t,n,r);Ve=(t.flags&131072)!==0}else Ve=!1,Pt&&(n.flags&1048576)!==0&&Gd(n,Iu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Sh(l)?(t=Wr(l,t),n.tag=1,n=eg(null,n,l,t,r)):(n.tag=0,n=eh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===X){n.tag=11,n=Xm(null,n,l,t,r);break t}else if(c===yt){n.tag=14,n=Zm(null,n,l,t,r);break t}}throw n=R(l)||l,Error(a(306,n,""))}}return n;case 0:return eh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=Wr(l,n.pendingProps),eg(t,n,l,c,r);case 3:t:{if(zi(n,n.stateNode.containerInfo),t===null)throw Error(a(387));var f=n.pendingProps;c=n.memoizedState,l=c.element,mh(t,n),fl(n,f,null,r);var y=n.memoizedState;if(f=y.cache,ir(n,Ae,f),f!==c.cache&&fh(n,[Ae],r,!0),hl(),f=y.element,c.isDehydrated)if(c={element:f,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=ng(t,n,f,r);break t}else if(f!==l){l=En(Error(a(424)),n),Js(l),n=ng(t,n,f,r);break t}else for(Ue=xn(n.stateNode.containerInfo.firstChild),Ze=n,Pt=!0,Mn=null,Xn=!0,r=Wd(n,null,f,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($s(),f===l){n=Ei(t,n,r);break t}xe(t,n,f,r)}n=n.child}return n;case 26:return ul(t,n),t===null?(r=op(n.type,null,n.pendingProps,null))?n.memoizedState=r:Pt||(r=n.type,t=n.pendingProps,l=oo(fn.current).createElement(r),l[we]=n,l[_e]=t,ze(l,r,t),$t(l),n.stateNode=l):n.memoizedState=op(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ds(n),t===null&&Pt&&(l=n.stateNode=sp(n.type,n.pendingProps,fn.current),Ze=n,Xn=!0,Ue=xn(l.firstChild)),l=n.pendingProps.children,t!==null||Pt?xe(t,n,l,r):n.child=Yr(n,null,l,r),ul(t,n),n.child;case 5:return t===null&&Pt&&((c=l=Ue)&&(l=ME(l,n.type,n.pendingProps,Xn),l!==null?(n.stateNode=l,Ze=n,Ue=xn(l.firstChild),Xn=!1,c=!0):c=!1),c||Kr(n)),Ds(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,Xh(c,f)?l=null:y!==null&&Xh(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=Lc(t,n,Zv,null,null,r),Dl._currentValue=c),ul(t,n),xe(t,n,l,r),n.child;case 6:return t===null&&Pt&&((t=r=Ue)&&(r=UE(r,n.pendingProps,Xn),r!==null?(n.stateNode=r,Ze=n,Ue=null,t=!0):t=!1),t||Kr(n)),null;case 13:return ig(t,n,r);case 4:return zi(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Yr(n,null,l,r):xe(t,n,l,r),n.child;case 11:return Xm(t,n,n.type,n.pendingProps,r);case 7:return xe(t,n,n.pendingProps,r),n.child;case 8:return xe(t,n,n.pendingProps.children,r),n.child;case 12:return xe(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,ir(n,n.type,l.value),xe(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ea(n),c=ke(c),l=l(c),n.flags|=1,xe(t,n,l,r),n.child;case 14:return Zm(t,n,n.type,n.pendingProps,r);case 15:return $m(t,n,n.type,n.pendingProps,r);case 19:return ag(t,n,r);case 22:return Jm(t,n,r);case 24:return ea(n),l=ke(Ae),t===null?(c=xc(),c===null&&(c=Yt,f=Mc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},dh(n),ir(n,Ae,c)):((t.lanes&r)!==0&&(mh(t,n),fl(n,null,null,r),hl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ir(n,Ae,l)):(l=f.cache,ir(n,Ae,l),l!==c.cache&&fh(n,[Ae],r,!0))),xe(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}var ch=zt(null),ta=null,Ti=null;function ir(t,n,r){jt(ch,n._currentValue),n._currentValue=r}function Ai(t){t._currentValue=ch.current,ee(ch)}function hh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function fh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),hh(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),hh(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function ol(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;ln(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===xi.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Dl):t=[Dl])}c=c.return}t!==null&&fh(n,t,r,l),n.flags|=262144}function Ku(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ea(t){ta=t,Ti=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ke(t){return lg(ta,t)}function Yu(t,n){return ta===null&&ea(t),lg(t,n)}function lg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ti===null){if(t===null)throw Error(a(308));Ti=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ti=Ti.next=n;return r}var rr=!1;function dh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ar(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function sr(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Wt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Cu(t),Hd(t,null,r),n}return Du(t,l,n,r),Cu(t)}function cl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Hi(t,r)}}function gh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var ph=!1;function hl(){if(ph){var t=Ga;if(t!==null)throw t}}function fl(t,n,r,l){ph=!1;var c=t.updateQueue;rr=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,N=b.next;b.next=null,y===null?f=N:y.next=N,y=b;var j=t.alternate;j!==null&&(j=j.updateQueue,E=j.lastBaseUpdate,E!==y&&(E===null?j.firstBaseUpdate=N:E.next=N,j.lastBaseUpdate=b))}if(f!==null){var K=c.baseState;y=0,j=N=b=null,E=f;do{var B=E.lane&-536870913,k=B!==E.lane;if(k?(Ot&B)===B:(l&B)===B){B!==0&&B===ja&&(ph=!0),j!==null&&(j=j.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=t,gt=E;B=n;var ae=r;switch(gt.tag){case 1:if(at=gt.payload,typeof at=="function"){K=at.call(ae,K,B);break t}K=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=gt.payload,B=typeof at=="function"?at.call(ae,K,B):at,B==null)break t;K=D({},K,B);break t;case 2:rr=!0}}B=E.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[B]:k.push(B))}else k={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},j===null?(N=j=k,b=K):j=j.next=k,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);j===null&&(b=K),c.baseState=b,c.firstBaseUpdate=N,c.lastBaseUpdate=j,f===null&&(c.shared.lanes=0),hr|=y,t.lanes=y,t.memoizedState=K}}function ug(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function og(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)ug(r[t],n)}function dl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Kt(n,n.return,E)}}function lr(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r;try{E()}catch(N){Kt(c,b,N)}}}l=l.next}while(l!==f)}}catch(N){Kt(n,n.return,N)}}function cg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{og(n,r)}catch(l){Kt(t,t.return,l)}}}function hg(t,n,r){r.props=Wr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Kt(t,n,l)}}function na(t,n){try{var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(f){Kt(t,n,f)}}function un(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Kt(t,n,c)}else r.current=null}function fg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Kt(t,t.return,c)}}function dg(t,n,r){try{var l=t.stateNode;CE(l,t.type,r,n),l[_e]=n}catch(c){Kt(t,t.return,c)}}function mg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function yh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||mg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _h(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=uo));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(_h(t,n,r),t=t.sibling;t!==null;)_h(t,n,r),t=t.sibling}function Xu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Xu(t,n,r),t=t.sibling;t!==null;)Xu(t,n,r),t=t.sibling}var Si=!1,ie=!1,vh=!1,gg=typeof WeakSet=="function"?WeakSet:Set,Ie=null,pg=!1;function rE(t,n){if(t=t.containerInfo,Kh=po,t=Md(t),Tc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,N=0,j=0,K=t,B=null;e:for(;;){for(var k;K!==r||c!==0&&K.nodeType!==3||(E=y+c),K!==f||l!==0&&K.nodeType!==3||(b=y+l),K.nodeType===3&&(y+=K.nodeValue.length),(k=K.firstChild)!==null;)B=K,K=k;for(;;){if(K===t)break e;if(B===r&&++N===c&&(E=y),B===f&&++j===l&&(b=y),(k=K.nextSibling)!==null)break;K=B,B=K.parentNode}K=k}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(Yh={focusedElem:t,selectionRange:r},po=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var at=Wr(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(at,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(gt){Kt(r,r.return,gt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Jh(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Jh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}return at=pg,pg=!1,at}function yg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Ri(t,r),l&4&&dl(5,r);break;case 1:if(Ri(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(E){Kt(r,r.return,E)}else{var c=Wr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Kt(r,r.return,E)}}l&64&&cg(r),l&512&&na(r,r.return);break;case 3:if(Ri(t,r),l&64&&(l=r.updateQueue,l!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{og(l,t)}catch(E){Kt(r,r.return,E)}}break;case 26:Ri(t,r),l&512&&na(r,r.return);break;case 27:case 5:Ri(t,r),n===null&&l&4&&fg(r),l&512&&na(r,r.return);break;case 12:Ri(t,r);break;case 13:Ri(t,r),l&4&&Eg(t,r);break;case 22:if(c=r.memoizedState!==null||Si,!c){n=n!==null&&n.memoizedState!==null||ie;var f=Si,y=ie;Si=c,(ie=n)&&!y?ur(t,r,(r.subtreeFlags&8772)!==0):Ri(t,r),Si=f,ie=y}l&512&&(r.memoizedProps.mode==="manual"?na(r,r.return):un(r,r.return));break;default:Ri(t,r)}}function _g(t){var n=t.alternate;n!==null&&(t.alternate=null,_g(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Or(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var de=null,on=!1;function bi(t,n,r){for(r=r.child;r!==null;)vg(t,n,r),r=r.sibling}function vg(t,n,r){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Li,r)}catch{}switch(r.tag){case 26:ie||un(r,n),bi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ie||un(r,n);var l=de,c=on;for(de=r.stateNode,bi(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);Or(r),de=l,on=c;break;case 5:ie||un(r,n);case 6:c=de;var f=on;if(de=null,bi(t,n,r),de=c,on=f,de!==null)if(on)try{t=de,l=r.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(y){Kt(r,n,y)}else try{de.removeChild(r.stateNode)}catch(y){Kt(r,n,y)}break;case 18:de!==null&&(on?(n=de,r=r.stateNode,n.nodeType===8?$h(n.parentNode,r):n.nodeType===1&&$h(n,r),Nl(n)):$h(de,r.stateNode));break;case 4:l=de,c=on,de=r.stateNode.containerInfo,on=!0,bi(t,n,r),de=l,on=c;break;case 0:case 11:case 14:case 15:ie||lr(2,r,n),ie||lr(4,r,n),bi(t,n,r);break;case 1:ie||(un(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&hg(r,n,l)),bi(t,n,r);break;case 21:bi(t,n,r);break;case 22:ie||un(r,n),ie=(l=ie)||r.memoizedState!==null,bi(t,n,r),ie=l;break;default:bi(t,n,r)}}function Eg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Nl(t)}catch(r){Kt(n,n.return,r)}}function aE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new gg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new gg),n;default:throw Error(a(435,t.tag))}}function Eh(t,n){var r=aE(t);n.forEach(function(l){var c=_E.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function bn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:case 5:de=E.stateNode,on=!1;break t;case 3:de=E.stateNode.containerInfo,on=!0;break t;case 4:de=E.stateNode.containerInfo,on=!0;break t}E=E.return}if(de===null)throw Error(a(160));vg(f,y,c),de=null,on=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Tg(n,t),n=n.sibling}var Un=null;function Tg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(n,t),Rn(t),l&4&&(lr(3,t,t.return),dl(3,t),lr(5,t,t.return));break;case 1:bn(n,t),Rn(t),l&512&&(ie||r===null||un(r,r.return)),l&64&&Si&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Un;if(bn(n,t),Rn(t),l&512&&(ie||r===null||un(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Gi]||f[we]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ze(f,l,r),f[we]=t,$t(f),l=f;break t;case"link":var y=fp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;case"meta":if(y=fp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[we]=t,$t(f),l=f}t.stateNode=l}else dp(c,t.type,t.stateNode);else t.stateNode=hp(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?dp(c,t.type,t.stateNode):hp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&dg(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,f=t.memoizedProps;try{for(var b=c.firstChild;b;){var N=b.nextSibling,j=b.nodeName;b[Gi]||j==="HEAD"||j==="BODY"||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=N}for(var K=t.type,B=c.attributes;B.length;)c.removeAttributeNode(B[0]);ze(c,K,f),c[we]=t,c[_e]=f}catch(at){Kt(t,t.return,at)}}case 5:if(bn(n,t),Rn(t),l&512&&(ie||r===null||un(r,r.return)),t.flags&32){c=t.stateNode;try{gn(c,"")}catch(at){Kt(t,t.return,at)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,dg(t,c,r!==null?r.memoizedProps:c)),l&1024&&(vh=!0);break;case 6:if(bn(n,t),Rn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(at){Kt(t,t.return,at)}}break;case 3:if(fo=null,c=Un,Un=co(n.containerInfo),bn(n,t),Un=c,Rn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Nl(n.containerInfo)}catch(at){Kt(t,t.return,at)}vh&&(vh=!1,Ag(t));break;case 4:l=Un,Un=co(t.stateNode.containerInfo),bn(n,t),Rn(t),Un=l;break;case 12:bn(n,t),Rn(t);break;case 13:bn(n,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Vh=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Eh(t,l)));break;case 22:if(l&512&&(ie||r===null||un(r,r.return)),b=t.memoizedState!==null,N=r!==null&&r.memoizedState!==null,j=Si,K=ie,Si=j||b,ie=K||N,bn(n,t),ie=K,Si=j,Rn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=b?n._visibility&-2:n._visibility|1,b&&(n=Si||ie,r===null||N||n||Ya(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){N=r=n;try{if(c=N.stateNode,b)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{y=N.stateNode,E=N.memoizedProps.style;var k=E!=null&&E.hasOwnProperty("display")?E.display:null;y.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(at){Kt(N,N.return,at)}}}else if(n.tag===6){if(r===null){N=n;try{N.stateNode.nodeValue=b?"":N.memoizedProps}catch(at){Kt(N,N.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Eh(t,r))));break;case 19:bn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Eh(t,l)));break;case 21:break;default:bn(n,t),Rn(t)}}function Rn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var r=t.return;r!==null;){if(mg(r)){var l=r;break t}r=r.return}throw Error(a(160))}switch(l.tag){case 27:var c=l.stateNode,f=yh(t);Xu(t,f,c);break;case 5:var y=l.stateNode;l.flags&32&&(gn(y,""),l.flags&=-33);var E=yh(t);Xu(t,E,y);break;case 3:case 4:var b=l.stateNode.containerInfo,N=yh(t);_h(t,N,b);break;default:throw Error(a(161))}}}catch(j){Kt(t,t.return,j)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ag(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ag(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ri(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)yg(t,n.alternate,n),n=n.sibling}function Ya(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:lr(4,n,n.return),Ya(n);break;case 1:un(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&hg(n,n.return,r),Ya(n);break;case 26:case 27:case 5:un(n,n.return),Ya(n);break;case 22:un(n,n.return),n.memoizedState===null&&Ya(n);break;default:Ya(n)}t=t.sibling}}function ur(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:ur(c,f,r),dl(4,f);break;case 1:if(ur(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(N){Kt(l,l.return,N)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)ug(b[c],E)}catch(N){Kt(l,l.return,N)}}r&&y&64&&cg(f),na(f,f.return);break;case 26:case 27:case 5:ur(c,f,r),r&&l===null&&y&4&&fg(f),na(f,f.return);break;case 12:ur(c,f,r);break;case 13:ur(c,f,r),r&&y&4&&Eg(c,f);break;case 22:f.memoizedState===null&&ur(c,f,r),na(f,f.return);break;default:ur(c,f,r)}n=n.sibling}}function Th(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&il(r))}function Ah(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t))}function or(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Sg(t,n,r,l),n=n.sibling}function Sg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:or(t,n,r,l),c&2048&&dl(9,n);break;case 3:or(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t)));break;case 12:if(c&2048){or(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Kt(n,n.return,b)}}else or(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?or(t,n,r,l):ml(t,n):f._visibility&4?or(t,n,r,l):(f._visibility|=4,Xa(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Th(n.alternate,n);break;case 24:or(t,n,r,l),c&2048&&Ah(n.alternate,n);break;default:or(t,n,r,l)}}function Xa(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,b=l,N=y.flags;switch(y.tag){case 0:case 11:case 15:Xa(f,y,E,b,c),dl(8,y);break;case 23:break;case 22:var j=y.stateNode;y.memoizedState!==null?j._visibility&4?Xa(f,y,E,b,c):ml(f,y):(j._visibility|=4,Xa(f,y,E,b,c)),c&&N&2048&&Th(y.alternate,y);break;case 24:Xa(f,y,E,b,c),c&&N&2048&&Ah(y.alternate,y);break;default:Xa(f,y,E,b,c)}n=n.sibling}}function ml(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:ml(r,l),c&2048&&Th(l.alternate,l);break;case 24:ml(r,l),c&2048&&Ah(l.alternate,l);break;default:ml(r,l)}n=n.sibling}}var gl=8192;function Za(t){if(t.subtreeFlags&gl)for(t=t.child;t!==null;)bg(t),t=t.sibling}function bg(t){switch(t.tag){case 26:Za(t),t.flags&gl&&t.memoizedState!==null&&KE(Un,t.memoizedState,t.memoizedProps);break;case 5:Za(t);break;case 3:case 4:var n=Un;Un=co(t.stateNode.containerInfo),Za(t),Un=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=gl,gl=16777216,Za(t),gl=n):Za(t));break;default:Za(t)}}function Rg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function pl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,Dg(l,t)}Rg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wg(t),t=t.sibling}function wg(t){switch(t.tag){case 0:case 11:case 15:pl(t),t.flags&2048&&lr(9,t,t.return);break;case 3:pl(t);break;case 12:pl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,Zu(t)):pl(t);break;default:pl(t)}}function Zu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,Dg(l,t)}Rg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:lr(8,n,n.return),Zu(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,Zu(n));break;default:Zu(n)}t=t.sibling}}function Dg(t,n){for(;Ie!==null;){var r=Ie;switch(r.tag){case 0:case 11:case 15:lr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ie=l;else t:for(r=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(_g(l),l===r){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}function sE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,n,r,l){return new sE(t,n,r,l)}function Sh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cr(t,n){var r=t.alternate;return r===null?(r=wn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Cg(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function $u(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Sh(t)&&(y=1);else if(typeof t=="string")y=QE(t,r,Fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case _:return ia(r.children,c,f,n);case v:y=8,c|=24;break;case S:return t=wn(12,r,n,c|2),t.elementType=S,t.lanes=f,t;case J:return t=wn(13,r,n,c),t.elementType=J,t.lanes=f,t;case Z:return t=wn(19,r,n,c),t.elementType=Z,t.lanes=f,t;case Tt:return Vg(r,c,f,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case V:case H:y=10;break t;case P:y=9;break t;case X:y=11;break t;case yt:y=14;break t;case dt:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=wn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function ia(t,n,r,l){return t=wn(7,t,l,n),t.lanes=r,t}function Vg(t,n,r,l){t=wn(22,t,l,n),t.elementType=Tt,t.lanes=r;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=c._current;if(f===null)throw Error(a(456));if((c._pendingVisibility&2)===0){var y=Ji(f,2);y!==null&&(c._pendingVisibility|=2,$e(y,f,2))}},attach:function(){var f=c._current;if(f===null)throw Error(a(456));if((c._pendingVisibility&2)!==0){var y=Ji(f,2);y!==null&&(c._pendingVisibility&=-3,$e(y,f,2))}}};return t.stateNode=c,t}function bh(t,n,r){return t=wn(6,t,null,n),t.lanes=r,t}function Rh(t,n,r){return n=wn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function wi(t){t.flags|=4}function Ig(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!mp(n)){if(n=Sn.current,n!==null&&((Ot&4194176)===Ot?Zn!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||n!==Zn))throw tl=Ic,Kd;t.flags|=8192}}function Ju(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?qi():536870912,t.lanes|=n,Ja|=n)}function yl(t,n){if(!Pt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Jt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function lE(t,n,r){var l=n.pendingProps;switch(Cc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(n),null;case 1:return Jt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ai(Ae),ai(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zs(n)?wi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Mn!==null&&(Mh(Mn),Mn=null))),Jt(n),null;case 26:return r=n.memoizedState,t===null?(wi(n),r!==null?(Jt(n),Ig(n,r)):(Jt(n),n.flags&=-16777217)):r?r!==t.memoizedState?(wi(n),Jt(n),Ig(n,r)):(Jt(n),n.flags&=-16777217):(t.memoizedProps!==l&&wi(n),Jt(n),n.flags&=-16777217),null;case 27:ya(n),r=fn.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Jt(n),null}t=Fe.current,Zs(n)?Qd(n):(t=sp(c,l,r),n.stateNode=t,wi(n))}return Jt(n),null;case 5:if(ya(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Jt(n),null}if(t=Fe.current,Zs(n))Qd(n);else{switch(c=oo(fn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[we]=n,t[_e]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ze(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&wi(n)}}return Jt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=fn.current,Zs(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[we]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||tp(t.nodeValue,r)),t||Kr(n)}else t=oo(t).createTextNode(l),t[we]=n,n.stateNode=t}return Jt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Zs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[we]=n}else $s(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Jt(n),c=!1}else Mn!==null&&(Mh(Mn),Mn=null),c=!0;if(!c)return n.flags&256?(_i(n),n):(_i(n),null)}if(_i(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),Ju(n,n.updateQueue),Jt(n),null;case 4:return ai(),t===null&&Gh(n.stateNode.containerInfo),Jt(n),null;case 10:return Ai(n.type),Jt(n),null;case 19:if(ee(Te),c=n.memoizedState,c===null)return Jt(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)yl(c,!1);else{if(re!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=xu(t),f!==null){for(n.flags|=128,yl(c,!1),t=f.updateQueue,n.updateQueue=t,Ju(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Cg(r,t),r=r.sibling;return jt(Te,Te.current&1|2),n.child}t=t.sibling}c.tail!==null&&Je()>Wu&&(n.flags|=128,l=!0,yl(c,!1),n.lanes=4194304)}else{if(!l)if(t=xu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Ju(n,t),yl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Pt)return Jt(n),null}else 2*Je()-c.renderingStartTime>Wu&&r!==536870912&&(n.flags|=128,l=!0,yl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Je(),n.sibling=null,t=Te.current,jt(Te,l?t&1|2:t&1),n):(Jt(n),null);case 22:case 23:return _i(n),Oc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(Jt(n),n.subtreeFlags&6&&(n.flags|=8192)):Jt(n),r=n.updateQueue,r!==null&&Ju(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&ee(Xr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ai(Ae),Jt(n),null;case 25:return null}throw Error(a(156,n.tag))}function uE(t,n){switch(Cc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ai(Ae),ai(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ya(n),null;case 13:if(_i(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));$s()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ee(Te),null;case 4:return ai(),null;case 10:return Ai(n.type),null;case 22:case 23:return _i(n),Oc(),t!==null&&ee(Xr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ai(Ae),null;case 25:return null;default:return null}}function Ng(t,n){switch(Cc(n),n.tag){case 3:Ai(Ae),ai();break;case 26:case 27:case 5:ya(n);break;case 4:ai();break;case 13:_i(n);break;case 19:ee(Te);break;case 10:Ai(n.type);break;case 22:case 23:_i(n),Oc(),t!==null&&ee(Xr);break;case 24:Ai(Ae)}}var oE={getCacheForType:function(t){var n=ke(Ae),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},cE=typeof WeakMap=="function"?WeakMap:Map,Wt=0,Yt=null,Rt=null,Ot=0,Xt=0,cn=null,Di=!1,$a=!1,wh=!1,Ci=0,re=0,hr=0,ra=0,Dh=0,Dn=0,Ja=0,_l=null,Jn=null,Ch=!1,Vh=0,Wu=1/0,to=null,fr=null,eo=!1,aa=null,vl=0,Ih=0,Nh=null,El=0,Oh=null;function hn(){if((Wt&2)!==0&&Ot!==0)return Ot&-Ot;if(A.T!==null){var t=ja;return t!==0?t:qh()}return lu()}function Og(){Dn===0&&(Dn=(Ot&536870912)===0||Pt?Os():536870912);var t=Sn.current;return t!==null&&(t.flags|=32),Dn}function $e(t,n,r){(t===Yt&&Xt===2||t.cancelPendingCommit!==null)&&(Wa(t,0),Vi(t,Ot,Dn,!1)),se(t,r),((Wt&2)===0||t!==Yt)&&(t===Yt&&((Wt&2)===0&&(ra|=r),re===4&&Vi(t,Ot,Dn,!1)),Wn(t))}function Mg(t,n,r){if((Wt&6)!==0)throw Error(a(327));var l=!r&&(n&60)===0&&(n&t.expiredLanes)===0||Bi(t,n),c=l?dE(t,n):zh(t,n,!0),f=l;do{if(c===0){$a&&!l&&Vi(t,n,0,!1);break}else if(c===6)Vi(t,n,0,!Di);else{if(r=t.current.alternate,f&&!hE(r)){c=zh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=_l;var b=E.current.memoizedState.isDehydrated;if(b&&(Wa(E,y).flags|=256),y=zh(E,y,!1),y!==2){if(wh&&!b){E.errorRecoveryDisabledLanes|=f,ra|=f,c=4;break t}f=Jn,Jn=c,f!==null&&Mh(f)}c=y}if(f=!1,c!==2)continue}}if(c===1){Wa(t,0),Vi(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(a(345));case 4:if((n&4194176)===n){Vi(l,n,Dn,!Di);break t}break;case 2:Jn=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(f=Vh+300-Je(),10<f)){if(Vi(l,n,Dn,!Di),dn(l,0)!==0)break t;l.timeoutHandle=ip(Ug.bind(null,l,r,Jn,to,Ch,n,Dn,ra,Ja,Di,2,-0,0),f);break t}Ug(l,r,Jn,to,Ch,n,Dn,ra,Ja,Di,0,-0,0)}}break}while(!0);Wn(t)}function Mh(t){Jn===null?Jn=t:Jn.push.apply(Jn,t)}function Ug(t,n,r,l,c,f,y,E,b,N,j,K,B){var k=n.subtreeFlags;if((k&8192||(k&16785408)===16785408)&&(wl={stylesheets:null,count:0,unsuspend:FE},bg(n),n=YE(),n!==null)){t.cancelPendingCommit=n(kg.bind(null,t,r,l,c,y,E,b,1,K,B)),Vi(t,f,y,!N);return}kg(t,r,l,c,y,E,b,j,K,B)}function hE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Vi(t,n,r,l){n&=~Dh,n&=~ra,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Ke(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&ki(t,r,n)}function no(){return(Wt&6)===0?(Tl(0),!1):!0}function Uh(){if(Rt!==null){if(Xt===0)var t=Rt.return;else t=Rt,Ti=ta=null,qc(t),ka=null,el=0,t=Rt;for(;t!==null;)Ng(t.alternate,t),t=t.return;Rt=null}}function Wa(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,IE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Uh(),Yt=t,Rt=r=cr(t.current,null),Ot=n,Xt=0,cn=null,Di=!1,$a=Bi(t,n),wh=!1,Ja=Dn=Dh=ra=hr=re=0,Jn=_l=null,Ch=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ke(l),f=1<<c;n|=t[c],l&=~f}return Ci=n,wu(),r}function xg(t,n){St=null,A.H=$n,n===Ws?(n=Zd(),Xt=3):n===Kd?(n=Zd(),Xt=4):Xt=n===Ym?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,Rt===null&&(re=1,Fu(t,En(n,t.current)))}function zg(){var t=A.H;return A.H=$n,t===null?$n:t}function Lg(){var t=A.A;return A.A=oE,t}function xh(){re=4,Di||(Ot&4194176)!==Ot&&Sn.current!==null||($a=!0),(hr&134217727)===0&&(ra&134217727)===0||Yt===null||Vi(Yt,Ot,Dn,!1)}function zh(t,n,r){var l=Wt;Wt|=2;var c=zg(),f=Lg();(Yt!==t||Ot!==n)&&(to=null,Wa(t,n)),n=!1;var y=re;t:do try{if(Xt!==0&&Rt!==null){var E=Rt,b=cn;switch(Xt){case 8:Uh(),y=6;break t;case 3:case 2:case 6:Sn.current===null&&(n=!0);var N=Xt;if(Xt=0,cn=null,ts(t,E,b,N),r&&$a){y=0;break t}break;default:N=Xt,Xt=0,cn=null,ts(t,E,b,N)}}fE(),y=re;break}catch(j){xg(t,j)}while(!0);return n&&t.shellSuspendCounter++,Ti=ta=null,Wt=l,A.H=c,A.A=f,Rt===null&&(Yt=null,Ot=0,wu()),y}function fE(){for(;Rt!==null;)Pg(Rt)}function dE(t,n){var r=Wt;Wt|=2;var l=zg(),c=Lg();Yt!==t||Ot!==n?(to=null,Wu=Je()+500,Wa(t,n)):$a=Bi(t,n);t:do try{if(Xt!==0&&Rt!==null){n=Rt;var f=cn;e:switch(Xt){case 1:Xt=0,cn=null,ts(t,n,f,1);break;case 2:if(Yd(f)){Xt=0,cn=null,Bg(n);break}n=function(){Xt===2&&Yt===t&&(Xt=7),Wn(t)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Yd(f)?(Xt=0,cn=null,Bg(n)):(Xt=0,cn=null,ts(t,n,f,7));break;case 5:var y=null;switch(Rt.tag){case 26:y=Rt.memoizedState;case 5:case 27:var E=Rt;if(!y||mp(y)){Xt=0,cn=null;var b=E.sibling;if(b!==null)Rt=b;else{var N=E.return;N!==null?(Rt=N,io(N)):Rt=null}break e}}Xt=0,cn=null,ts(t,n,f,5);break;case 6:Xt=0,cn=null,ts(t,n,f,6);break;case 8:Uh(),re=6;break t;default:throw Error(a(462))}}mE();break}catch(j){xg(t,j)}while(!0);return Ti=ta=null,A.H=l,A.A=c,Wt=r,Rt!==null?0:(Yt=null,Ot=0,wu(),re)}function mE(){for(;Rt!==null&&!cc();)Pg(Rt)}function Pg(t){var n=sg(t.alternate,t,Ci);t.memoizedProps=t.pendingProps,n===null?io(t):Rt=n}function Bg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=tg(r,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=tg(r,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:qc(n);default:Ng(r,n),n=Rt=Cg(n,Ci),n=sg(r,n,Ci)}t.memoizedProps=t.pendingProps,n===null?io(t):Rt=n}function ts(t,n,r,l){Ti=ta=null,qc(n),ka=null,el=0;var c=n.return;try{if(nE(t,c,n,r,Ot)){re=1,Fu(t,En(r,t.current)),Rt=null;return}}catch(f){if(c!==null)throw Rt=c,f;re=1,Fu(t,En(r,t.current)),Rt=null;return}n.flags&32768?(Pt||l===1?t=!0:$a||(Ot&536870912)!==0?t=!1:(Di=t=!0,(l===2||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),qg(n,t)):io(n)}function io(t){var n=t;do{if((n.flags&32768)!==0){qg(n,Di);return}t=n.return;var r=lE(n.alternate,n,Ci);if(r!==null){Rt=r;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=t}while(n!==null);re===0&&(re=5)}function qg(t,n){do{var r=uE(t.alternate,t);if(r!==null){r.flags&=32767,Rt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Rt=t;return}Rt=t=r}while(t!==null);re=6,Rt=null}function kg(t,n,r,l,c,f,y,E,b,N){var j=A.T,K=et.p;try{et.p=2,A.T=null,gE(t,n,r,l,K,c,f,y,E,b,N)}finally{A.T=j,et.p=K}}function gE(t,n,r,l,c,f,y,E){do es();while(aa!==null);if((Wt&6)!==0)throw Error(a(327));var b=t.finishedWork;if(l=t.finishedLanes,b===null)return null;if(t.finishedWork=null,t.finishedLanes=0,b===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var N=b.lanes|b.childLanes;if(N|=Rc,au(t,l,N,f,y,E),t===Yt&&(Rt=Yt=null,Ot=0),(b.subtreeFlags&10256)===0&&(b.flags&10256)===0||eo||(eo=!0,Ih=N,Nh=r,vE(si,function(){return es(),null})),r=(b.flags&15990)!==0,(b.subtreeFlags&15990)!==0||r?(r=A.T,A.T=null,f=et.p,et.p=2,y=Wt,Wt|=4,rE(t,b),Tg(b,t),Bv(Yh,t.containerInfo),po=!!Kh,Yh=Kh=null,t.current=b,yg(t,b.alternate,b),Cs(),Wt=y,et.p=f,A.T=r):t.current=b,eo?(eo=!1,aa=t,vl=l):Hg(t,N),N=t.pendingLanes,N===0&&(fr=null),Is(b.stateNode),Wn(t),n!==null)for(c=t.onRecoverableError,b=0;b<n.length;b++)N=n[b],c(N.value,{componentStack:N.stack});return(vl&3)!==0&&es(),N=t.pendingLanes,(l&4194218)!==0&&(N&42)!==0?t===Oh?El++:(El=0,Oh=t):El=0,Tl(0),null}function Hg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,il(n)))}function es(){if(aa!==null){var t=aa,n=Ih;Ih=0;var r=su(vl),l=A.T,c=et.p;try{if(et.p=32>r?32:r,A.T=null,aa===null)var f=!1;else{r=Nh,Nh=null;var y=aa,E=vl;if(aa=null,vl=0,(Wt&6)!==0)throw Error(a(331));var b=Wt;if(Wt|=4,wg(y.current),Sg(y,y.current,E,r),Wt=b,Tl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Li,y)}catch{}f=!0}return f}finally{et.p=c,A.T=l,Hg(t,n)}}return!1}function jg(t,n,r){n=En(r,n),n=th(t.stateNode,n,2),t=sr(t,n,2),t!==null&&(se(t,2),Wn(t))}function Kt(t,n,r){if(t.tag===3)jg(t,t,r);else for(;n!==null;){if(n.tag===3){jg(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fr===null||!fr.has(l))){t=En(r,t),r=Fm(2),l=sr(n,r,2),l!==null&&(Km(r,l,n,t),se(l,2),Wn(l));break}}n=n.return}}function Lh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new cE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(wh=!0,c.add(r),t=pE.bind(null,t,n,r),n.then(t,t))}function pE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Yt===t&&(Ot&r)===r&&(re===4||re===3&&(Ot&62914560)===Ot&&300>Je()-Vh?(Wt&2)===0&&Wa(t,0):Dh|=r,Ja===Ot&&(Ja=0)),Wn(t)}function Gg(t,n){n===0&&(n=qi()),t=Ji(t,n),t!==null&&(se(t,n),Wn(t))}function yE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Gg(t,r)}function _E(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Gg(t,r)}function vE(t,n){return Vr(t,n)}var ro=null,ns=null,Ph=!1,ao=!1,Bh=!1,sa=0;function Wn(t){t!==ns&&t.next===null&&(ns===null?ro=ns=t:ns=ns.next=t),ao=!0,Ph||(Ph=!0,TE(EE))}function Tl(t,n){if(!Bh&&ao){Bh=!0;do for(var r=!1,l=ro;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Ke(42|t)+1)-1,f&=c&~(y&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(r=!0,Kg(l,f))}else f=Ot,f=dn(l,l===Yt?f:0),(f&3)===0||Bi(l,f)||(r=!0,Kg(l,f));l=l.next}while(r);Bh=!1}}function EE(){ao=Ph=!1;var t=0;sa!==0&&(VE()&&(t=sa),sa=0);for(var n=Je(),r=null,l=ro;l!==null;){var c=l.next,f=Qg(l,n);f===0?(l.next=null,r===null?ro=c:r.next=c,c===null&&(ns=r)):(r=l,(t!==0||(f&3)!==0)&&(ao=!0)),l=c}Tl(t)}function Qg(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Ke(f),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Ea(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=Yt,r=Ot,r=dn(t,t===n?r:0),l=t.callbackNode,r===0||t===n&&Xt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&va(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Bi(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&va(l),su(r)){case 2:case 8:r=Re;break;case 32:r=si;break;case 268435456:r=Vs;break;default:r=si}return l=Fg.bind(null,t),r=Vr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&va(l),t.callbackPriority=2,t.callbackNode=null,2}function Fg(t,n){var r=t.callbackNode;if(es()&&t.callbackNode!==r)return null;var l=Ot;return l=dn(t,t===Yt?l:0),l===0?null:(Mg(t,l,n),Qg(t,Je()),t.callbackNode!=null&&t.callbackNode===r?Fg.bind(null,t):null)}function Kg(t,n){if(es())return null;Mg(t,n,!0)}function TE(t){NE(function(){(Wt&6)!==0?Vr(ye,t):t()})}function qh(){return sa===0&&(sa=Os()),sa}function Yg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Hn(""+t)}function Xg(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function AE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Yg((c[_e]||null).action),y=l.submitter;y&&(n=(n=y[_e]||null)?Yg(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Da("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(sa!==0){var b=y?Xg(c,y):new FormData(c);Xc(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?Xg(c,y):new FormData(c),Xc(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var kh=0;kh<kd.length;kh++){var Hh=kd[kh],SE=Hh.toLowerCase(),bE=Hh[0].toUpperCase()+Hh.slice(1);On(SE,"on"+bE)}On(zd,"onAnimationEnd"),On(Ld,"onAnimationIteration"),On(Pd,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(kv,"onTransitionRun"),On(Hv,"onTransitionStart"),On(jv,"onTransitionCancel"),On(Bd,"onTransitionEnd"),We("onMouseEnter",["mouseout","mouseover"]),We("onMouseLeave",["mouseout","mouseover"]),We("onPointerEnter",["pointerout","pointerover"]),We("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function Zg(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,N=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=N;try{f(c)}catch(j){Qu(j)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,N=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=N;try{f(c)}catch(j){Qu(j)}c.currentTarget=null,f=b}}}}function Ct(t,n){var r=n[Nr];r===void 0&&(r=n[Nr]=new Set);var l=t+"__bubble";r.has(l)||($g(n,t,2,!1),r.add(l))}function jh(t,n,r){var l=0;n&&(l|=4),$g(r,t,l,n)}var so="_reactListening"+Math.random().toString(36).slice(2);function Gh(t){if(!t[so]){t[so]=!0,Us.forEach(function(r){r!=="selectionchange"&&(RE.has(r)||jh(r,!1,t),jh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[so]||(n[so]=!0,jh("selectionchange",!1,n))}}function $g(t,n,r,l){switch(Ep(n)){case 2:var c=$E;break;case 8:c=JE;break;default:c=rf}r=c.bind(null,n,r,t),c=void 0,!yn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Qh(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&(b=y.stateNode.containerInfo,b===c||b.nodeType===8&&b.parentNode===c))return;y=y.return}for(;E!==null;){if(y=Nn(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}hu(function(){var N=f,j=wa(r),K=[];t:{var B=qd.get(t);if(B!==void 0){var k=Da,at=t;switch(t){case"keypress":if(Gn(r)===0)break t;case"keydown":case"keyup":k=Ma;break;case"focusin":at="focus",k=Ia;break;case"focusout":at="blur",k=Ia;break;case"beforeblur":case"afterblur":k=Ia;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=yc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=vu;break;case zd:case Ld:case Pd:k=Na;break;case Bd:k=Tu;break;case"scroll":case"scrollend":k=fu;break;case"wheel":k=Ua;break;case"copy":case"cut":case"paste":k=Oa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Fs;break;case"toggle":case"beforetoggle":k=Su}var gt=(n&4)!==0,ae=!gt&&(t==="scroll"||t==="scrollend"),U=gt?B!==null?B+"Capture":null:B;gt=[];for(var I=N,L;I!==null;){var G=I;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||U===null||(G=zr(I,U),G!=null&&gt.push(Sl(I,G,L))),ae)break;I=I.return}0<gt.length&&(B=new k(B,at,null,r,j),K.push({event:B,listeners:gt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&r!==pn&&(at=r.relatedTarget||r.fromElement)&&(Nn(at)||at[li]))break t;if((k||B)&&(B=j.window===j?j:(B=j.ownerDocument)?B.defaultView||B.parentWindow:window,k?(at=r.relatedTarget||r.toElement,k=N,at=at?Nn(at):null,at!==null&&(ae=ut(at),gt=at.tag,at!==ae||gt!==5&&gt!==27&&gt!==6)&&(at=null)):(k=null,at=N),k!==at)){if(gt=_n,G="onMouseLeave",U="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(gt=Fs,G="onPointerLeave",U="onPointerEnter",I="pointer"),ae=k==null?B:Qi(k),L=at==null?B:Qi(at),B=new gt(G,I+"leave",k,r,j),B.target=ae,B.relatedTarget=L,G=null,Nn(j)===N&&(gt=new gt(U,I+"enter",at,r,j),gt.target=L,gt.relatedTarget=ae,G=gt),ae=G,k&&at)e:{for(gt=k,U=at,I=0,L=gt;L;L=is(L))I++;for(L=0,G=U;G;G=is(G))L++;for(;0<I-L;)gt=is(gt),I--;for(;0<L-I;)U=is(U),L--;for(;I--;){if(gt===U||U!==null&&gt===U.alternate)break e;gt=is(gt),U=is(U)}gt=null}else gt=null;k!==null&&Jg(K,B,k,gt,!1),at!==null&&ae!==null&&Jg(K,ae,at,gt,!0)}}t:{if(B=N?Qi(N):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var it=Rd;else if(Ee(B))if(wd)it=Lv;else{it=xv;var bt=Uv}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?N&&Bs(N.elementType)&&(it=Rd):it=zv;if(it&&(it=it(t,N))){gi(K,it,r,j);break t}bt&&bt(t,B,N),t==="focusout"&&N&&B.type==="number"&&N.memoizedProps.value!=null&&Ra(B,"number",B.value)}switch(bt=N?Qi(N):window,t){case"focusin":(Ee(bt)||bt.contentEditable==="true")&&(xa=bt,Ac=N,Xs=null);break;case"focusout":Xs=Ac=xa=null;break;case"mousedown":Sc=!0;break;case"contextmenu":case"mouseup":case"dragend":Sc=!1,Ud(K,r,j);break;case"selectionchange":if(qv)break;case"keydown":case"keyup":Ud(K,r,j)}var lt;if(Kn)t:{switch(t){case"compositionstart":var ct="onCompositionStart";break t;case"compositionend":ct="onCompositionEnd";break t;case"compositionupdate":ct="onCompositionUpdate";break t}ct=void 0}else It?q(t,r)&&(ct="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ct="onCompositionStart");ct&&(p&&r.locale!=="ko"&&(It||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&It&&(lt=ks()):(jn=j,$i="value"in jn?jn.value:jn.textContent,It=!0)),bt=lo(N,ct),0<bt.length&&(ct=new Gs(ct,t,null,r,j),K.push({event:ct,listeners:bt}),lt?ct.data=lt:(lt=$(r),lt!==null&&(ct.data=lt)))),(lt=m?ve(t,r):Nt(t,r))&&(ct=lo(N,"onBeforeInput"),0<ct.length&&(bt=new Gs("onBeforeInput","beforeinput",null,r,j),K.push({event:bt,listeners:ct}),bt.data=lt)),AE(K,t,N,r,j)}Zg(K,n)})}function Sl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function lo(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=zr(t,r),c!=null&&l.unshift(Sl(t,c,f)),c=zr(t,n),c!=null&&l.push(Sl(t,c,f))),t=t.return}return l}function is(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Jg(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,N=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||N===null||(b=N,c?(N=zr(r,f),N!=null&&y.unshift(Sl(r,N,b))):c||(N=zr(r,f),N!=null&&y.push(Sl(r,N,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var wE=/\r\n?/g,DE=/\u0000|\uFFFD/g;function Wg(t){return(typeof t=="string"?t:""+t).replace(wE,`
`).replace(DE,"")}function tp(t,n){return n=Wg(n),Wg(t)===n}function uo(){}function Qt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(t,""+l);break;case"className":Yi(t,"class",l);break;case"tabIndex":Yi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Yi(t,r,l);break;case"style":cu(t,l,f);break;case"data":if(n!=="object"){Yi(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Hn(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Qt(t,n,"name",c.name,c,null),Qt(t,n,"formEncType",c.formEncType,c,null),Qt(t,n,"formMethod",c.formMethod,c,null),Qt(t,n,"formTarget",c.formTarget,c,null)):(Qt(t,n,"encType",c.encType,c,null),Qt(t,n,"method",c.method,c,null),Qt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Hn(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=uo);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Hn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),Ki(t,"popover",l);break;case"xlinkActuate":mn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":mn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":mn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":mn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":mn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":mn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":mn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":mn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":mn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ki(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=gc.get(r)||r,Ki(t,r,l))}}function Fh(t,n,r,l,c,f){switch(r){case"style":cu(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=uo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sa.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[_e]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Ki(t,r,l)}}}function ze(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Qt(t,n,f,y,r,null)}}c&&Qt(t,n,"srcSet",r.srcSet,r,null),l&&Qt(t,n,"src",r.src,r,null);return;case"input":Ct("invalid",t);var E=f=y=c=null,b=null,N=null;for(l in r)if(r.hasOwnProperty(l)){var j=r[l];if(j!=null)switch(l){case"name":c=j;break;case"type":y=j;break;case"checked":b=j;break;case"defaultChecked":N=j;break;case"value":f=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Qt(t,n,l,j,r,null)}}Ur(t,f,E,b,N,y,c,!1),Mr(t);return;case"select":Ct("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Qt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?Lt(t,!!l,n,!1):r!=null&&Lt(t,!!l,r,!0);return;case"textarea":Ct("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Qt(t,n,y,E,r,null)}Zi(t,l,c,f),Mr(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qt(t,n,b,l,r,null)}return;case"dialog":Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<Al.length;l++)Ct(Al[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in r)if(r.hasOwnProperty(N)&&(l=r[N],l!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Qt(t,n,N,l,r,null)}return;default:if(Bs(n)){for(j in r)r.hasOwnProperty(j)&&(l=r[j],l!==void 0&&Fh(t,n,j,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Qt(t,n,E,l,r,null))}function CE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,N=null,j=null;for(k in r){var K=r[k];if(r.hasOwnProperty(k)&&K!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":b=K;default:l.hasOwnProperty(k)||Qt(t,n,k,null,l,K)}}for(var B in l){var k=l[B];if(K=r[B],l.hasOwnProperty(B)&&(k!=null||K!=null))switch(B){case"type":f=k;break;case"name":c=k;break;case"checked":N=k;break;case"defaultChecked":j=k;break;case"value":y=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:k!==K&&Qt(t,n,B,k,l,K)}}Xi(t,y,E,b,N,j,f,c);return;case"select":k=y=E=B=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":k=b;default:l.hasOwnProperty(f)||Qt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Qt(t,n,c,f,l,b)}n=E,r=y,l=k,B!=null?Lt(t,!!r,B,!1):!!l!=!!r&&(n!=null?Lt(t,!!r,n,!0):Lt(t,!!r,r?[]:"",!1));return;case"textarea":k=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Qt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Qt(t,n,y,c,l,f)}xr(t,B,k);return;case"option":for(var at in r)if(B=r[at],r.hasOwnProperty(at)&&B!=null&&!l.hasOwnProperty(at))switch(at){case"selected":t.selected=!1;break;default:Qt(t,n,at,null,l,B)}for(b in l)if(B=l[b],k=r[b],l.hasOwnProperty(b)&&B!==k&&(B!=null||k!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Qt(t,n,b,B,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in r)B=r[gt],r.hasOwnProperty(gt)&&B!=null&&!l.hasOwnProperty(gt)&&Qt(t,n,gt,null,l,B);for(N in l)if(B=l[N],k=r[N],l.hasOwnProperty(N)&&B!==k&&(B!=null||k!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Qt(t,n,N,B,l,k)}return;default:if(Bs(n)){for(var ae in r)B=r[ae],r.hasOwnProperty(ae)&&B!==void 0&&!l.hasOwnProperty(ae)&&Fh(t,n,ae,void 0,l,B);for(j in l)B=l[j],k=r[j],!l.hasOwnProperty(j)||B===k||B===void 0&&k===void 0||Fh(t,n,j,B,l,k);return}}for(var U in r)B=r[U],r.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&Qt(t,n,U,null,l,B);for(K in l)B=l[K],k=r[K],!l.hasOwnProperty(K)||B===k||B==null&&k==null||Qt(t,n,K,B,l,k)}var Kh=null,Yh=null;function oo(t){return t.nodeType===9?t:t.ownerDocument}function ep(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function np(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Xh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Zh=null;function VE(){var t=window.event;return t&&t.type==="popstate"?t===Zh?!1:(Zh=t,!0):(Zh=null,!1)}var ip=typeof setTimeout=="function"?setTimeout:void 0,IE=typeof clearTimeout=="function"?clearTimeout:void 0,rp=typeof Promise=="function"?Promise:void 0,NE=typeof queueMicrotask=="function"?queueMicrotask:typeof rp<"u"?function(t){return rp.resolve(null).then(t).catch(OE)}:ip;function OE(t){setTimeout(function(){throw t})}function $h(t,n){var r=n,l=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(l===0){t.removeChild(c),Nl(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=c}while(r);Nl(n)}function Jh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Jh(r),Or(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function ME(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Gi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=xn(t.nextSibling),t===null)break}return null}function UE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=xn(t.nextSibling),t===null))return null;return t}function xn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function ap(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function sp(t,n,r){switch(n=oo(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var Cn=new Map,lp=new Set;function co(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Ii=et.d;et.d={f:xE,r:zE,D:LE,C:PE,L:BE,m:qE,X:HE,S:kE,M:jE};function xE(){var t=Ii.f(),n=no();return t||n}function zE(t){var n=ui(t);n!==null&&n.tag===5&&n.type==="form"?Um(n):Ii.r(t)}var rs=typeof document>"u"?null:document;function up(t,n,r){var l=rs;if(l&&typeof n=="string"&&n){var c=ne(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),lp.has(c)||(lp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ze(n,"link",t),$t(n),l.head.appendChild(n)))}}function LE(t){Ii.D(t),up("dns-prefetch",t,null)}function PE(t,n){Ii.C(t,n),up("preconnect",t,n)}function BE(t,n,r){Ii.L(t,n,r);var l=rs;if(l&&t&&n){var c='link[rel="preload"][as="'+ne(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+ne(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+ne(r.imageSizes)+'"]')):c+='[href="'+ne(t)+'"]';var f=c;switch(n){case"style":f=as(t);break;case"script":f=ss(t)}Cn.has(f)||(t=D({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Cn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(bl(f))||n==="script"&&l.querySelector(Rl(f))||(n=l.createElement("link"),ze(n,"link",t),$t(n),l.head.appendChild(n)))}}function qE(t,n){Ii.m(t,n);var r=rs;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ne(l)+'"][href="'+ne(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ss(t)}if(!Cn.has(f)&&(t=D({rel:"modulepreload",href:t},n),Cn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Rl(f)))return}l=r.createElement("link"),ze(l,"link",t),$t(l),r.head.appendChild(l)}}}function kE(t,n,r){Ii.S(t,n,r);var l=rs;if(l&&t){var c=Fi(l).hoistableStyles,f=as(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(bl(f)))E.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Cn.get(f))&&Wh(t,r);var b=y=l.createElement("link");$t(b),ze(b,"link",t),b._p=new Promise(function(N,j){b.onload=N,b.onerror=j}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ho(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function HE(t,n){Ii.X(t,n);var r=rs;if(r&&t){var l=Fi(r).hoistableScripts,c=ss(t),f=l.get(c);f||(f=r.querySelector(Rl(c)),f||(t=D({src:t,async:!0},n),(n=Cn.get(c))&&tf(t,n),f=r.createElement("script"),$t(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function jE(t,n){Ii.M(t,n);var r=rs;if(r&&t){var l=Fi(r).hoistableScripts,c=ss(t),f=l.get(c);f||(f=r.querySelector(Rl(c)),f||(t=D({src:t,async:!0,type:"module"},n),(n=Cn.get(c))&&tf(t,n),f=r.createElement("script"),$t(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function op(t,n,r,l){var c=(c=fn.current)?co(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=as(r.href),r=Fi(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=as(r.href);var f=Fi(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(bl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Cn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Cn.set(t,r),f||GE(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ss(r),r=Fi(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function as(t){return'href="'+ne(t)+'"'}function bl(t){return'link[rel="stylesheet"]['+t+"]"}function cp(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function GE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",r),$t(n),t.head.appendChild(n))}function ss(t){return'[src="'+ne(t)+'"]'}function Rl(t){return"script[async]"+t}function hp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ne(r.href)+'"]');if(l)return n.instance=l,$t(l),l;var c=D({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),$t(l),ze(l,"style",c),ho(l,r.precedence,t),n.instance=l;case"stylesheet":c=as(r.href);var f=t.querySelector(bl(c));if(f)return n.state.loading|=4,n.instance=f,$t(f),f;l=cp(r),(c=Cn.get(c))&&Wh(l,c),f=(t.ownerDocument||t).createElement("link"),$t(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),ze(f,"link",l),n.state.loading|=4,ho(f,r.precedence,t),n.instance=f;case"script":return f=ss(r.src),(c=t.querySelector(Rl(f)))?(n.instance=c,$t(c),c):(l=r,(c=Cn.get(f))&&(l=D({},r),tf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),$t(c),ze(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,ho(l,r.precedence,t));return n.instance}function ho(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Wh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function tf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var fo=null;function fp(t,n,r){if(fo===null){var l=new Map,c=fo=new Map;c.set(r,l)}else c=fo,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Gi]||f[we]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function dp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function QE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function mp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var wl=null;function FE(){}function KE(t,n,r){if(wl===null)throw Error(a(475));var l=wl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=as(r.href),f=t.querySelector(bl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=mo.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,$t(f);return}f=t.ownerDocument||t,r=cp(r),(c=Cn.get(c))&&Wh(r,c),f=f.createElement("link"),$t(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),ze(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=mo.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function YE(){if(wl===null)throw Error(a(475));var t=wl;return t.stylesheets&&t.count===0&&ef(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&ef(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function mo(){if(this.count--,this.count===0){if(this.stylesheets)ef(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var go=null;function ef(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,go=new Map,n.forEach(XE,t),go=null,mo.call(t))}function XE(t,n){if(!(n.state.loading&4)){var r=go.get(t);if(r)var l=r.get(null);else{r=new Map,go.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=mo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Dl={$$typeof:H,Provider:null,Consumer:null,_currentValue:At,_currentValue2:At,_threadCount:0};function ZE(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ta(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ta(0),this.hiddenUpdates=Ta(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function gp(t,n,r,l,c,f,y,E,b,N,j,K){return t=new ZE(t,n,r,y,E,b,N,K),n=1,f===!0&&(n|=24),f=wn(3,null,null,n),t.current=f,f.stateNode=t,n=Mc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},dh(f),t}function pp(t){return t?(t=Pa,t):Pa}function yp(t,n,r,l,c,f){c=pp(c),l.context===null?l.context=c:l.pendingContext=c,l=ar(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=sr(t,l,n),r!==null&&($e(r,t,n),cl(r,t,n))}function _p(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function nf(t,n){_p(t,n),(t=t.alternate)&&_p(t,n)}function vp(t){if(t.tag===13){var n=Ji(t,67108864);n!==null&&$e(n,t,67108864),nf(t,67108864)}}var po=!0;function $E(t,n,r,l){var c=A.T;A.T=null;var f=et.p;try{et.p=2,rf(t,n,r,l)}finally{et.p=f,A.T=c}}function JE(t,n,r,l){var c=A.T;A.T=null;var f=et.p;try{et.p=8,rf(t,n,r,l)}finally{et.p=f,A.T=c}}function rf(t,n,r,l){if(po){var c=af(l);if(c===null)Qh(t,n,l,yo,r),Tp(t,l);else if(t0(c,t,n,r,l))l.stopPropagation();else if(Tp(t,l),n&4&&-1<WE.indexOf(t)){for(;c!==null;){var f=ui(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=In(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-Ke(y);E.entanglements[1]|=b,y&=~b}Wn(f),(Wt&6)===0&&(Wu=Je()+500,Tl(0))}}break;case 13:E=Ji(f,2),E!==null&&$e(E,f,2),no(),nf(f,2)}if(f=af(l),f===null&&Qh(t,n,l,yo,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else Qh(t,n,l,null,r)}}function af(t){return t=wa(t),sf(t)}var yo=null;function sf(t){if(yo=null,t=Nn(t),t!==null){var n=ut(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=qt(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return yo=t,null}function Ep(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(eu()){case ye:return 2;case Re:return 8;case si:case nu:return 32;case Vs:return 268435456;default:return 32}default:return 32}}var lf=!1,dr=null,mr=null,gr=null,Cl=new Map,Vl=new Map,pr=[],WE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tp(t,n){switch(t){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":Cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(n.pointerId)}}function Il(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=ui(n),n!==null&&vp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function t0(t,n,r,l,c){switch(n){case"focusin":return dr=Il(dr,t,n,r,l,c),!0;case"dragenter":return mr=Il(mr,t,n,r,l,c),!0;case"mouseover":return gr=Il(gr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Cl.set(f,Il(Cl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Vl.set(f,Il(Vl.get(f)||null,t,n,r,l,c)),!0}return!1}function Ap(t){var n=Nn(t.target);if(n!==null){var r=ut(n);if(r!==null){if(n=r.tag,n===13){if(n=qt(r),n!==null){t.blockedOn=n,ji(t.priority,function(){if(r.tag===13){var l=hn(),c=Ji(r,l);c!==null&&$e(c,r,l),nf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _o(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=af(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);pn=l,r.target.dispatchEvent(l),pn=null}else return n=ui(r),n!==null&&vp(n),t.blockedOn=r,!1;n.shift()}return!0}function Sp(t,n,r){_o(t)&&r.delete(n)}function e0(){lf=!1,dr!==null&&_o(dr)&&(dr=null),mr!==null&&_o(mr)&&(mr=null),gr!==null&&_o(gr)&&(gr=null),Cl.forEach(Sp),Vl.forEach(Sp)}function vo(t,n){t.blockedOn===n&&(t.blockedOn=null,lf||(lf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,e0)))}var Eo=null;function bp(t){Eo!==t&&(Eo=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Eo===t&&(Eo=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(sf(l||r)===null)continue;break}var f=ui(r);f!==null&&(t.splice(n,3),n-=3,Xc(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Nl(t){function n(b){return vo(b,t)}dr!==null&&vo(dr,t),mr!==null&&vo(mr,t),gr!==null&&vo(gr,t),Cl.forEach(n),Vl.forEach(n);for(var r=0;r<pr.length;r++){var l=pr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<pr.length&&(r=pr[0],r.blockedOn===null);)Ap(r),r.blockedOn===null&&pr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[_e]||null;if(typeof f=="function")y||bp(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[_e]||null)E=y.formAction;else if(sf(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),bp(r)}}}function uf(t){this._internalRoot=t}To.prototype.render=uf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=hn();yp(r,l,t,n,null,null)},To.prototype.unmount=uf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&es(),yp(t.current,2,null,t,null,null),no(),n[li]=null}};function To(t){this._internalRoot=t}To.prototype.unstable_scheduleHydration=function(t){if(t){var n=lu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<pr.length&&n!==0&&n<pr[r].priority;r++);pr.splice(r,0,t),r===0&&Ap(t)}};var Rp=e.version;if(Rp!=="19.0.0")throw Error(a(527,Rp,"19.0.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=Y(n),t=t!==null?st(t):null,t=t===null?null:t.stateNode,t};var n0={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Nn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ao.isDisabled&&Ao.supportsFiber)try{Li=Ao.inject(n0),qe=Ao}catch{}}return Ml.createRoot=function(t,n){if(!u(t))throw Error(a(299));var r=!1,l="",c=Hm,f=jm,y=Gm,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=gp(t,1,!1,null,null,r,l,c,f,y,E,null),t[li]=n.current,Gh(t.nodeType===8?t.parentNode:t),new uf(n)},Ml.hydrateRoot=function(t,n,r){if(!u(t))throw Error(a(299));var l=!1,c="",f=Hm,y=jm,E=Gm,b=null,N=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(N=r.formState)),n=gp(t,1,!0,n,r??null,l,c,f,y,E,b,N),n.context=pp(null),r=n.current,l=hn(),c=ar(l),c.callback=null,sr(r,c,l),n.current.lanes=l,se(n,l),Wn(n),t[li]=n.current,Gh(t),new To(n)},Ml.version="19.0.0",Ml}var xp;function f0(){if(xp)return hf.exports;xp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),hf.exports=h0(),hf.exports}var d0=f0();const m0=({post:s})=>wt.jsxs("div",{className:"post",children:[wt.jsxs("div",{className:"top",children:[wt.jsx("img",{src:s.userPfpUrl,alt:""}),wt.jsx("p",{className:"userName",children:s.userName}),wt.jsx("div",{className:"postDate",children:s.postDate})]}),wt.jsxs("div",{className:"mid",children:[wt.jsx("div",{className:"postTitle",children:s.postTitle}),wt.jsx("p",{className:"main-text",children:s.postMsg})]}),wt.jsxs("div",{className:"bottom",children:[wt.jsx("img",{className:"commentsIcon",src:"https://cdn-icons-png.flaticon.com/512/1380/1380338.png",alt:""}),wt.jsx("button",{onClick:()=>prompt("Hola"),className:"comments",children:"Comentarios"})]}),wt.jsx("hr",{})]}),g0=()=>{};var zp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let u=s.charCodeAt(a);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},p0=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const u=s[i++];if(u<128)e[a++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[a++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],g=s[i++],_=((u&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},Ky={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,g=d?s[u+1]:0,_=u+2<s.length,v=_?s[u+2]:0,S=h>>2,V=(h&3)<<4|g>>4;let P=(g&15)<<2|v>>6,H=v&63;_||(H=64,d||(P=64)),a.push(i[S],i[V],i[P],i[H])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Fy(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):p0(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],g=u<s.length?i[s.charAt(u)]:0;++u;const v=u<s.length?i[s.charAt(u)]:64;++u;const V=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||g==null||v==null||V==null)throw new y0;const P=h<<2|g>>4;if(a.push(P),v!==64){const H=g<<4&240|v>>2;if(a.push(H),V!==64){const X=v<<6&192|V;a.push(X)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class y0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _0=function(s){const e=Fy(s);return Ky.encodeByteArray(e,!0)},Uo=function(s){return _0(s).replace(/\./g,"")},v0=function(s){try{return Ky.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=()=>E0().__FIREBASE_DEFAULTS__,A0=()=>{if(typeof process>"u"||typeof zp>"u")return;const s=zp.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},S0=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&v0(s[1]);return e&&JSON.parse(e)},Qf=()=>{try{return g0()||T0()||A0()||S0()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},b0=s=>{var e,i;return(i=(e=Qf())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},R0=s=>{const e=b0(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Yy=()=>{var s;return(s=Qf())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Uo(JSON.stringify(i)),Uo(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function V0(){var s;const e=(s=Qf())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I0(){return!V0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N0(){try{return typeof indexedDB=="object"}catch{return!1}}function O0(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(a);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="FirebaseError";class Ts extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=M0,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xy.prototype.create)}}class Xy{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?U0(h,a):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new Ts(u,g,a)}}function U0(s,e){return s.replace(x0,(i,a)=>{const u=e[a];return u!=null?String(u):`<${a}?>`})}const x0=/\{\$([^}]+)}/g;function xo(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const u of i){if(!a.includes(u))return!1;const h=s[u],d=e[u];if(Lp(h)&&Lp(d)){if(!xo(h,d))return!1}else if(h!==d)return!1}for(const u of a)if(!i.includes(u))return!1;return!0}function Lp(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(s){return s&&s._delegate?s._delegate:s}class Hl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new w0;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&a.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(P0(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});a.resolve(h)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(u)}return u}onInit(e,i){var a;const u=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(u))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const u of a)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:L0(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function L0(s){return s===la?void 0:s}function P0(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new z0(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ut||(Ut={}));const q0={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},k0=Ut.INFO,H0={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},j0=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),u=H0[e];if(u)console[u](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zy{constructor(e){this.name=e,this._logLevel=k0,this._logHandler=j0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?q0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const G0=(s,e)=>e.some(i=>s instanceof i);let Pp,Bp;function Q0(){return Pp||(Pp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F0(){return Bp||(Bp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $y=new WeakMap,Sf=new WeakMap,Jy=new WeakMap,gf=new WeakMap,Ff=new WeakMap;function K0(s){const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(vr(s.result)),u()},d=()=>{a(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&$y.set(i,s)}).catch(()=>{}),Ff.set(e,s),e}function Y0(s){if(Sf.has(s))return;const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Sf.set(s,e)}let bf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Sf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Jy.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return vr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function X0(s){bf=s(bf)}function Z0(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(pf(this),e,...i);return Jy.set(a,e.sort?e.sort():[e]),vr(a)}:F0().includes(s)?function(...e){return s.apply(pf(this),e),vr($y.get(this))}:function(...e){return vr(s.apply(pf(this),e))}}function $0(s){return typeof s=="function"?Z0(s):(s instanceof IDBTransaction&&Y0(s),G0(s,Q0())?new Proxy(s,bf):s)}function vr(s){if(s instanceof IDBRequest)return K0(s);if(gf.has(s))return gf.get(s);const e=$0(s);return e!==s&&(gf.set(s,e),Ff.set(e,s)),e}const pf=s=>Ff.get(s);function J0(s,e,{blocked:i,upgrade:a,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),g=vr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(vr(d.result),_.oldVersion,_.newVersion,vr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const W0=["get","getKey","getAll","getAllKeys","count"],tT=["put","add","delete","clear"],yf=new Map;function qp(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(yf.get(e))return yf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,u=tT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(u||W0.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),u&&_.done]))[0]};return yf.set(e,h),h}X0(s=>({...s,get:(e,i,a)=>qp(e,i)||s.get(e,i,a),has:(e,i)=>!!qp(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(nT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function nT(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rf="@firebase/app",kp="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new Zy("@firebase/app"),iT="@firebase/app-compat",rT="@firebase/analytics-compat",aT="@firebase/analytics",sT="@firebase/app-check-compat",lT="@firebase/app-check",uT="@firebase/auth",oT="@firebase/auth-compat",cT="@firebase/database",hT="@firebase/data-connect",fT="@firebase/database-compat",dT="@firebase/functions",mT="@firebase/functions-compat",gT="@firebase/installations",pT="@firebase/installations-compat",yT="@firebase/messaging",_T="@firebase/messaging-compat",vT="@firebase/performance",ET="@firebase/performance-compat",TT="@firebase/remote-config",AT="@firebase/remote-config-compat",ST="@firebase/storage",bT="@firebase/storage-compat",RT="@firebase/firestore",wT="@firebase/vertexai",DT="@firebase/firestore-compat",CT="firebase",VT="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="[DEFAULT]",IT={[Rf]:"fire-core",[iT]:"fire-core-compat",[aT]:"fire-analytics",[rT]:"fire-analytics-compat",[lT]:"fire-app-check",[sT]:"fire-app-check-compat",[uT]:"fire-auth",[oT]:"fire-auth-compat",[cT]:"fire-rtdb",[hT]:"fire-data-connect",[fT]:"fire-rtdb-compat",[dT]:"fire-fn",[mT]:"fire-fn-compat",[gT]:"fire-iid",[pT]:"fire-iid-compat",[yT]:"fire-fcm",[_T]:"fire-fcm-compat",[vT]:"fire-perf",[ET]:"fire-perf-compat",[TT]:"fire-rc",[AT]:"fire-rc-compat",[ST]:"fire-gcs",[bT]:"fire-gcs-compat",[RT]:"fire-fst",[DT]:"fire-fst-compat",[wT]:"fire-vertex","fire-js":"fire-js",[CT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=new Map,NT=new Map,Df=new Map;function Hp(s,e){try{s.container.addComponent(e)}catch(i){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Lo(s){const e=s.name;if(Df.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;Df.set(e,s);for(const i of zo.values())Hp(i,s);for(const i of NT.values())Hp(i,s);return!0}function OT(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function MT(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new Xy("app","Firebase",UT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Hl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=VT;function Wy(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:wf,automaticDataCollectionEnabled:!1},e),u=a.name;if(typeof u!="string"||!u)throw Er.create("bad-app-name",{appName:String(u)});if(i||(i=Yy()),!i)throw Er.create("no-options");const h=zo.get(u);if(h){if(xo(i,h.options)&&xo(a,h.config))return h;throw Er.create("duplicate-app",{appName:u})}const d=new B0(u);for(const _ of Df.values())d.addComponent(_);const g=new xT(i,a,d);return zo.set(u,g),g}function LT(s=wf){const e=zo.get(s);if(!e&&s===wf&&Yy())return Wy();if(!e)throw Er.create("no-app",{appName:s});return e}function hs(s,e,i){var a;let u=(a=IT[s])!==null&&a!==void 0?a:s;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${u}" with version "${e}":`];h&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(g.join(" "));return}Lo(new Hl(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="firebase-heartbeat-database",BT=1,jl="firebase-heartbeat-store";let _f=null;function t_(){return _f||(_f=J0(PT,BT,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(jl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Er.create("idb-open",{originalErrorMessage:s.message})})),_f}async function qT(s){try{const i=(await t_()).transaction(jl),a=await i.objectStore(jl).get(e_(s));return await i.done,a}catch(e){if(e instanceof Ts)Oi.warn(e.message);else{const i=Er.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oi.warn(i.message)}}}async function jp(s,e){try{const a=(await t_()).transaction(jl,"readwrite");await a.objectStore(jl).put(e,e_(s)),await a.done}catch(i){if(i instanceof Ts)Oi.warn(i.message);else{const a=Er.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Oi.warn(a.message)}}}function e_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=1024,HT=30;class jT{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new QT(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Gp();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>HT){const d=FT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Oi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Gp(),{heartbeatsToSend:a,unsentEntries:u}=GT(this._heartbeatsCache.heartbeats),h=Uo(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Oi.warn(i),""}}}function Gp(){return new Date().toISOString().substring(0,10)}function GT(s,e=kT){const i=[];let a=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),Qp(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Qp(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class QT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N0()?O0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await qT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return jp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return jp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function Qp(s){return Uo(JSON.stringify({version:2,heartbeats:s})).length}function FT(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(s){Lo(new Hl("platform-logger",e=>new eT(e),"PRIVATE")),Lo(new Hl("heartbeat",e=>new jT(e),"PRIVATE")),hs(Rf,kp,s),hs(Rf,kp,"esm2017"),hs("fire-js","")}KT("");var YT="firebase",XT="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hs(YT,XT,"app");var Fp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tr,n_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function A(){}A.prototype=R.prototype,M.D=R.prototype,M.prototype=new A,M.prototype.constructor=M,M.C=function(D,O,z){for(var w=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)w[pe-2]=arguments[pe];return R.prototype[O].apply(D,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(M,R,A){A||(A=0);var D=Array(16);if(typeof R=="string")for(var O=0;16>O;++O)D[O]=R.charCodeAt(A++)|R.charCodeAt(A++)<<8|R.charCodeAt(A++)<<16|R.charCodeAt(A++)<<24;else for(O=0;16>O;++O)D[O]=R[A++]|R[A++]<<8|R[A++]<<16|R[A++]<<24;R=M.g[0],A=M.g[1],O=M.g[2];var z=M.g[3],w=R+(z^A&(O^z))+D[0]+3614090360&4294967295;R=A+(w<<7&4294967295|w>>>25),w=z+(O^R&(A^O))+D[1]+3905402710&4294967295,z=R+(w<<12&4294967295|w>>>20),w=O+(A^z&(R^A))+D[2]+606105819&4294967295,O=z+(w<<17&4294967295|w>>>15),w=A+(R^O&(z^R))+D[3]+3250441966&4294967295,A=O+(w<<22&4294967295|w>>>10),w=R+(z^A&(O^z))+D[4]+4118548399&4294967295,R=A+(w<<7&4294967295|w>>>25),w=z+(O^R&(A^O))+D[5]+1200080426&4294967295,z=R+(w<<12&4294967295|w>>>20),w=O+(A^z&(R^A))+D[6]+2821735955&4294967295,O=z+(w<<17&4294967295|w>>>15),w=A+(R^O&(z^R))+D[7]+4249261313&4294967295,A=O+(w<<22&4294967295|w>>>10),w=R+(z^A&(O^z))+D[8]+1770035416&4294967295,R=A+(w<<7&4294967295|w>>>25),w=z+(O^R&(A^O))+D[9]+2336552879&4294967295,z=R+(w<<12&4294967295|w>>>20),w=O+(A^z&(R^A))+D[10]+4294925233&4294967295,O=z+(w<<17&4294967295|w>>>15),w=A+(R^O&(z^R))+D[11]+2304563134&4294967295,A=O+(w<<22&4294967295|w>>>10),w=R+(z^A&(O^z))+D[12]+1804603682&4294967295,R=A+(w<<7&4294967295|w>>>25),w=z+(O^R&(A^O))+D[13]+4254626195&4294967295,z=R+(w<<12&4294967295|w>>>20),w=O+(A^z&(R^A))+D[14]+2792965006&4294967295,O=z+(w<<17&4294967295|w>>>15),w=A+(R^O&(z^R))+D[15]+1236535329&4294967295,A=O+(w<<22&4294967295|w>>>10),w=R+(O^z&(A^O))+D[1]+4129170786&4294967295,R=A+(w<<5&4294967295|w>>>27),w=z+(A^O&(R^A))+D[6]+3225465664&4294967295,z=R+(w<<9&4294967295|w>>>23),w=O+(R^A&(z^R))+D[11]+643717713&4294967295,O=z+(w<<14&4294967295|w>>>18),w=A+(z^R&(O^z))+D[0]+3921069994&4294967295,A=O+(w<<20&4294967295|w>>>12),w=R+(O^z&(A^O))+D[5]+3593408605&4294967295,R=A+(w<<5&4294967295|w>>>27),w=z+(A^O&(R^A))+D[10]+38016083&4294967295,z=R+(w<<9&4294967295|w>>>23),w=O+(R^A&(z^R))+D[15]+3634488961&4294967295,O=z+(w<<14&4294967295|w>>>18),w=A+(z^R&(O^z))+D[4]+3889429448&4294967295,A=O+(w<<20&4294967295|w>>>12),w=R+(O^z&(A^O))+D[9]+568446438&4294967295,R=A+(w<<5&4294967295|w>>>27),w=z+(A^O&(R^A))+D[14]+3275163606&4294967295,z=R+(w<<9&4294967295|w>>>23),w=O+(R^A&(z^R))+D[3]+4107603335&4294967295,O=z+(w<<14&4294967295|w>>>18),w=A+(z^R&(O^z))+D[8]+1163531501&4294967295,A=O+(w<<20&4294967295|w>>>12),w=R+(O^z&(A^O))+D[13]+2850285829&4294967295,R=A+(w<<5&4294967295|w>>>27),w=z+(A^O&(R^A))+D[2]+4243563512&4294967295,z=R+(w<<9&4294967295|w>>>23),w=O+(R^A&(z^R))+D[7]+1735328473&4294967295,O=z+(w<<14&4294967295|w>>>18),w=A+(z^R&(O^z))+D[12]+2368359562&4294967295,A=O+(w<<20&4294967295|w>>>12),w=R+(A^O^z)+D[5]+4294588738&4294967295,R=A+(w<<4&4294967295|w>>>28),w=z+(R^A^O)+D[8]+2272392833&4294967295,z=R+(w<<11&4294967295|w>>>21),w=O+(z^R^A)+D[11]+1839030562&4294967295,O=z+(w<<16&4294967295|w>>>16),w=A+(O^z^R)+D[14]+4259657740&4294967295,A=O+(w<<23&4294967295|w>>>9),w=R+(A^O^z)+D[1]+2763975236&4294967295,R=A+(w<<4&4294967295|w>>>28),w=z+(R^A^O)+D[4]+1272893353&4294967295,z=R+(w<<11&4294967295|w>>>21),w=O+(z^R^A)+D[7]+4139469664&4294967295,O=z+(w<<16&4294967295|w>>>16),w=A+(O^z^R)+D[10]+3200236656&4294967295,A=O+(w<<23&4294967295|w>>>9),w=R+(A^O^z)+D[13]+681279174&4294967295,R=A+(w<<4&4294967295|w>>>28),w=z+(R^A^O)+D[0]+3936430074&4294967295,z=R+(w<<11&4294967295|w>>>21),w=O+(z^R^A)+D[3]+3572445317&4294967295,O=z+(w<<16&4294967295|w>>>16),w=A+(O^z^R)+D[6]+76029189&4294967295,A=O+(w<<23&4294967295|w>>>9),w=R+(A^O^z)+D[9]+3654602809&4294967295,R=A+(w<<4&4294967295|w>>>28),w=z+(R^A^O)+D[12]+3873151461&4294967295,z=R+(w<<11&4294967295|w>>>21),w=O+(z^R^A)+D[15]+530742520&4294967295,O=z+(w<<16&4294967295|w>>>16),w=A+(O^z^R)+D[2]+3299628645&4294967295,A=O+(w<<23&4294967295|w>>>9),w=R+(O^(A|~z))+D[0]+4096336452&4294967295,R=A+(w<<6&4294967295|w>>>26),w=z+(A^(R|~O))+D[7]+1126891415&4294967295,z=R+(w<<10&4294967295|w>>>22),w=O+(R^(z|~A))+D[14]+2878612391&4294967295,O=z+(w<<15&4294967295|w>>>17),w=A+(z^(O|~R))+D[5]+4237533241&4294967295,A=O+(w<<21&4294967295|w>>>11),w=R+(O^(A|~z))+D[12]+1700485571&4294967295,R=A+(w<<6&4294967295|w>>>26),w=z+(A^(R|~O))+D[3]+2399980690&4294967295,z=R+(w<<10&4294967295|w>>>22),w=O+(R^(z|~A))+D[10]+4293915773&4294967295,O=z+(w<<15&4294967295|w>>>17),w=A+(z^(O|~R))+D[1]+2240044497&4294967295,A=O+(w<<21&4294967295|w>>>11),w=R+(O^(A|~z))+D[8]+1873313359&4294967295,R=A+(w<<6&4294967295|w>>>26),w=z+(A^(R|~O))+D[15]+4264355552&4294967295,z=R+(w<<10&4294967295|w>>>22),w=O+(R^(z|~A))+D[6]+2734768916&4294967295,O=z+(w<<15&4294967295|w>>>17),w=A+(z^(O|~R))+D[13]+1309151649&4294967295,A=O+(w<<21&4294967295|w>>>11),w=R+(O^(A|~z))+D[4]+4149444226&4294967295,R=A+(w<<6&4294967295|w>>>26),w=z+(A^(R|~O))+D[11]+3174756917&4294967295,z=R+(w<<10&4294967295|w>>>22),w=O+(R^(z|~A))+D[2]+718787259&4294967295,O=z+(w<<15&4294967295|w>>>17),w=A+(z^(O|~R))+D[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,M.g[2]=M.g[2]+O&4294967295,M.g[3]=M.g[3]+z&4294967295}a.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var A=R-this.blockSize,D=this.B,O=this.h,z=0;z<R;){if(O==0)for(;z<=A;)u(this,M,z),z+=this.blockSize;if(typeof M=="string"){for(;z<R;)if(D[O++]=M.charCodeAt(z++),O==this.blockSize){u(this,D),O=0;break}}else for(;z<R;)if(D[O++]=M[z++],O==this.blockSize){u(this,D),O=0;break}}this.h=O,this.o+=R},a.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var A=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=A&255,A/=256;for(this.u(M),M=Array(16),R=A=0;4>R;++R)for(var D=0;32>D;D+=8)M[A++]=this.g[R]>>>D&255;return M};function h(M,R){var A=g;return Object.prototype.hasOwnProperty.call(A,M)?A[M]:A[M]=R(M)}function d(M,R){this.h=R;for(var A=[],D=!0,O=M.length-1;0<=O;O--){var z=M[O]|0;D&&z==R||(A[O]=z,D=!1)}this.g=A}var g={};function _(M){return-128<=M&&128>M?h(M,function(R){return new d([R|0],0>R?-1:0)}):new d([M|0],0>M?-1:0)}function v(M){if(isNaN(M)||!isFinite(M))return V;if(0>M)return Z(v(-M));for(var R=[],A=1,D=0;M>=A;D++)R[D]=M/A|0,A*=4294967296;return new d(R,0)}function S(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return Z(S(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=v(Math.pow(R,8)),D=V,O=0;O<M.length;O+=8){var z=Math.min(8,M.length-O),w=parseInt(M.substring(O,O+z),R);8>z?(z=v(Math.pow(R,z)),D=D.j(z).add(v(w))):(D=D.j(A),D=D.add(v(w)))}return D}var V=_(0),P=_(1),H=_(16777216);s=d.prototype,s.m=function(){if(J(this))return-Z(this).m();for(var M=0,R=1,A=0;A<this.g.length;A++){var D=this.i(A);M+=(0<=D?D:4294967296+D)*R,R*=4294967296}return M},s.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(X(this))return"0";if(J(this))return"-"+Z(this).toString(M);for(var R=v(Math.pow(M,6)),A=this,D="";;){var O=Ft(A,R).g;A=yt(A,O.j(R));var z=((0<A.g.length?A.g[0]:A.h)>>>0).toString(M);if(A=O,X(A))return z+D;for(;6>z.length;)z="0"+z;D=z+D}},s.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function X(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function J(M){return M.h==-1}s.l=function(M){return M=yt(this,M),J(M)?-1:X(M)?0:1};function Z(M){for(var R=M.g.length,A=[],D=0;D<R;D++)A[D]=~M.g[D];return new d(A,~M.h).add(P)}s.abs=function(){return J(this)?Z(this):this},s.add=function(M){for(var R=Math.max(this.g.length,M.g.length),A=[],D=0,O=0;O<=R;O++){var z=D+(this.i(O)&65535)+(M.i(O)&65535),w=(z>>>16)+(this.i(O)>>>16)+(M.i(O)>>>16);D=w>>>16,z&=65535,w&=65535,A[O]=w<<16|z}return new d(A,A[A.length-1]&-2147483648?-1:0)};function yt(M,R){return M.add(Z(R))}s.j=function(M){if(X(this)||X(M))return V;if(J(this))return J(M)?Z(this).j(Z(M)):Z(Z(this).j(M));if(J(M))return Z(this.j(Z(M)));if(0>this.l(H)&&0>M.l(H))return v(this.m()*M.m());for(var R=this.g.length+M.g.length,A=[],D=0;D<2*R;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var O=0;O<M.g.length;O++){var z=this.i(D)>>>16,w=this.i(D)&65535,pe=M.i(O)>>>16,oe=M.i(O)&65535;A[2*D+2*O]+=w*oe,dt(A,2*D+2*O),A[2*D+2*O+1]+=z*oe,dt(A,2*D+2*O+1),A[2*D+2*O+1]+=w*pe,dt(A,2*D+2*O+1),A[2*D+2*O+2]+=z*pe,dt(A,2*D+2*O+2)}for(D=0;D<R;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=R;D<2*R;D++)A[D]=0;return new d(A,0)};function dt(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function Tt(M,R){this.g=M,this.h=R}function Ft(M,R){if(X(R))throw Error("division by zero");if(X(M))return new Tt(V,V);if(J(M))return R=Ft(Z(M),R),new Tt(Z(R.g),Z(R.h));if(J(R))return R=Ft(M,Z(R)),new Tt(Z(R.g),R.h);if(30<M.g.length){if(J(M)||J(R))throw Error("slowDivide_ only works with positive integers.");for(var A=P,D=R;0>=D.l(M);)A=_t(A),D=_t(D);var O=xt(A,1),z=xt(D,1);for(D=xt(D,2),A=xt(A,2);!X(D);){var w=z.add(D);0>=w.l(M)&&(O=O.add(A),z=w),D=xt(D,1),A=xt(A,1)}return R=yt(M,O.j(R)),new Tt(O,R)}for(O=V;0<=M.l(R);){for(A=Math.max(1,Math.floor(M.m()/R.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),z=v(A),w=z.j(R);J(w)||0<w.l(M);)A-=D,z=v(A),w=z.j(R);X(z)&&(z=P),O=O.add(z),M=yt(M,w)}return new Tt(O,M)}s.A=function(M){return Ft(this,M).h},s.and=function(M){for(var R=Math.max(this.g.length,M.g.length),A=[],D=0;D<R;D++)A[D]=this.i(D)&M.i(D);return new d(A,this.h&M.h)},s.or=function(M){for(var R=Math.max(this.g.length,M.g.length),A=[],D=0;D<R;D++)A[D]=this.i(D)|M.i(D);return new d(A,this.h|M.h)},s.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),A=[],D=0;D<R;D++)A[D]=this.i(D)^M.i(D);return new d(A,this.h^M.h)};function _t(M){for(var R=M.g.length+1,A=[],D=0;D<R;D++)A[D]=M.i(D)<<1|M.i(D-1)>>>31;return new d(A,M.h)}function xt(M,R){var A=R>>5;R%=32;for(var D=M.g.length-A,O=[],z=0;z<D;z++)O[z]=0<R?M.i(z+A)>>>R|M.i(z+A+1)<<32-R:M.i(z+A);return new d(O,M.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,n_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=S,Tr=d}).apply(typeof Fp<"u"?Fp:typeof self<"u"?self:typeof window<"u"?window:{});var So=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var i_,Ul,r_,Co,Cf,a_,s_,l_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,p){return o==Array.prototype||o==Object.prototype||(o[m]=p.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof So=="object"&&So];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function u(o,m){if(m)t:{var p=a;o=o.split(".");for(var T=0;T<o.length-1;T++){var x=o[T];if(!(x in p))break t;p=p[x]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var p=0,T=!1,x={next:function(){if(!T&&p<o.length){var q=p++;return{value:m(q,o[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function v(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function S(o,m,p){return o.call.apply(o.bind,arguments)}function V(o,m,p){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,T),o.apply(m,x)}}return function(){return o.apply(m,arguments)}}function P(o,m,p){return P=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:V,P.apply(null,arguments)}function H(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function X(o,m){function p(){}p.prototype=m.prototype,o.aa=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(T,x,q){for(var $=Array(arguments.length-2),It=2;It<arguments.length;It++)$[It-2]=arguments[It];return m.prototype[x].apply(T,$)}}function J(o){const m=o.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function Z(o,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const x=o.length||0,q=T.length||0;o.length=x+q;for(let $=0;$<q;$++)o[x+$]=T[$]}else o.push(T)}}class yt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function dt(o){return/^[\s\xa0]*$/.test(o)}function Tt(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function Ft(o){return Ft[" "](o),o}Ft[" "]=function(){};var _t=Tt().indexOf("Gecko")!=-1&&!(Tt().toLowerCase().indexOf("webkit")!=-1&&Tt().indexOf("Edge")==-1)&&!(Tt().indexOf("Trident")!=-1||Tt().indexOf("MSIE")!=-1)&&Tt().indexOf("Edge")==-1;function xt(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function M(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function R(o){const m={};for(const p in o)m[p]=o[p];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(o,m){let p,T;for(let x=1;x<arguments.length;x++){T=arguments[x];for(p in T)o[p]=T[p];for(let q=0;q<A.length;q++)p=A[q],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function O(o){var m=1;o=o.split(":");const p=[];for(;0<m&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function z(o){g.setTimeout(()=>{throw o},0)}function w(){var o=qt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class pe{constructor(){this.h=this.g=null}add(m,p){const T=oe.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var oe=new yt(()=>new W,o=>o.reset());class W{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,ut=!1,qt=new pe,C=()=>{const o=g.Promise.resolve(void 0);ht=()=>{o.then(Y)}};var Y=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(p){z(p)}var m=oe;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ut=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var et=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return o}();function At(o,m){if(tt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(_t){t:{try{Ft(m.nodeName);var x=!0;break t}catch{}x=!1}x||(m=null)}}else p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:vt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&At.aa.h.call(this)}}X(At,tt);var vt={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),zt=0;function ee(o,m,p,T,x){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=x,this.key=++zt,this.da=this.fa=!1}function jt(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Fe(o){this.src=o,this.g={},this.h=0}Fe.prototype.add=function(o,m,p,T,x){var q=o.toString();o=this.g[q],o||(o=this.g[q]=[],this.h++);var $=fn(o,m,T,x);return-1<$?(m=o[$],p||(m.fa=!1)):(m=new ee(m,this.src,q,!!T,x),m.fa=p,o.push(m)),m};function ri(o,m){var p=m.type;if(p in o.g){var T=o.g[p],x=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=x)&&Array.prototype.splice.call(T,x,1),q&&(jt(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function fn(o,m,p,T){for(var x=0;x<o.length;++x){var q=o[x];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return x}return-1}var xi="closure_lm_"+(1e6*Math.random()|0),zi={};function ai(o,m,p,T,x){if(Array.isArray(m)){for(var q=0;q<m.length;q++)ai(o,m[q],p,T,x);return null}return p=eu(p),o&&o[ce]?o.K(m,p,v(T)?!!T.capture:!1,x):Ds(o,m,p,!1,T,x)}function Ds(o,m,p,T,x,q){if(!m)throw Error("Invalid event type");var $=v(x)?!!x.capture:!!x,It=Cs(o);if(It||(o[xi]=It=new Fe(o)),p=It.add(m,p,T,$,q),p.proxy)return p;if(T=ya(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)et||(x=$),x===void 0&&(x=!1),o.addEventListener(m.toString(),T,x);else if(o.attachEvent)o.attachEvent(va(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function ya(){function o(p){return m.call(o.src,o.listener,p)}const m=cc;return o}function _a(o,m,p,T,x){if(Array.isArray(m))for(var q=0;q<m.length;q++)_a(o,m[q],p,T,x);else T=v(T)?!!T.capture:!!T,p=eu(p),o&&o[ce]?(o=o.i,m=String(m).toString(),m in o.g&&(q=o.g[m],p=fn(q,p,T,x),-1<p&&(jt(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete o.g[m],o.h--)))):o&&(o=Cs(o))&&(m=o.g[m.toString()],o=-1,m&&(o=fn(m,p,T,x)),(p=-1<o?m[o]:null)&&Vr(p))}function Vr(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[ce])ri(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(va(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Cs(m))?(ri(p,o),p.h==0&&(p.src=null,m[xi]=null)):jt(o)}}}function va(o){return o in zi?zi[o]:zi[o]="on"+o}function cc(o,m){if(o.da)o=!0;else{m=new At(m,this);var p=o.listener,T=o.ha||o.src;o.fa&&Vr(o),o=p.call(T,m)}return o}function Cs(o){return o=o[xi],o instanceof Fe?o:null}var Je="__closure_events_fn_"+(1e9*Math.random()>>>0);function eu(o){return typeof o=="function"?o:(o[Je]||(o[Je]=function(m){return o.handleEvent(m)}),o[Je])}function ye(){st.call(this),this.i=new Fe(this),this.M=this,this.F=null}X(ye,st),ye.prototype[ce]=!0,ye.prototype.removeEventListener=function(o,m,p,T){_a(this,o,m,p,T)};function Re(o,m){var p,T=o.F;if(T)for(p=[];T;T=T.F)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new tt(m,o);else if(m instanceof tt)m.target=m.target||o;else{var x=m;m=new tt(T,o),D(m,x)}if(x=!0,p)for(var q=p.length-1;0<=q;q--){var $=m.g=p[q];x=si($,T,!0,m)&&x}if($=m.g=o,x=si($,T,!0,m)&&x,x=si($,T,!1,m)&&x,p)for(q=0;q<p.length;q++)$=m.g=p[q],x=si($,T,!1,m)&&x}ye.prototype.N=function(){if(ye.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var p=o.g[m],T=0;T<p.length;T++)jt(p[T]);delete o.g[m],o.h--}}this.F=null},ye.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},ye.prototype.L=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function si(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var x=!0,q=0;q<m.length;++q){var $=m[q];if($&&!$.da&&$.capture==p){var It=$.listener,ve=$.ha||$.src;$.fa&&ri(o.i,$),x=It.call(ve,T)!==!1&&x}}return x&&!T.defaultPrevented}function nu(o,m,p){if(typeof o=="function")p&&(o=P(o,p));else if(o&&typeof o.handleEvent=="function")o=P(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function Vs(o){o.g=nu(()=>{o.g=null,o.i&&(o.i=!1,Vs(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class hc extends st{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Vs(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ir(o){st.call(this),this.h=o,this.g={}}X(Ir,st);var Li=[];function qe(o){xt(o.g,function(m,p){this.g.hasOwnProperty(p)&&Vr(m)},o),o.g={}}Ir.prototype.N=function(){Ir.aa.N.call(this),qe(this)},Ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Is=g.JSON.stringify,Pn=g.JSON.parse,Ke=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function Ns(){}Ns.prototype.h=null;function iu(o){return o.h||(o.h=o.i())}function ru(){}var Bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pi(){tt.call(this,"d")}X(Pi,tt);function In(){tt.call(this,"c")}X(In,tt);var dn={},Bi=null;function Ea(){return Bi=Bi||new ye}dn.La="serverreachability";function Os(o){tt.call(this,dn.La,o)}X(Os,tt);function qi(o){const m=Ea();Re(m,new Os(m))}dn.STAT_EVENT="statevent";function Ta(o,m){tt.call(this,dn.STAT_EVENT,o),this.stat=m}X(Ta,tt);function se(o){const m=Ea();Re(m,new Ta(m,o))}dn.Ma="timingevent";function au(o,m){tt.call(this,dn.Ma,o),this.size=m}X(au,tt);function ki(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function Hi(){this.g=!0}Hi.prototype.xa=function(){this.g=!1};function su(o,m,p,T,x,q){o.info(function(){if(o.g)if(q)for(var $="",It=q.split("&"),ve=0;ve<It.length;ve++){var Nt=It[ve].split("=");if(1<Nt.length){var Ce=Nt[0];Nt=Nt[1];var Ee=Ce.split("_");$=2<=Ee.length&&Ee[1]=="type"?$+(Ce+"="+Nt+"&"):$+(Ce+"=redacted&")}}else $=null;else $=q;return"XMLHTTP REQ ("+T+") [attempt "+x+"]: "+m+`
`+p+`
`+$})}function lu(o,m,p,T,x,q,$){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+x+"]: "+m+`
`+p+`
`+q+" "+$})}function ji(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+we(o,p)+(T?" "+T:"")})}function qn(o,m){o.info(function(){return"TIMEOUT: "+m})}Hi.prototype.info=function(){};function we(o,m){if(!o.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var T=p[o];if(!(2>T.length)){var x=T[1];if(Array.isArray(x)&&!(1>x.length)){var q=x[0];if(q!="noop"&&q!="stop"&&q!="close")for(var $=1;$<x.length;$++)x[$]=""}}}}return Is(p)}catch{return m}}var _e={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nr;function Aa(){}X(Aa,Ns),Aa.prototype.g=function(){return new XMLHttpRequest},Aa.prototype.i=function(){return{}},Nr=new Aa;function kn(o,m,p,T){this.j=o,this.i=m,this.l=p,this.R=T||1,this.U=new Ir(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ms}function Ms(){this.i=null,this.g="",this.h=!1}var Gi={},Or={};function Nn(o,m,p){o.L=1,o.v=xr(ne(m)),o.m=p,o.P=!0,ui(o,null)}function ui(o,m){o.F=Date.now(),$t(o),o.A=ne(o.v);var p=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),hi(p.i,"t",T),o.C=0,p=o.j.J,o.h=new Ms,o.g=Tu(o.j,p?m:null,!o.m),0<o.O&&(o.M=new hc(P(o.Y,o,o.g),o.O)),m=o.U,p=o.g,T=o.ca;var x="readystatechange";Array.isArray(x)||(x&&(Li[0]=x.toString()),x=Li);for(var q=0;q<x.length;q++){var $=ai(p,x[q],T||m.handleEvent,!1,m.h||m);if(!$)break;m.g[$.key]=$}m=o.H?R(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),qi(),su(o.i,o.u,o.A,o.l,o.R,o.m)}kn.prototype.ca=function(o){o=o.target;const m=this.M;m&&_n(o)==3?m.j():this.Y(o)},kn.prototype.Y=function(o){try{if(o==this.g)t:{const Ee=_n(this.g);var m=this.g.Ba();const gi=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||du(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=gi?qi(3):qi(2)),Sa(this);var p=this.g.Z();this.X=p;e:if(Qi(this)){var T=du(this.g);o="";var x=T.length,q=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){We(this),an(this);var $="";break e}this.h.i=new g.TextDecoder}for(m=0;m<x;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(q&&m==x-1)});T.length=0,this.h.g+=o,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=p==200,lu(this.i,this.u,this.A,this.l,this.R,Ee,p),this.o){if(this.T&&!this.K){e:{if(this.g){var It,ve=this.g;if((It=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(It)){var Nt=It;break e}}Nt=null}if(p=Nt)ji(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sn(this,p);else{this.o=!1,this.s=3,se(12),We(this),an(this);break t}}if(this.P){p=!0;let Me;for(;!this.J&&this.C<$.length;)if(Me=Fi(this,$),Me==Or){Ee==4&&(this.s=4,se(14),p=!1),ji(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==Gi){this.s=4,se(15),ji(this.i,this.l,$,"[Invalid Chunk]"),p=!1;break}else ji(this.i,this.l,Me,null),sn(this,Me);if(Qi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||$.length!=0||this.h.h||(this.s=1,se(16),p=!1),this.o=this.o&&p,!p)ji(this.i,this.l,$,"[Invalid Chunked Response]"),We(this),an(this);else if(0<$.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),Hr(Ce),Ce.M=!0,se(11))}}else ji(this.i,this.l,$,null),sn(this,$);Ee==4&&We(this),this.o&&!this.J&&(Ee==4?_u(this.j,this):(this.o=!1,$t(this)))}else yc(this.g),p==400&&0<$.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),We(this),an(this)}}}catch{}finally{}};function Qi(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Fi(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?Or:(p=Number(m.substring(p,T)),isNaN(p)?Gi:(T+=1,T+p>m.length?Or:(m=m.slice(T,T+p),o.C=T+p,m)))}kn.prototype.cancel=function(){this.J=!0,We(this)};function $t(o){o.S=Date.now()+o.I,Us(o,o.I)}function Us(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=ki(P(o.ba,o),m)}function Sa(o){o.B&&(g.clearTimeout(o.B),o.B=null)}kn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(qn(this.i,this.A),this.L!=2&&(qi(),se(17)),We(this),this.s=2,an(this)):Us(this,this.S-o)};function an(o){o.j.G==0||o.J||_u(o.j,o)}function We(o){Sa(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,qe(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function sn(o,m){try{var p=o.j;if(p.G!=0&&(p.g==o||Ki(p.h,o))){if(!o.K&&Ki(p.h,o)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var x=T;if(x[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)Ma(p),Na(p);else break t;Qs(p),se(18)}}else p.za=x[1],0<p.za-p.T&&37500>x[2]&&p.F&&p.v==0&&!p.C&&(p.C=ki(P(p.Za,p),6e3));if(1>=uu(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else mi(p,11)}else if((o.K||p.g==o)&&Ma(p),!dt(m))for(x=p.Da.g.parse(m),m=0;m<x.length;m++){let Nt=x[m];if(p.T=Nt[0],Nt=Nt[1],p.G==2)if(Nt[0]=="c"){p.K=Nt[1],p.ia=Nt[2];const Ce=Nt[3];Ce!=null&&(p.la=Ce,p.j.info("VER="+p.la));const Ee=Nt[4];Ee!=null&&(p.Aa=Ee,p.j.info("SVER="+p.Aa));const gi=Nt[5];gi!=null&&typeof gi=="number"&&0<gi&&(T=1.5*gi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Me=o.g;if(Me){const Yn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yn){var q=T.h;q.g||Yn.indexOf("spdy")==-1&&Yn.indexOf("quic")==-1&&Yn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Yi(q,q.h),q.h=null))}if(T.D){const Ks=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;Ks&&(T.ya=Ks,Lt(T.I,T.D,Ks))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var $=o;if(T.qa=Eu(T,T.J?T.ia:null,T.W),$.K){mn(T.h,$);var It=$,ve=T.L;ve&&(It.I=ve),It.B&&(Sa(It),$t(It)),T.g=$}else pu(T);0<p.i.length&&Oa(p)}else Nt[0]!="stop"&&Nt[0]!="close"||mi(p,7);else p.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?mi(p,7):js(p):Nt[0]!="noop"&&p.l&&p.l.ta(Nt),p.v=0)}}qi(4)}catch{}}var fc=class{constructor(o,m){this.g=o,this.map=m}};function xs(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zs(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function uu(o){return o.h?1:o.g?o.g.size:0}function Ki(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Yi(o,m){o.g?o.g.add(m):o.h=m}function mn(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}xs.prototype.cancel=function(){if(this.i=Ye(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ye(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.D);return m}return J(o.i)}function ou(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(_(o)){for(var m=[],p=o.length,T=0;T<p;T++)m.push(o[T]);return m}m=[],p=0;for(T in o)m[p++]=o[T];return m}function dc(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(_(o)||typeof o=="string"){var m=[];o=o.length;for(var p=0;p<o;p++)m.push(p);return m}m=[],p=0;for(const T in o)m[p++]=T;return m}}}function Mr(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(_(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var p=dc(o),T=ou(o),x=T.length,q=0;q<x;q++)m.call(void 0,T[q],p&&p[q],o)}var Ls=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(o,m){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var T=o[p].indexOf("="),x=null;if(0<=T){var q=o[p].substring(0,T);x=o[p].substring(T+1)}else q=o[p];m(q,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function oi(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof oi){this.h=o.h,Xi(this,o.j),this.o=o.o,this.g=o.g,Ur(this,o.s),this.l=o.l;var m=o.i,p=new Hn;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),Ra(this,p),this.m=o.m}else o&&(m=String(o).match(Ls))?(this.h=!1,Xi(this,m[1]||"",!0),this.o=Zi(m[2]||""),this.g=Zi(m[3]||"",!0),Ur(this,m[4]),this.l=Zi(m[5]||"",!0),Ra(this,m[6]||"",!0),this.m=Zi(m[7]||"")):(this.h=!1,this.i=new Hn(null,this.h))}oi.prototype.toString=function(){var o=[],m=this.j;m&&o.push(gn(m,Ps,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(gn(m,Ps,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(gn(p,p.charAt(0)=="/"?Bs:cu,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",gn(p,pc)),o.join("")};function ne(o){return new oi(o)}function Xi(o,m,p){o.j=p?Zi(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Ur(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function Ra(o,m,p){m instanceof Hn?(o.i=m,qs(o.i,o.h)):(p||(m=gn(m,gc)),o.i=new Hn(m,o.h))}function Lt(o,m,p){o.i.set(m,p)}function xr(o){return Lt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Zi(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function gn(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,mc),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function mc(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Ps=/[#\/\?@]/g,cu=/[#\?:]/g,Bs=/[#\?]/g,gc=/[#\?@]/g,pc=/#/g;function Hn(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function pn(o){o.g||(o.g=new Map,o.h=0,o.i&&ba(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=Hn.prototype,s.add=function(o,m){pn(this),this.i=null,o=fi(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function wa(o,m){pn(o),m=fi(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function ci(o,m){return pn(o),m=fi(o,m),o.g.has(m)}s.forEach=function(o,m){pn(this),this.g.forEach(function(p,T){p.forEach(function(x){o.call(m,x,T,this)},this)},this)},s.na=function(){pn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const x=o[T];for(let q=0;q<x.length;q++)p.push(m[T])}return p},s.V=function(o){pn(this);let m=[];if(typeof o=="string")ci(this,o)&&(m=m.concat(this.g.get(fi(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)m=m.concat(o[p])}return m},s.set=function(o,m){return pn(this),this.i=null,o=fi(this,o),ci(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function hi(o,m,p){wa(o,m),0<p.length&&(o.i=null,o.g.set(fi(o,m),J(p)),o.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),$=this.V(T);for(T=0;T<$.length;T++){var x=q;$[T]!==""&&(x+="="+encodeURIComponent(String($[T]))),o.push(x)}}return this.i=o.join("&")};function fi(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function qs(o,m){m&&!o.j&&(pn(o),o.i=null,o.g.forEach(function(p,T){var x=T.toLowerCase();T!=x&&(wa(this,T),hi(this,x,p))},o)),o.j=m}function hu(o,m){const p=new Hi;if(g.Image){const T=new Image;T.onload=H(yn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=H(yn,p,"TestLoadImage: error",!1,m,T),T.onabort=H(yn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=H(yn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function zr(o,m){const p=new Hi,T=new AbortController,x=setTimeout(()=>{T.abort(),yn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(q=>{clearTimeout(x),q.ok?yn(p,"TestPingServer: ok",!0,m):yn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(x),yn(p,"TestPingServer: error",!1,m)})}function yn(o,m,p,T,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),T(p)}catch{}}function Lr(){this.g=new Ke}function jn(o,m,p){const T=p||"";try{Mr(o,function(x,q){let $=x;v(x)&&($=Is(x)),m.push(T+q+"="+encodeURIComponent($))})}catch(x){throw m.push(T+"type="+encodeURIComponent("_badmap")),x}}function $i(o){this.l=o.Ub||null,this.j=o.eb||!1}X($i,Ns),$i.prototype.g=function(){return new di(this.l,this.j)},$i.prototype.i=function(o){return function(){return o}}({});function di(o,m){ye.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(di,ye),s=di.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Qn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ks(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function ks(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Gn(this):Qn(this),this.readyState==3&&ks(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,Gn(this))},s.Qa=function(o){this.g&&(this.response=o,Gn(this))},s.ga=function(){this.g&&Gn(this)};function Gn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Qn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function Qn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Hs(o){let m="";return xt(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function De(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Hs(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):Lt(o,m,p))}function kt(o){ye.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(kt,ye);var Da=/^https?$/i,Pr=["POST","PUT"];s=kt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nr.g(),this.v=this.o?iu(this.o):iu(Nr),this.g.onreadystatechange=P(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(q){fu(this,q);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var x in T)p.set(x,T[x]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),x=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Pr,m,void 0))||T||x||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,$]of p)this.g.setRequestHeader(q,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Br(this),this.u=!0,this.g.send(o),this.u=!1}catch(q){fu(this,q)}};function fu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Ca(o),Fn(o)}function Ca(o){o.A||(o.A=!0,Re(o,"complete"),Re(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Re(this,"complete"),Re(this,"abort"),Fn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fn(this,!0)),kt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Va(this):this.bb())},s.bb=function(){Va(this)};function Va(o){if(o.h&&typeof d<"u"&&(!o.v[1]||_n(o)!=4||o.Z()!=2)){if(o.u&&_n(o)==4)nu(o.Ea,0,o);else if(Re(o,"readystatechange"),_n(o)==4){o.h=!1;try{const $=o.Z();t:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=$===0){var x=String(o.D).match(Ls)[1]||null;!x&&g.self&&g.self.location&&(x=g.self.location.protocol.slice(0,-1)),T=!Da.test(x?x.toLowerCase():"")}p=T}if(p)Re(o,"complete"),Re(o,"success");else{o.m=6;try{var q=2<_n(o)?o.g.statusText:""}catch{q=""}o.l=q+" ["+o.Z()+"]",Ca(o)}}finally{Fn(o)}}}}function Fn(o,m){if(o.g){Br(o);const p=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||Re(o,"ready");try{p.onreadystatechange=T}catch{}}}function Br(o){o.I&&(g.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function _n(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),Pn(m)}};function du(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function yc(o){const m={};o=(o.g&&2<=_n(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(dt(o[T]))continue;var p=O(o[T]);const x=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[x]||[];m[x]=q,q.push(p)}M(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qr(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Ia(o){this.Aa=0,this.i=[],this.j=new Hi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qr("baseRetryDelayMs",5e3,o),this.cb=qr("retryDelaySeedMs",1e4,o),this.Wa=qr("forwardChannelMaxRetries",2,o),this.wa=qr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new xs(o&&o.concurrentRequestLimit),this.Da=new Lr,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Ia.prototype,s.la=8,s.G=1,s.connect=function(o,m,p,T){se(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Eu(this,null,this.W),Oa(this)};function js(o){if(mu(o),o.G==3){var m=o.U++,p=ne(o.I);if(Lt(p,"SID",o.K),Lt(p,"RID",m),Lt(p,"TYPE","terminate"),kr(o,p),m=new kn(o,o.j,m),m.L=2,m.v=xr(ne(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Tu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),$t(m)}vu(o)}function Na(o){o.g&&(Hr(o),o.g.cancel(),o.g=null)}function mu(o){Na(o),o.u&&(g.clearTimeout(o.u),o.u=null),Ma(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function Oa(o){if(!zs(o.h)&&!o.s){o.s=!0;var m=o.Ga;ht||C(),ut||(ht(),ut=!0),qt.add(m,o),o.B=0}}function _c(o,m){return uu(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=ki(P(o.Ga,o,m),Fs(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const x=new kn(this,this.j,o);let q=this.o;if(this.S&&(q?(q=R(q),D(q,this.S)):q=this.S),this.m!==null||this.O||(x.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=gu(this,x,m),p=ne(this.I),Lt(p,"RID",o),Lt(p,"CVER",22),this.D&&Lt(p,"X-HTTP-Session-Id",this.D),kr(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(Hs(q)))+"&"+m:this.m&&De(p,this.m,q)),Yi(this.h,x),this.Ua&&Lt(p,"TYPE","init"),this.P?(Lt(p,"$req",m),Lt(p,"SID","null"),x.T=!0,Nn(x,p,null)):Nn(x,p,m),this.G=2}}else this.G==3&&(o?Gs(this,o):this.i.length==0||zs(this.h)||Gs(this))};function Gs(o,m){var p;m?p=m.l:p=o.U++;const T=ne(o.I);Lt(T,"SID",o.K),Lt(T,"RID",p),Lt(T,"AID",o.T),kr(o,T),o.m&&o.o&&De(T,o.m,o.o),p=new kn(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),m&&(o.i=m.D.concat(o.i)),m=gu(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Yi(o.h,p),Nn(p,T,m)}function kr(o,m){o.H&&xt(o.H,function(p,T){Lt(m,T,p)}),o.l&&Mr({},function(p,T){Lt(m,T,p)})}function gu(o,m,p){p=Math.min(o.i.length,p);var T=o.l?P(o.l.Na,o.l,o):null;t:{var x=o.i;let q=-1;for(;;){const $=["count="+p];q==-1?0<p?(q=x[0].g,$.push("ofs="+q)):q=0:$.push("ofs="+q);let It=!0;for(let ve=0;ve<p;ve++){let Nt=x[ve].g;const Ce=x[ve].map;if(Nt-=q,0>Nt)q=Math.max(0,x[ve].g-100),It=!1;else try{jn(Ce,$,"req"+Nt+"_")}catch{T&&T(Ce)}}if(It){T=$.join("&");break t}}}return o=o.i.splice(0,p),m.D=o,T}function pu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;ht||C(),ut||(ht(),ut=!0),qt.add(m,o),o.v=0}}function Qs(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=ki(P(o.Fa,o),Fs(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,yu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=ki(P(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),Na(this),yu(this))};function Hr(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function yu(o){o.g=new kn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=ne(o.qa);Lt(m,"RID","rpc"),Lt(m,"SID",o.K),Lt(m,"AID",o.T),Lt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Lt(m,"TO",o.ja),Lt(m,"TYPE","xmlhttp"),kr(o,m),o.m&&o.o&&De(m,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=xr(ne(m)),p.m=null,p.P=!0,ui(p,o)}s.Za=function(){this.C!=null&&(this.C=null,Na(this),Qs(this),se(19))};function Ma(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function _u(o,m){var p=null;if(o.g==m){Ma(o),Hr(o),o.g=null;var T=2}else if(Ki(o.h,m))p=m.D,mn(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var x=o.B;T=Ea(),Re(T,new au(T,p)),Oa(o)}else pu(o);else if(x=m.s,x==3||x==0&&0<m.X||!(T==1&&_c(o,m)||T==2&&Qs(o)))switch(p&&0<p.length&&(m=o.h,m.i=m.i.concat(p)),x){case 1:mi(o,5);break;case 4:mi(o,10);break;case 3:mi(o,6);break;default:mi(o,2)}}}function Fs(o,m){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*m}function mi(o,m){if(o.j.info("Error code "+m),m==2){var p=P(o.fb,o),T=o.Xa;const x=!T;T=new oi(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Xi(T,"https"),xr(T),x?hu(T.toString(),p):zr(T.toString(),p)}else se(2);o.G=0,o.l&&o.l.sa(m),vu(o),mu(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function vu(o){if(o.G=0,o.ka=[],o.l){const m=Ye(o.h);(m.length!=0||o.i.length!=0)&&(Z(o.ka,m),Z(o.ka,o.i),o.h.i.length=0,J(o.i),o.i.length=0),o.l.ra()}}function Eu(o,m,p){var T=p instanceof oi?ne(p):new oi(p);if(T.g!="")m&&(T.g=m+"."+T.g),Ur(T,T.s);else{var x=g.location;T=x.protocol,m=m?m+"."+x.hostname:x.hostname,x=+x.port;var q=new oi(null);T&&Xi(q,T),m&&(q.g=m),x&&Ur(q,x),p&&(q.l=p),T=q}return p=o.D,m=o.ya,p&&m&&Lt(T,p,m),Lt(T,"VER",o.la),kr(o,T),T}function Tu(o,m,p){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new kt(new $i({eb:p})):new kt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}s=Au.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Ua(){}Ua.prototype.g=function(o,m){return new Xe(o,m)};function Xe(o,m){ye.call(this),this.g=new Ia(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!dt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!dt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Kn(this)}X(Xe,ye),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){js(this.g)},Xe.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=Is(o),o=p);m.i.push(new fc(m.Ya++,o)),m.G==3&&Oa(m)},Xe.prototype.N=function(){this.g.l=null,delete this.j,js(this.g),delete this.g,Xe.aa.N.call(this)};function Su(o){Pi.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}X(Su,Pi);function bu(){In.call(this),this.status=1}X(bu,In);function Kn(o){this.g=o}X(Kn,Au),Kn.prototype.ua=function(){Re(this.g,"a")},Kn.prototype.ta=function(o){Re(this.g,new Su(o))},Kn.prototype.sa=function(o){Re(this.g,new bu)},Kn.prototype.ra=function(){Re(this.g,"b")},Ua.prototype.createWebChannel=Ua.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,l_=function(){return new Ua},s_=function(){return Ea()},a_=dn,Cf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_e.NO_ERROR=0,_e.TIMEOUT=8,_e.HTTP_ERROR=6,Co=_e,li.COMPLETE="complete",r_=li,ru.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",ye.prototype.listen=ye.prototype.K,Ul=ru,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,i_=kt}).apply(typeof So<"u"?So:typeof self<"u"?self:typeof window<"u"?window:{});const Kp="@firebase/firestore",Yp="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let As="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new Zy("@firebase/firestore");function ls(){return ha.logLevel}function nt(s,...e){if(ha.logLevel<=Ut.DEBUG){const i=e.map(Kf);ha.debug(`Firestore (${As}): ${s}`,...i)}}function Mi(s,...e){if(ha.logLevel<=Ut.ERROR){const i=e.map(Kf);ha.error(`Firestore (${As}): ${s}`,...i)}}function ms(s,...e){if(ha.logLevel<=Ut.WARN){const i=e.map(Kf);ha.warn(`Firestore (${As}): ${s}`,...i)}}function Kf(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(s="Unexpected state"){const e=`FIRESTORE (${As}) INTERNAL ASSERTION FAILED: `+s;throw Mi(e),new Error(e)}function Ht(s,e){s||ft()}function pt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends Ts{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ge.UNAUTHENTICATED))}shutdown(){}}class $T{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class JT{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ht(this.o===void 0);let a=this.i;const u=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new oa;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new oa,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await u(this.currentUser)})},g=_=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new oa)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ht(typeof a.accessToken=="string"),new u_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string"),new Ge(e)}}class WT{constructor(e,i,a){this.l=e,this.h=i,this.P=a,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class tA{constructor(e,i,a){this.l=e,this.h=i,this.P=a}getToken(){return Promise.resolve(new WT(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Xp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eA{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,MT(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){Ht(this.o===void 0);const a=h=>{h.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const u=h=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?u(h):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Xp(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Ht(typeof i.token=="string"),this.R=i.token,new Xp(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const u=nA(40);for(let h=0;h<u.length;++h)a.length<20&&u[h]<i&&(a+=e.charAt(u[h]%62))}return a}}function Vt(s,e){return s<e?-1:s>e?1:0}function gs(s,e,i){return s.length===e.length&&s.every((a,u)=>i(a,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp=-62135596800,$p=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*$p);return new Se(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new rt(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Zp)throw new rt(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$p}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Zp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{static fromTimestamp(e){return new mt(e)}static min(){return new mt(new Se(0,0))}static max(){return new mt(new Se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="__name__";class ti{constructor(e,i,a){i===void 0?i=0:i>e.length&&ft(),a===void 0?a=e.length-i:a>e.length-i&&ft(),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let u=0;u<a;u++){const h=ti.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return Math.sign(e.length-i.length)}static compareSegments(e,i){const a=ti.isNumericId(e),u=ti.isNumericId(i);return a&&!u?-1:!a&&u?1:a&&u?ti.extractNumericId(e).compare(ti.extractNumericId(i)):e<i?-1:e>i?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Tr.fromString(e.substring(4,e.length-2))}}class Zt extends ti{construct(e,i,a){return new Zt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new rt(F.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(u=>u.length>0))}return new Zt(i)}static emptyPath(){return new Zt([])}}const iA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pe extends ti{construct(e,i,a){return new Pe(e,i,a)}static isValidIdentifier(e){return iA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jp}static keyField(){return new Pe([Jp])}static fromServerFormat(e){const i=[];let a="",u=0;const h=()=>{if(a.length===0)throw new rt(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new rt(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new rt(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(a+=g,u++):(h(),u++)}if(h(),d)throw new rt(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pe(i)}static emptyPath(){return new Pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.path=e}static fromPath(e){return new ot(Zt.fromString(e))}static fromName(e){return new ot(Zt.fromString(e).popFirst(5))}static empty(){return new ot(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Zt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new Zt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=-1;function rA(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,u=mt.fromTimestamp(a===1e9?new Se(i+1,0):new Se(i,a));return new Sr(u,ot.empty(),e)}function aA(s){return new Sr(s.readTime,s.key,Gl)}class Sr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Sr(mt.min(),ot.empty(),Gl)}static max(){return new Sr(mt.max(),ot.empty(),Gl)}}function sA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ot.comparator(s.documentKey,e.documentKey),i!==0?i:Vt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ss(s){if(s.code!==F.FAILED_PRECONDITION||s.message!==lA)throw s;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Q((a,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Q?i:Q.resolve(i)}catch(i){return Q.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.reject(i)}static resolve(e){return new Q((i,a)=>{i(e)})}static reject(e){return new Q((i,a)=>{a(e)})}static waitFor(e){return new Q((i,a)=>{let u=0,h=0,d=!1;e.forEach(g=>{++u,g.next(()=>{++h,d&&h===u&&i()},_=>a(_))}),d=!0,h===u&&i()})}static or(e){let i=Q.resolve(!1);for(const a of e)i=i.next(u=>u?Q.resolve(u):a());return i}static forEach(e,i){const a=[];return e.forEach((u,h)=>{a.push(i.call(this,u,h))}),this.waitFor(a)}static mapArray(e,i){return new Q((a,u)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(S=>{d[v]=S,++g,g===h&&a(d)},S=>u(S))}})}static doWhile(e,i){return new Q((a,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):a()};h()})}}function oA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function bs(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.oe(a),this._e=a=>i.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}$o.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf=-1;function Jo(s){return s==null}function Po(s){return s===0&&1/s==-1/0}function cA(s){return typeof s=="number"&&Number.isInteger(s)&&!Po(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_="";function hA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Wp(e)),e=fA(s.get(i),e);return Wp(e)}function fA(s,e){let i=e;const a=s.length;for(let u=0;u<a;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case c_:i+="";break;default:i+=h}}return i}function Wp(s){return s+c_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function da(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function h_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e,i){this.comparator=e,this.root=i||Le.EMPTY}insert(e,i){return new te(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Le.BLACK,null,null))}remove(e){return new te(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Le.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(e,a.key);if(u===0)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bo(this.root,e,this.comparator,!1)}getReverseIterator(){return new bo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bo(this.root,e,this.comparator,!0)}}class bo{constructor(e,i,a,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Le{constructor(e,i,a,u,h){this.key=e,this.value=i,this.color=a??Le.RED,this.left=u??Le.EMPTY,this.right=h??Le.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,u,h){return new Le(e??this.key,i??this.value,a??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const h=a(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,a),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Le.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return Le.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const e=this.left.check();if(e!==this.right.check())throw ft();return e+(this.isRed()?0:1)}}Le.EMPTY=null,Le.RED=!0,Le.BLACK=!1;Le.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(e,i,a,u,h){return this}insert(e,i,a){return new Le(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new te(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new ey(this.data.getIterator())}getIteratorFrom(e){return new ey(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new be(this.comparator);return i.data=e,i}}class ey{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(Pe.comparator)}static empty(){return new zn([])}unionWith(e){let i=new be(Pe.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new zn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return gs(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new f_("Invalid base64 string: "+h):h}}(e);return new Be(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new Be(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const dA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(s){if(Ht(!!s),typeof s=="string"){let e=0;const i=dA.exec(s);if(Ht(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ue(s.seconds),nanos:ue(s.nanos)}}function ue(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Rr(s){return typeof s=="string"?Be.fromBase64String(s):Be.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="server_timestamp",m_="__type__",g_="__previous_value__",p_="__local_write_time__";function Xf(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[m_])===null||i===void 0?void 0:i.stringValue)===d_}function Wo(s){const e=s.mapValue.fields[g_];return Xf(e)?Wo(e):e}function Ql(s){const e=br(s.mapValue.fields[p_].timestampValue);return new Se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,i,a,u,h,d,g,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v}}const Bo="(default)";class Fl{constructor(e,i){this.projectId=e,this.database=i||Bo}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database===Bo}isEqual(e){return e instanceof Fl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="__type__",gA="__max__",Ro={mapValue:{}},__="__vector__",qo="value";function wr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Xf(s)?4:yA(s)?9007199254740991:pA(s)?10:11:ft()}function ii(s,e){if(s===e)return!0;const i=wr(s);if(i!==wr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Ql(s).isEqual(Ql(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=br(u.timestampValue),g=br(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return Rr(u.bytesValue).isEqual(Rr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return ue(u.geoPointValue.latitude)===ue(h.geoPointValue.latitude)&&ue(u.geoPointValue.longitude)===ue(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return ue(u.integerValue)===ue(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=ue(u.doubleValue),g=ue(h.doubleValue);return d===g?Po(d)===Po(g):isNaN(d)&&isNaN(g)}return!1}(s,e);case 9:return gs(s.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},g=h.mapValue.fields||{};if(ty(d)!==ty(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ii(d[_],g[_])))return!1;return!0}(s,e);default:return ft()}}function Kl(s,e){return(s.values||[]).find(i=>ii(i,e))!==void 0}function ps(s,e){if(s===e)return 0;const i=wr(s),a=wr(e);if(i!==a)return Vt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(s.booleanValue,e.booleanValue);case 2:return function(h,d){const g=ue(h.integerValue||h.doubleValue),_=ue(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(s,e);case 3:return ny(s.timestampValue,e.timestampValue);case 4:return ny(Ql(s),Ql(e));case 5:return Vt(s.stringValue,e.stringValue);case 6:return function(h,d){const g=Rr(h),_=Rr(d);return g.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const S=Vt(g[v],_[v]);if(S!==0)return S}return Vt(g.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Vt(ue(h.latitude),ue(d.latitude));return g!==0?g:Vt(ue(h.longitude),ue(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return iy(s.arrayValue,e.arrayValue);case 10:return function(h,d){var g,_,v,S;const V=h.fields||{},P=d.fields||{},H=(g=V[qo])===null||g===void 0?void 0:g.arrayValue,X=(_=P[qo])===null||_===void 0?void 0:_.arrayValue,J=Vt(((v=H==null?void 0:H.values)===null||v===void 0?void 0:v.length)||0,((S=X==null?void 0:X.values)===null||S===void 0?void 0:S.length)||0);return J!==0?J:iy(H,X)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===Ro.mapValue&&d===Ro.mapValue)return 0;if(h===Ro.mapValue)return 1;if(d===Ro.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},S=Object.keys(v);_.sort(),S.sort();for(let V=0;V<_.length&&V<S.length;++V){const P=Vt(_[V],S[V]);if(P!==0)return P;const H=ps(g[_[V]],v[S[V]]);if(H!==0)return H}return Vt(_.length,S.length)}(s.mapValue,e.mapValue);default:throw ft()}}function ny(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Vt(s,e);const i=br(s),a=br(e),u=Vt(i.seconds,a.seconds);return u!==0?u:Vt(i.nanos,a.nanos)}function iy(s,e){const i=s.values||[],a=e.values||[];for(let u=0;u<i.length&&u<a.length;++u){const h=ps(i[u],a[u]);if(h)return h}return Vt(i.length,a.length)}function ys(s){return Vf(s)}function Vf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=br(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return Rr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ot.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",u=!0;for(const h of i.values||[])u?u=!1:a+=",",a+=Vf(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of a)h?h=!1:u+=",",u+=`${d}:${Vf(i.fields[d])}`;return u+"}"}(s.mapValue):ft()}function Vo(s){switch(wr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wo(s);return e?16+Vo(e):16;case 5:return 2*s.stringValue.length;case 6:return Rr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((u,h)=>u+Vo(h),0)}(s.arrayValue);case 10:case 11:return function(a){let u=0;return da(a.fields,(h,d)=>{u+=h.length+Vo(d)}),u}(s.mapValue);default:throw ft()}}function ry(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function If(s){return!!s&&"integerValue"in s}function Zf(s){return!!s&&"arrayValue"in s}function ay(s){return!!s&&"nullValue"in s}function sy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Io(s){return!!s&&"mapValue"in s}function pA(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[y_])===null||i===void 0?void 0:i.stringValue)===__}function Pl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return da(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Pl(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Pl(s.arrayValue.values[i]);return e}return Object.assign({},s)}function yA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===gA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Io(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(i)}setAll(e){let i=Pe.emptyPath(),a={},u=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,u),a={},u=[],i=g.popLast()}d?a[g.lastSegment()]=Pl(d):u.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,u)}delete(e){const i=this.field(e.popLast());Io(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let u=i.mapValue.fields[e.get(a)];Io(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,a){da(i,(u,h)=>e[u]=h);for(const u of a)delete e[u]}clone(){return new Vn(Pl(this.value))}}function v_(s){const e=[];return da(s.fields,(i,a)=>{const u=new Pe([i]);if(Io(a)){const h=v_(a.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,i,a,u,h,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=u,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Qe(e,0,mt.min(),mt.min(),mt.min(),Vn.empty(),0)}static newFoundDocument(e,i,a,u){return new Qe(e,1,i,mt.min(),a,u,0)}static newNoDocument(e,i){return new Qe(e,2,i,mt.min(),mt.min(),Vn.empty(),0)}static newUnknownDocument(e,i){return new Qe(e,3,i,mt.min(),mt.min(),Vn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e,i){this.position=e,this.inclusive=i}}function ly(s,e,i){let a=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?a=ot.comparator(ot.fromName(d.referenceValue),i.key):a=ps(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function uy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ii(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,i="asc"){this.field=e,this.dir=i}}function _A(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{}class ge extends E_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new EA(e,i,a):i==="array-contains"?new SA(e,a):i==="in"?new bA(e,a):i==="not-in"?new RA(e,a):i==="array-contains-any"?new wA(e,a):new ge(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new TA(e,a):new AA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(ps(i,this.value)):i!==null&&wr(this.value)===wr(i)&&this.matchesComparison(ps(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ln extends E_{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new Ln(e,i)}matches(e){return T_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function T_(s){return s.op==="and"}function A_(s){return vA(s)&&T_(s)}function vA(s){for(const e of s.filters)if(e instanceof Ln)return!1;return!0}function Nf(s){if(s instanceof ge)return s.field.canonicalString()+s.op.toString()+ys(s.value);if(A_(s))return s.filters.map(e=>Nf(e)).join(",");{const e=s.filters.map(i=>Nf(i)).join(",");return`${s.op}(${e})`}}function S_(s,e){return s instanceof ge?function(a,u){return u instanceof ge&&a.op===u.op&&a.field.isEqual(u.field)&&ii(a.value,u.value)}(s,e):s instanceof Ln?function(a,u){return u instanceof Ln&&a.op===u.op&&a.filters.length===u.filters.length?a.filters.reduce((h,d,g)=>h&&S_(d,u.filters[g]),!0):!1}(s,e):void ft()}function b_(s){return s instanceof ge?function(i){return`${i.field.canonicalString()} ${i.op} ${ys(i.value)}`}(s):s instanceof Ln?function(i){return i.op.toString()+" {"+i.getFilters().map(b_).join(" ,")+"}"}(s):"Filter"}class EA extends ge{constructor(e,i,a){super(e,i,a),this.key=ot.fromName(a.referenceValue)}matches(e){const i=ot.comparator(e.key,this.key);return this.matchesComparison(i)}}class TA extends ge{constructor(e,i){super(e,"in",i),this.keys=R_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class AA extends ge{constructor(e,i){super(e,"not-in",i),this.keys=R_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function R_(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ot.fromName(a.referenceValue))}class SA extends ge{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Zf(i)&&Kl(i.arrayValue,this.value)}}class bA extends ge{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Kl(this.value.arrayValue,i)}}class RA extends ge{constructor(e,i){super(e,"not-in",i)}matches(e){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Kl(this.value.arrayValue,i)}}class wA extends ge{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Zf(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Kl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,i=null,a=[],u=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=h,this.startAt=d,this.endAt=g,this.le=null}}function oy(s,e=null,i=[],a=[],u=null,h=null,d=null){return new DA(s,e,i,a,u,h,d)}function $f(s){const e=pt(s);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>Nf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),Jo(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>ys(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>ys(a)).join(",")),e.le=i}return e.le}function Jf(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!_A(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!S_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!uy(s.startAt,e.startAt)&&uy(s.endAt,e.endAt)}function Of(s){return ot.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,i=null,a=[],u=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function CA(s,e,i,a,u,h,d,g){return new Zl(s,e,i,a,u,h,d,g)}function Wf(s){return new Zl(s)}function cy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function w_(s){return s.collectionGroup!==null}function Bl(s){const e=pt(s);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new be(Pe.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new Ho(h,a))}),i.has(Pe.keyField().canonicalString())||e.he.push(new Ho(Pe.keyField(),a))}return e.he}function ei(s){const e=pt(s);return e.Pe||(e.Pe=VA(e,Bl(s))),e.Pe}function VA(s,e){if(s.limitType==="F")return oy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new Ho(u.field,h)});const i=s.endAt?new ko(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new ko(s.startAt.position,s.startAt.inclusive):null;return oy(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Mf(s,e){const i=s.filters.concat([e]);return new Zl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Uf(s,e,i){return new Zl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function tc(s,e){return Jf(ei(s),ei(e))&&s.limitType===e.limitType}function D_(s){return`${$f(ei(s))}|lt:${s.limitType}`}function us(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(u=>b_(u)).join(", ")}]`),Jo(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(u=>ys(u)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(u=>ys(u)).join(",")),`Target(${a})`}(ei(s))}; limitType=${s.limitType})`}function ec(s,e){return e.isFoundDocument()&&function(a,u){const h=u.key.path;return a.collectionGroup!==null?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ot.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,u){for(const h of Bl(a))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,u){for(const h of a.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(a,u){return!(a.startAt&&!function(d,g,_){const v=ly(d,g,_);return d.inclusive?v<=0:v<0}(a.startAt,Bl(a),u)||a.endAt&&!function(d,g,_){const v=ly(d,g,_);return d.inclusive?v>=0:v>0}(a.endAt,Bl(a),u))}(s,e)}function IA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function C_(s){return(e,i)=>{let a=!1;for(const u of Bl(s)){const h=NA(u,e,i);if(h!==0)return h;a=a||u.field.isKeyField()}return 0}}function NA(s,e,i){const a=s.field.isKeyField()?ot.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?ps(_,v):ft()}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ft()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[u,h]of a)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),u=this.inner[a];if(u===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return a.length===1?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(e){da(this.inner,(i,a)=>{for(const[u,h]of a)e(u,h)})}isEmpty(){return h_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA=new te(ot.comparator);function Ui(){return OA}const V_=new te(ot.comparator);function xl(...s){let e=V_;for(const i of s)e=e.insert(i.key,i);return e}function I_(s){let e=V_;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function ua(){return ql()}function N_(){return ql()}function ql(){return new ma(s=>s.toString(),(s,e)=>s.isEqual(e))}const MA=new te(ot.comparator),UA=new be(ot.comparator);function Dt(...s){let e=UA;for(const i of s)e=e.add(i);return e}const xA=new be(Vt);function zA(){return xA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Po(e)?"-0":e}}function O_(s){return{integerValue:""+s}}function LA(s,e){return cA(e)?O_(e):td(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(){this._=void 0}}function PA(s,e,i){return s instanceof jo?function(u,h){const d={fields:{[m_]:{stringValue:d_},[p_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&Xf(h)&&(h=Wo(h)),h&&(d.fields[g_]=h),{mapValue:d}}(i,e):s instanceof Yl?U_(s,e):s instanceof Xl?x_(s,e):function(u,h){const d=M_(u,h),g=hy(d)+hy(u.Ie);return If(d)&&If(u.Ie)?O_(g):td(u.serializer,g)}(s,e)}function BA(s,e,i){return s instanceof Yl?U_(s,e):s instanceof Xl?x_(s,e):i}function M_(s,e){return s instanceof Go?function(a){return If(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class jo extends nc{}class Yl extends nc{constructor(e){super(),this.elements=e}}function U_(s,e){const i=z_(e);for(const a of s.elements)i.some(u=>ii(u,a))||i.push(a);return{arrayValue:{values:i}}}class Xl extends nc{constructor(e){super(),this.elements=e}}function x_(s,e){let i=z_(e);for(const a of s.elements)i=i.filter(u=>!ii(u,a));return{arrayValue:{values:i}}}class Go extends nc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function hy(s){return ue(s.integerValue||s.doubleValue)}function z_(s){return Zf(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function qA(s,e){return s.field.isEqual(e.field)&&function(a,u){return a instanceof Yl&&u instanceof Yl||a instanceof Xl&&u instanceof Xl?gs(a.elements,u.elements,ii):a instanceof Go&&u instanceof Go?ii(a.Ie,u.Ie):a instanceof jo&&u instanceof jo}(s.transform,e.transform)}class kA{constructor(e,i){this.version=e,this.transformResults=i}}class Ni{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ni}static exists(e){return new Ni(void 0,e)}static updateTime(e){return new Ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function No(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class ic{}function L_(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new B_(s.key,Ni.none()):new $l(s.key,s.data,Ni.none());{const i=s.data,a=Vn.empty();let u=new be(Pe.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),u=u.add(h)}return new ga(s.key,a,new zn(u.toArray()),Ni.none())}}function HA(s,e,i){s instanceof $l?function(u,h,d){const g=u.value.clone(),_=dy(u.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,i):s instanceof ga?function(u,h,d){if(!No(u.precondition,h))return void h.convertToUnknownDocument(d.version);const g=dy(u.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(P_(u)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function kl(s,e,i,a){return s instanceof $l?function(h,d,g,_){if(!No(h.precondition,d))return g;const v=h.value.clone(),S=my(h.fieldTransforms,_,d);return v.setAll(S),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,a):s instanceof ga?function(h,d,g,_){if(!No(h.precondition,d))return g;const v=my(h.fieldTransforms,_,d),S=d.data;return S.setAll(P_(h)),S.setAll(v),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(V=>V.field))}(s,e,i,a):function(h,d,g){return No(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,e,i)}function jA(s,e){let i=null;for(const a of s.fieldTransforms){const u=e.data.field(a.field),h=M_(a.transform,u||null);h!=null&&(i===null&&(i=Vn.empty()),i.set(a.field,h))}return i||null}function fy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,u){return a===void 0&&u===void 0||!(!a||!u)&&gs(a,u,(h,d)=>qA(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class $l extends ic{constructor(e,i,a,u=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class ga extends ic{constructor(e,i,a,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function P_(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function dy(s,e,i){const a=new Map;Ht(s.length===i.length);for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,g=e.data.field(h.field);a.set(h.field,BA(d,g,i[u]))}return a}function my(s,e,i){const a=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);a.set(u.field,PA(h,d,e))}return a}class B_ extends ic{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GA extends ic{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,i,a,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&HA(h,e,a[u])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=kl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=kl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=N_();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(u.key)?null:g;const _=L_(d,g);_!==null&&a.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(mt.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Dt())}isEqual(e){return this.batchId===e.batchId&&gs(this.mutations,e.mutations,(i,a)=>fy(i,a))&&gs(this.baseMutations,e.baseMutations,(i,a)=>fy(i,a))}}class ed{constructor(e,i,a,u){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(e,i,a){Ht(e.mutations.length===a.length);let u=function(){return MA}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,a[d].version);return new ed(e,i,a,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me,Mt;function YA(s){switch(s){case F.OK:return ft();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return ft()}}function q_(s){if(s===void 0)return Mi("GRPC error has no .code"),F.UNKNOWN;switch(s){case me.OK:return F.OK;case me.CANCELLED:return F.CANCELLED;case me.UNKNOWN:return F.UNKNOWN;case me.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case me.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case me.INTERNAL:return F.INTERNAL;case me.UNAVAILABLE:return F.UNAVAILABLE;case me.UNAUTHENTICATED:return F.UNAUTHENTICATED;case me.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case me.NOT_FOUND:return F.NOT_FOUND;case me.ALREADY_EXISTS:return F.ALREADY_EXISTS;case me.PERMISSION_DENIED:return F.PERMISSION_DENIED;case me.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case me.ABORTED:return F.ABORTED;case me.OUT_OF_RANGE:return F.OUT_OF_RANGE;case me.UNIMPLEMENTED:return F.UNIMPLEMENTED;case me.DATA_LOSS:return F.DATA_LOSS;default:return ft()}}(Mt=me||(me={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=new Tr([4294967295,4294967295],0);function gy(s){const e=XA().encode(s),i=new n_;return i.update(e),new Uint8Array(i.digest())}function py(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Tr([i,a],0),new Tr([u,h],0)]}class nd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new zl(`Invalid padding: ${i}`);if(a<0)throw new zl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new zl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new zl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Tr.fromNumber(this.Ee)}Ae(e,i,a){let u=e.add(i.multiply(Tr.fromNumber(a)));return u.compare(ZA)===1&&(u=new Tr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=gy(e),[a,u]=py(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,u,h);if(!this.Re(d))return!1}return!0}static create(e,i,a){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new nd(h,u,i);return a.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=gy(e),[a,u]=py(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,u,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,i,a,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const u=new Map;return u.set(e,Jl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new rc(mt.min(),u,new te(Vt),Ui(),Dt())}}class Jl{constructor(e,i,a,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Jl(a,i,Dt(),Dt(),Dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,i,a,u){this.me=e,this.removedTargetIds=i,this.key=a,this.fe=u}}class k_{constructor(e,i){this.targetId=e,this.ge=i}}class H_{constructor(e,i,a=Be.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=u}}class yy{constructor(){this.pe=0,this.ye=_y(),this.we=Be.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Dt(),i=Dt(),a=Dt();return this.ye.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:ft()}}),new Jl(this.we,this.be,e,i,a)}Me(){this.Se=!1,this.ye=_y()}xe(e,i){this.Se=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ht(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class $A{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ui(),this.$e=wo(),this.Ke=wo(),this.Ue=new te(Vt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const a=this.He(i);switch(e.state){case 0:this.Je(i)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(i);break;case 3:this.Je(i)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),a.Ce(e.resumeToken));break;default:ft()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((a,u)=>{this.Je(u)&&i(u)})}Ze(e){const i=e.targetId,a=e.ge.count,u=this.Xe(i);if(u){const h=u.target;if(Of(h))if(a===0){const d=new ot(h.path);this.ze(i,d,Qe.newNoDocument(d,mt.min()))}else Ht(a===1);else{const d=this.et(i);if(d!==a){const g=this.tt(e),_=g?this.nt(g,e,d):1;if(_!==0){this.Ye(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,v)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:h=0}=i;let d,g;try{d=Rr(a).toUint8Array()}catch(_){if(_ instanceof f_)return ms("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new nd(d,u,h)}catch(_){return ms(_ instanceof zl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.Ee===0?null:g}nt(e,i,a){return i.ge.count===a-this.st(e,i.targetId)?0:2}st(e,i){const a=this.ke.getRemoteKeysForTarget(i);let u=0;return a.forEach(h=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,h,null),u++)}),u}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const g=this.Xe(d);if(g){if(h.current&&Of(g.target)){const _=new ot(g.target.path);this._t(_).has(d)||this.ut(d,_)||this.ze(d,_,Qe.newNoDocument(_,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let a=Dt();this.Ke.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this.Xe(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const u=new rc(e,i,this.Ue,this.Qe,a);return this.Qe=Ui(),this.$e=wo(),this.Ke=wo(),this.Ue=new te(Vt),u}Ge(e,i){if(!this.Je(e))return;const a=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,a),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ke=this.Ke.insert(i.key,this.ct(i.key).add(e))}ze(e,i,a){if(!this.Je(e))return;const u=this.He(e);this.ut(e,i)?u.xe(i,1):u.Oe(i),this.Ke=this.Ke.insert(i,this.ct(i).delete(e)),this.Ke=this.Ke.insert(i,this.ct(i).add(e)),a&&(this.Qe=this.Qe.insert(i,a))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new yy,this.qe.set(e,i)),i}ct(e){let i=this.Ke.get(e);return i||(i=new be(Vt),this.Ke=this.Ke.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new be(Vt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new yy),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function wo(){return new te(ot.comparator)}function _y(){return new te(ot.comparator)}const JA={asc:"ASCENDING",desc:"DESCENDING"},WA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tS={and:"AND",or:"OR"};class eS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function xf(s,e){return s.useProto3Json||Jo(e)?e:{value:e}}function Qo(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function j_(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function nS(s,e){return Qo(s,e.toTimestamp())}function ni(s){return Ht(!!s),mt.fromTimestamp(function(i){const a=br(i);return new Se(a.seconds,a.nanos)}(s))}function id(s,e){return zf(s,e).canonicalString()}function zf(s,e){const i=function(u){return new Zt(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function G_(s){const e=Zt.fromString(s);return Ht(X_(e)),e}function Lf(s,e){return id(s.databaseId,e.path)}function vf(s,e){const i=G_(e);if(i.get(1)!==s.databaseId.projectId)throw new rt(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new rt(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ot(F_(i))}function Q_(s,e){return id(s.databaseId,e)}function iS(s){const e=G_(s);return e.length===4?Zt.emptyPath():F_(e)}function Pf(s){return new Zt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function F_(s){return Ht(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function vy(s,e,i){return{name:Lf(s,e),fields:i.value.mapValue.fields}}function rS(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:ft()}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(v,S){return v.useProto3Json?(Ht(S===void 0||typeof S=="string"),Be.fromBase64String(S||"")):(Ht(S===void 0||S instanceof Buffer||S instanceof Uint8Array),Be.fromUint8Array(S||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const S=v.code===void 0?F.UNKNOWN:q_(v.code);return new rt(S,v.message||"")}(d);i=new H_(a,u,h,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const u=vf(s,a.document.name),h=ni(a.document.updateTime),d=a.document.createTime?ni(a.document.createTime):mt.min(),g=new Vn({mapValue:{fields:a.document.fields}}),_=Qe.newFoundDocument(u,h,d,g),v=a.targetIds||[],S=a.removedTargetIds||[];i=new Oo(v,S,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const u=vf(s,a.document),h=a.readTime?ni(a.readTime):mt.min(),d=Qe.newNoDocument(u,h),g=a.removedTargetIds||[];i=new Oo([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const u=vf(s,a.document),h=a.removedTargetIds||[];i=new Oo([],h,u,null)}else{if(!("filter"in e))return ft();{e.filter;const a=e.filter;a.targetId;const{count:u=0,unchangedNames:h}=a,d=new KA(u,h),g=a.targetId;i=new k_(g,d)}}return i}function aS(s,e){let i;if(e instanceof $l)i={update:vy(s,e.key,e.value)};else if(e instanceof B_)i={delete:Lf(s,e.key)};else if(e instanceof ga)i={update:vy(s,e.key,e.data),updateMask:mS(e.fieldMask)};else{if(!(e instanceof GA))return ft();i={verify:Lf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const g=d.transform;if(g instanceof jo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Yl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Xl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Go)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw ft()}(0,a))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:nS(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:ft()}(s,e.precondition)),i}function sS(s,e){return s&&s.length>0?(Ht(e!==void 0),s.map(i=>function(u,h){let d=u.updateTime?ni(u.updateTime):ni(h);return d.isEqual(mt.min())&&(d=ni(h)),new kA(d,u.transformResults||[])}(i,e))):[]}function lS(s,e){return{documents:[Q_(s,e.path)]}}function uS(s,e){const i={structuredQuery:{}},a=e.path;let u;e.collectionGroup!==null?(u=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=Q_(s,u);const h=function(v){if(v.length!==0)return Y_(Ln.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(S=>function(P){return{field:os(P.field),direction:hS(P.dir)}}(S))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=xf(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ht:i,parent:u}}function oS(s){let e=iS(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){Ht(a===1);const S=i.from[0];S.allDescendants?u=S.collectionId:e=e.child(S.collectionId)}let h=[];i.where&&(h=function(V){const P=K_(V);return P instanceof Ln&&A_(P)?P.getFilters():[P]}(i.where));let d=[];i.orderBy&&(d=function(V){return V.map(P=>function(X){return new Ho(cs(X.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(X.direction))}(P))}(i.orderBy));let g=null;i.limit&&(g=function(V){let P;return P=typeof V=="object"?V.value:V,Jo(P)?null:P}(i.limit));let _=null;i.startAt&&(_=function(V){const P=!!V.before,H=V.values||[];return new ko(H,P)}(i.startAt));let v=null;return i.endAt&&(v=function(V){const P=!V.before,H=V.values||[];return new ko(H,P)}(i.endAt)),CA(e,u,d,h,g,"F",_,v)}function cS(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function K_(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=cs(i.unaryFilter.field);return ge.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=cs(i.unaryFilter.field);return ge.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=cs(i.unaryFilter.field);return ge.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=cs(i.unaryFilter.field);return ge.create(d,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}(s):s.fieldFilter!==void 0?function(i){return ge.create(cs(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return Ln.create(i.compositeFilter.filters.map(a=>K_(a)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return ft()}}(i.compositeFilter.op))}(s):ft()}function hS(s){return JA[s]}function fS(s){return WA[s]}function dS(s){return tS[s]}function os(s){return{fieldPath:s.canonicalString()}}function cs(s){return Pe.fromServerFormat(s.fieldPath)}function Y_(s){return s instanceof ge?function(i){if(i.op==="=="){if(sy(i.value))return{unaryFilter:{field:os(i.field),op:"IS_NAN"}};if(ay(i.value))return{unaryFilter:{field:os(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(sy(i.value))return{unaryFilter:{field:os(i.field),op:"IS_NOT_NAN"}};if(ay(i.value))return{unaryFilter:{field:os(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:os(i.field),op:fS(i.op),value:i.value}}}(s):s instanceof Ln?function(i){const a=i.getFilters().map(u=>Y_(u));return a.length===1?a[0]:{compositeFilter:{op:dS(i.op),filters:a}}}(s):ft()}function mS(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function X_(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,i,a,u,h=mt.min(),d=mt.min(),g=Be.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new _r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.Tt=e}}function pS(s){const e=oS({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Uf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this.Tn=new _S}addToCollectionParentIndex(e,i){return this.Tn.add(i),Q.resolve()}getCollectionParents(e,i){return Q.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return Q.resolve()}deleteFieldIndex(e,i){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,i){return Q.resolve()}getDocumentsMatchingTarget(e,i){return Q.resolve(null)}getIndexType(e,i){return Q.resolve(0)}getFieldIndexes(e,i){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,i){return Q.resolve(Sr.min())}getMinOffsetFromCollectionGroup(e,i){return Q.resolve(Sr.min())}updateCollectionGroup(e,i,a){return Q.resolve()}updateIndexEntries(e,i){return Q.resolve()}}class _S{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i]||new be(Zt.comparator),h=!u.has(a);return this.index[i]=u.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(e){return(this.index[e]||new be(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Z_=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(Z_,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new _s(0)}static Un(){return new _s(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="LruGarbageCollector",vS=1048576;function Ay([s,e],[i,a]){const u=Vt(s,i);return u===0?Vt(e,a):u}class ES{constructor(e){this.Hn=e,this.buffer=new be(Ay),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Ay(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class TS{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){nt(Ty,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){bs(i)?nt(Ty,"Ignoring IndexedDB error during garbage collection: ",i):await Ss(i)}await this.er(3e5)})}}class AS{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return Q.resolve($o.ae);const a=new ES(i);return this.tr.forEachTarget(e,u=>a.Zn(u.sequenceNumber)).next(()=>this.tr.rr(e,u=>a.Zn(u))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.tr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(Ey)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ey):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let a,u,h,d,g,_,v;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(V=>(V>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${V}`),u=this.params.maximumSequenceNumbersToCollect):u=V,d=Date.now(),this.nthSequenceNumber(e,u))).next(V=>(a=V,g=Date.now(),this.removeTargets(e,a,i))).next(V=>(h=V,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(V=>(v=Date.now(),ls()<=Ut.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${V} documents in `+(v-_)+`ms
Total Duration: ${v-S}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:V})))}}function SS(s,e){return new AS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.changes=new ma(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Q.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,i,a,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(a=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(a!==null&&kl(a.mutation,u,zn.empty(),Se.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Dt()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Dt()){const u=ua();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,a).next(h=>{let d=xl();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=ua();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Dt()))}populateOverlays(e,i,a){const u=[];return a.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,a,u){let h=Ui();const d=ql(),g=function(){return ql()}();return i.forEach((_,v)=>{const S=a.get(v.key);u.has(v.key)&&(S===void 0||S.mutation instanceof ga)?h=h.insert(v.key,v):S!==void 0?(d.set(v.key,S.mutation.getFieldMask()),kl(S.mutation,v,S.mutation.getFieldMask(),Se.now())):d.set(v.key,zn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,S)=>d.set(v,S)),i.forEach((v,S)=>{var V;return g.set(v,new RS(S,(V=d.get(v))!==null&&V!==void 0?V:null))}),g))}recalculateAndSaveOverlays(e,i){const a=ql();let u=new te((d,g)=>d-g),h=Dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let S=a.get(_)||zn.empty();S=g.applyToLocalView(v,S),a.set(_,S);const V=(u.get(g.batchId)||Dt()).add(_);u=u.insert(g.batchId,V)})}).next(()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,S=_.value,V=N_();S.forEach(P=>{if(!h.has(P)){const H=L_(i.get(P),a.get(P));H!==null&&V.set(P,H),h=h.add(P)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,V))}return Q.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,u){return function(d){return ot.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):w_(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,u):this.getDocumentsMatchingCollectionQuery(e,i,a,u)}getNextDocuments(e,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,u-h.size):Q.resolve(ua());let g=Gl,_=h;return d.next(v=>Q.forEach(v,(S,V)=>(g<V.largestBatchId&&(g=V.largestBatchId),h.get(S)?Q.resolve():this.remoteDocumentCache.getEntry(e,S).next(P=>{_=_.insert(S,P)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,Dt())).next(S=>({batchId:g,changes:I_(S)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ot(i)).next(a=>{let u=xl();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,a,u){const h=i.collectionGroup;let d=xl();return this.indexManager.getCollectionParents(e,h).next(g=>Q.forEach(g,_=>{const v=function(V,P){return new Zl(P,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,u).next(S=>{S.forEach((V,P)=>{d=d.insert(V,P)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,u))).next(d=>{h.forEach((_,v)=>{const S=v.getKey();d.get(S)===null&&(d=d.insert(S,Qe.newInvalidDocument(S)))});let g=xl();return d.forEach((_,v)=>{const S=h.get(_);S!==void 0&&kl(S.mutation,v,zn.empty(),Se.now()),ec(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return Q.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:ni(u.createTime)}}(i)),Q.resolve()}getNamedQuery(e,i){return Q.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(u){return{name:u.name,query:pS(u.bundledQuery),readTime:ni(u.readTime)}}(i)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(){this.overlays=new te(ot.comparator),this.Rr=new Map}getOverlay(e,i){return Q.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ua();return Q.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&a.set(u,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((u,h)=>{this.Et(e,i,h)}),Q.resolve()}removeOverlaysForBatchId(e,i,a){const u=this.Rr.get(a);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(a)),Q.resolve()}getOverlaysForCollection(e,i,a){const u=ua(),h=i.length+1,d=new ot(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&u.set(_.getKey(),_)}return Q.resolve(u)}getOverlaysForCollectionGroup(e,i,a,u){let h=new te((v,S)=>v-S);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let S=h.get(v.largestBatchId);S===null&&(S=ua(),h=h.insert(v.largestBatchId,S)),S.set(v.getKey(),v)}}const g=ua(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,S)=>g.set(v,S)),!(g.size()>=u)););return Q.resolve(g)}Et(e,i,a){const u=this.overlays.get(a.key);if(u!==null){const d=this.Rr.get(u.largestBatchId).delete(a.key);this.Rr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new FA(i,a));let h=this.Rr.get(i);h===void 0&&(h=Dt(),this.Rr.set(i,h)),this.Rr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(){this.Vr=new be(Oe.mr),this.gr=new be(Oe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const a=new Oe(e,i);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.wr(new Oe(e,i))}br(e,i){e.forEach(a=>this.removeReference(a,i))}Sr(e){const i=new ot(new Zt([])),a=new Oe(i,e),u=new Oe(i,e+1),h=[];return this.gr.forEachInRange([a,u],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new ot(new Zt([])),a=new Oe(i,e),u=new Oe(i,e+1);let h=Dt();return this.gr.forEachInRange([a,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Oe(e,0),a=this.Vr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Oe{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return ot.comparator(e.key,i.key)||Vt(e.Cr,i.Cr)}static pr(e,i){return Vt(e.Cr,i.Cr)||ot.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new be(Oe.mr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,u){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new QA(h,i,a,u);this.mutationQueue.push(d);for(const g of u)this.Mr=this.Mr.add(new Oe(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Q.resolve(d)}lookupMutationBatch(e,i){return Q.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,u=this.Nr(a),h=u<0?0:u;return Q.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?Yf:this.Fr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Oe(i,0),u=new Oe(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([a,u],d=>{const g=this.Or(d.Cr);h.push(g)}),Q.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new be(Vt);return i.forEach(u=>{const h=new Oe(u,0),d=new Oe(u,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],g=>{a=a.add(g.Cr)})}),Q.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,u=a.length+1;let h=a;ot.isDocumentKey(h)||(h=h.child(""));const d=new Oe(new ot(h),0);let g=new be(Vt);return this.Mr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===u&&(g=g.add(_.Cr)),!0)},d),Q.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(a=>{const u=this.Or(a);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){Ht(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return Q.forEach(i.mutations,u=>{const h=new Oe(u.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,i){const a=new Oe(i,0),u=this.Mr.firstAfterOrEqual(a);return Q.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.kr=e,this.docs=function(){return new te(ot.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,u=this.docs.get(a),h=u?u.size:0,d=this.kr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Q.resolve(a?a.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(e,i){let a=Ui();return i.forEach(u=>{const h=this.docs.get(u);a=a.insert(u,h?h.document.mutableCopy():Qe.newInvalidDocument(u))}),Q.resolve(a)}getDocumentsMatchingQuery(e,i,a,u){let h=Ui();const d=i.path,g=new ot(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:S}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||sA(aA(S),a)<=0||(u.has(S.key)||ec(i,S))&&(h=h.insert(S.key,S.mutableCopy()))}return Q.resolve(h)}getAllFromCollectionGroup(e,i,a,u){ft()}qr(e,i){return Q.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new OS(this)}getSize(e){return Q.resolve(this.size)}}class OS extends bS{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((a,u)=>{u.isValidDocument()?i.push(this.Ir.addEntry(e,u)):this.Ir.removeEntry(a)}),Q.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e){this.persistence=e,this.Qr=new ma(i=>$f(i),Jf),this.lastRemoteSnapshotVersion=mt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new rd,this.targetCount=0,this.Ur=_s.Kn()}forEachTarget(e,i){return this.Qr.forEach((a,u)=>i(u)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.$r&&(this.$r=i),Q.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Ur=new _s(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,Q.resolve()}updateTargetData(e,i){return this.zn(i),Q.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Kr.Sr(i.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,i,a){let u=0;const h=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),Q.waitFor(h).next(()=>u)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,i){const a=this.Qr.get(i)||null;return Q.resolve(a)}addMatchingKeys(e,i,a){return this.Kr.yr(i,a),Q.resolve()}removeMatchingKeys(e,i,a){this.Kr.br(i,a);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),Q.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Kr.Sr(i),Q.resolve()}getMatchingKeysForTargetId(e,i){const a=this.Kr.vr(i);return Q.resolve(a)}containsKey(e,i){return Q.resolve(this.Kr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new $o(0),this.zr=!1,this.zr=!0,this.jr=new VS,this.referenceDelegate=e(this),this.Hr=new MS(this),this.indexManager=new yS,this.remoteDocumentCache=function(u){return new NS(u)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new gS(i),this.Yr=new DS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new CS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.Wr[e.toKey()];return a||(a=new IS(i,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,a){nt("MemoryPersistence","Starting transaction:",e);const u=new US(this.Gr.next());return this.referenceDelegate.Zr(),a(u).next(h=>this.referenceDelegate.Xr(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}ei(e,i){return Q.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,i)))}}class US extends uA{constructor(e){super(),this.currentSequenceNumber=e}}class ad{constructor(e){this.persistence=e,this.ti=new rd,this.ni=null}static ri(e){return new ad(e)}get ii(){if(this.ni)return this.ni;throw ft()}addReference(e,i,a){return this.ti.addReference(a,i),this.ii.delete(a.toString()),Q.resolve()}removeReference(e,i,a){return this.ti.removeReference(a,i),this.ii.add(a.toString()),Q.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),Q.resolve()}removeTarget(e,i){this.ti.Sr(i.targetId).forEach(u=>this.ii.add(u.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.ii.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ii,a=>{const u=ot.fromPath(a);return this.si(e,u).next(h=>{h||i.removeEntry(u,mt.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(a=>{a?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return Q.or([()=>Q.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class Fo{constructor(e,i){this.persistence=e,this.oi=new ma(a=>hA(a.path),(a,u)=>a.isEqual(u)),this.garbageCollector=SS(this,i)}static ri(e,i){return new Fo(e,i)}Zr(){}Xr(e){return Q.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(u=>a+u))}sr(e){let i=0;return this.rr(e,a=>{i++}).next(()=>i)}rr(e,i){return Q.forEach(this.oi,(a,u)=>this.ar(e,a,u).next(h=>h?Q.resolve():i(u)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.qr(e,d=>this.ar(e,d,i).next(g=>{g||(a++,h.removeEntry(d,mt.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),Q.resolve()}removeReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Vo(e.data.value)),i}ar(e,i,a){return Q.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.oi.get(i);return Q.resolve(u!==void 0&&u>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,i,a,u){this.targetId=e,this.fromCache=i,this.Hi=a,this.Ji=u}static Yi(e,i){let a=Dt(),u=Dt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new sd(e,i.fromCache,a,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return I0()?8:oA(C0())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,a,u){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,u,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new xS;return this._s(e,i,d).next(g=>{if(h.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>h.result)}us(e,i,a,u){return a.documentReadCount<this.es?(ls()<=Ut.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",us(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Q.resolve()):(ls()<=Ut.DEBUG&&nt("QueryEngine","Query:",us(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.ts*u?(ls()<=Ut.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",us(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(i))):Q.resolve())}rs(e,i){if(cy(i))return Q.resolve(null);let a=ei(i);return this.indexManager.getIndexType(e,a).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Uf(i,null,"F"),a=ei(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=Dt(...h);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.cs(i,g);return this.ls(i,v,d,_.readTime)?this.rs(e,Uf(i,null,"F")):this.hs(e,v,i,_)}))})))}ss(e,i,a,u){return cy(i)||u.isEqual(mt.min())?Q.resolve(null):this.ns.getDocuments(e,a).next(h=>{const d=this.cs(i,h);return this.ls(i,d,a,u)?Q.resolve(null):(ls()<=Ut.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),us(i)),this.hs(e,d,i,rA(u,Gl)).next(g=>g))})}cs(e,i){let a=new be(C_(e));return i.forEach((u,h)=>{ec(e,h)&&(a=a.add(h))}),a}ls(e,i,a,u){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}_s(e,i,a){return ls()<=Ut.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",us(i)),this.ns.getDocumentsMatchingQuery(e,i,Sr.min(),a)}hs(e,i,a,u){return this.ns.getDocumentsMatchingQuery(e,a,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld="LocalStore",LS=3e8;class PS{constructor(e,i,a,u){this.persistence=e,this.Ps=i,this.serializer=u,this.Ts=new te(Vt),this.Is=new ma(h=>$f(h),Jf),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function BS(s,e,i,a){return new PS(s,e,i,a)}async function J_(s,e){const i=pt(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next(h=>(u=h,i.As(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],g=[];let _=Dt();for(const v of u){d.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}for(const v of h){g.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(a,_).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:g}))})})}function qS(s,e){const i=pt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const u=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,_,v,S){const V=v.batch,P=V.keys();let H=Q.resolve();return P.forEach(X=>{H=H.next(()=>S.getEntry(_,X)).next(J=>{const Z=v.docVersions.get(X);Ht(Z!==null),J.version.compareTo(Z)<0&&(V.applyToRemoteDocument(J,v),J.isValidDocument()&&(J.setReadTime(v.commitVersion),S.addEntry(J)))})}),H.next(()=>g.mutationQueue.removeMutationBatch(_,V))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let _=Dt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,u))})}function W_(s){const e=pt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function kS(s,e){const i=pt(s),a=e.snapshotVersion;let u=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});u=i.Ts;const g=[];e.targetChanges.forEach((S,V)=>{const P=u.get(V);if(!P)return;g.push(i.Hr.removeMatchingKeys(h,S.removedDocuments,V).next(()=>i.Hr.addMatchingKeys(h,S.addedDocuments,V)));let H=P.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(V)!==null?H=H.withResumeToken(Be.EMPTY_BYTE_STRING,mt.min()).withLastLimboFreeSnapshotVersion(mt.min()):S.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(S.resumeToken,a)),u=u.insert(V,H),function(J,Z,yt){return J.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=LS?!0:yt.addedDocuments.size+yt.modifiedDocuments.size+yt.removedDocuments.size>0}(P,H,S)&&g.push(i.Hr.updateTargetData(h,H))});let _=Ui(),v=Dt();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,S))}),g.push(HS(h,d,e.documentUpdates).next(S=>{_=S.Vs,v=S.fs})),!a.isEqual(mt.min())){const S=i.Hr.getLastRemoteSnapshotVersion(h).next(V=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,a));g.push(S)}return Q.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ts=u,h))}function HS(s,e,i){let a=Dt(),u=Dt();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=Ui();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(u=u.add(g)),_.isNoDocument()&&_.version.isEqual(mt.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):nt(ld,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{Vs:d,fs:u}})}function jS(s,e){const i=pt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Yf),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function GS(s,e){const i=pt(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let u;return i.Hr.getTargetData(a,e).next(h=>h?(u=h,Q.resolve(u)):i.Hr.allocateTargetId(a).next(d=>(u=new _r(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Hr.addTargetData(a,u).next(()=>u))))}).then(a=>{const u=i.Ts.get(a.targetId);return(u===null||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(a.targetId,a),i.Is.set(e,a.targetId)),a})}async function Bf(s,e,i){const a=pt(s),u=a.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!bs(d))throw d;nt(ld,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ts=a.Ts.remove(e),a.Is.delete(u.target)}function Sy(s,e,i){const a=pt(s);let u=mt.min(),h=Dt();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,S){const V=pt(_),P=V.Is.get(S);return P!==void 0?Q.resolve(V.Ts.get(P)):V.Hr.getTargetData(v,S)}(a,d,ei(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>a.Ps.getDocumentsMatchingQuery(d,e,i?u:mt.min(),i?h:Dt())).next(g=>(QS(a,IA(e),g),{documents:g,gs:h})))}function QS(s,e,i){let a=s.Es.get(e)||mt.min();i.forEach((u,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Es.set(e,a)}class by{constructor(){this.activeTargetIds=zA()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FS{constructor(){this.ho=new by,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,a){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new by,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="ConnectivityMonitor";class wy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){nt(Ry,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){nt(Ry,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Do=null;function qf(){return Do===null?Do=function(){return 268435456+Math.round(2147483648*Math.random())}():Do++,"0x"+Do.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef="RestConnection",YS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XS{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${a}/databases/${u}`,this.wo=this.databaseId.database===Bo?`project_id=${a}`:`project_id=${a}&database_id=${u}`}bo(e,i,a,u,h){const d=qf(),g=this.So(e,i.toUriEncodedString());nt(Ef,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(_,u,h),this.vo(e,g,_,a).then(v=>(nt(Ef,`Received RPC '${e}' ${d}: `,v),v),v=>{throw ms(Ef,`RPC '${e}' ${d} failed with error: `,v,"url: ",g,"request:",a),v})}Co(e,i,a,u,h,d){return this.bo(e,i,a,u,h)}Do(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+As}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),a&&a.headers.forEach((u,h)=>e[h]=u)}So(e,i){const a=YS[e];return`${this.po}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const je="WebChannelConnection";class $S extends XS{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,a,u){const h=qf();return new Promise((d,g)=>{const _=new i_;_.setWithCredentials(!0),_.listenOnce(r_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Co.NO_ERROR:const S=_.getResponseJson();nt(je,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(S)),d(S);break;case Co.TIMEOUT:nt(je,`RPC '${e}' ${h} timed out`),g(new rt(F.DEADLINE_EXCEEDED,"Request time out"));break;case Co.HTTP_ERROR:const V=_.getStatus();if(nt(je,`RPC '${e}' ${h} failed with status:`,V,"response text:",_.getResponseText()),V>0){let P=_.getResponseJson();Array.isArray(P)&&(P=P[0]);const H=P==null?void 0:P.error;if(H&&H.status&&H.message){const X=function(Z){const yt=Z.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(yt)>=0?yt:F.UNKNOWN}(H.status);g(new rt(X,H.message))}else g(new rt(F.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new rt(F.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{nt(je,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(u);nt(je,`RPC '${e}' ${h} sending request:`,u),_.send(i,"POST",v,a,15)})}Wo(e,i,a){const u=qf(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=l_(),g=s_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Do(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const S=h.join("");nt(je,`Creating RPC '${e}' stream ${u}: ${S}`,_);const V=d.createWebChannel(S,_);let P=!1,H=!1;const X=new ZS({Fo:Z=>{H?nt(je,`Not sending because RPC '${e}' stream ${u} is closed:`,Z):(P||(nt(je,`Opening RPC '${e}' stream ${u} transport.`),V.open(),P=!0),nt(je,`RPC '${e}' stream ${u} sending:`,Z),V.send(Z))},Mo:()=>V.close()}),J=(Z,yt,dt)=>{Z.listen(yt,Tt=>{try{dt(Tt)}catch(Ft){setTimeout(()=>{throw Ft},0)}})};return J(V,Ul.EventType.OPEN,()=>{H||(nt(je,`RPC '${e}' stream ${u} transport opened.`),X.Qo())}),J(V,Ul.EventType.CLOSE,()=>{H||(H=!0,nt(je,`RPC '${e}' stream ${u} transport closed`),X.Ko())}),J(V,Ul.EventType.ERROR,Z=>{H||(H=!0,ms(je,`RPC '${e}' stream ${u} transport errored:`,Z),X.Ko(new rt(F.UNAVAILABLE,"The operation could not be completed")))}),J(V,Ul.EventType.MESSAGE,Z=>{var yt;if(!H){const dt=Z.data[0];Ht(!!dt);const Tt=dt,Ft=(Tt==null?void 0:Tt.error)||((yt=Tt[0])===null||yt===void 0?void 0:yt.error);if(Ft){nt(je,`RPC '${e}' stream ${u} received error:`,Ft);const _t=Ft.status;let xt=function(A){const D=me[A];if(D!==void 0)return q_(D)}(_t),M=Ft.message;xt===void 0&&(xt=F.INTERNAL,M="Unknown error status: "+_t+" with message "+Ft.message),H=!0,X.Ko(new rt(xt,M)),V.close()}else nt(je,`RPC '${e}' stream ${u} received:`,dt),X.Uo(dt)}}),J(g,a_.STAT_EVENT,Z=>{Z.stat===Cf.PROXY?nt(je,`RPC '${e}' stream ${u} detected buffering proxy`):Z.stat===Cf.NOPROXY&&nt(je,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{X.$o()},0),X}}function Tf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(s){return new eS(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,i,a=1e3,u=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=a,this.zo=u,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),u=Math.max(0,i-a);u>0&&nt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,u,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="PersistentStream";class ev{constructor(e,i,a,u,h,d,g,_){this.Ti=e,this.n_=a,this.r_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new tv(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===F.RESOURCE_EXHAUSTED?(Mi(i.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,u])=>{this.i_===i&&this.V_(a,u)},a=>{e(()=>{const u=new rt(F.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(u)})})}V_(e,i){const a=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(u=>{a(()=>this.m_(u))}),this.stream.onMessage(u=>{a(()=>++this.__==1?this.g_(u):this.onNext(u))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return nt(Dy,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(nt(Dy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JS extends ev{constructor(e,i,a,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=rS(this.serializer,e),a=function(h){if(!("targetChange"in h))return mt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?mt.min():d.readTime?ni(d.readTime):mt.min()}(e);return this.listener.p_(i,a)}y_(e){const i={};i.database=Pf(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=Of(_)?{documents:lS(h,_)}:{query:uS(h,_).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=j_(h,d.resumeToken);const v=xf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(mt.min())>0){g.readTime=Qo(h,d.snapshotVersion.toTimestamp());const v=xf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const a=cS(this.serializer,e);a&&(i.labels=a),this.I_(i)}w_(e){const i={};i.database=Pf(this.serializer),i.removeTarget=e,this.I_(i)}}class WS extends ev{constructor(e,i,a,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return Ht(!!e.streamToken),this.lastStreamToken=e.streamToken,Ht(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=sS(e.writeResults,e.commitTime),a=ni(e.commitTime);return this.listener.v_(a,i)}C_(){const e={};e.database=Pf(this.serializer),this.I_(e)}S_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>aS(this.serializer,a))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{}class e1 extends t1{constructor(e,i,a,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.F_=!1}M_(){if(this.F_)throw new rt(F.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,i,a,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.bo(e,zf(i,a),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new rt(F.UNKNOWN,h.toString())})}Co(e,i,a,u,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,zf(i,a),u,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(F.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class n1{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Mi(i),this.N_=!1):nt("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="RemoteStore";class i1{constructor(e,i,a,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{a.enqueueAndForget(async()=>{pa(this)&&(nt(fa,"Restarting streams for network reachability change."),await async function(_){const v=pt(_);v.W_.add(4),await Wl(v),v.j_.set("Unknown"),v.W_.delete(4),await sc(v)}(this))})}),this.j_=new n1(a,u)}}async function sc(s){if(pa(s))for(const e of s.G_)await e(!0)}async function Wl(s){for(const e of s.G_)await e(!1)}function nv(s,e){const i=pt(s);i.U_.has(e.targetId)||(i.U_.set(e.targetId,e),hd(i)?cd(i):Rs(i).c_()&&od(i,e))}function ud(s,e){const i=pt(s),a=Rs(i);i.U_.delete(e),a.c_()&&iv(i,e),i.U_.size===0&&(a.c_()?a.P_():pa(i)&&i.j_.set("Unknown"))}function od(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(mt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Rs(s).y_(e)}function iv(s,e){s.H_.Ne(e),Rs(s).w_(e)}function cd(s){s.H_=new $A({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.U_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),Rs(s).start(),s.j_.B_()}function hd(s){return pa(s)&&!Rs(s).u_()&&s.U_.size>0}function pa(s){return pt(s).W_.size===0}function rv(s){s.H_=void 0}async function r1(s){s.j_.set("Online")}async function a1(s){s.U_.forEach((e,i)=>{od(s,e)})}async function s1(s,e){rv(s),hd(s)?(s.j_.q_(e),cd(s)):s.j_.set("Unknown")}async function l1(s,e,i){if(s.j_.set("Online"),e instanceof H_&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const g of h.targetIds)u.U_.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u.U_.delete(g),u.H_.removeTarget(g))}(s,e)}catch(a){nt(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Ko(s,a)}else if(e instanceof Oo?s.H_.We(e):e instanceof k_?s.H_.Ze(e):s.H_.je(e),!i.isEqual(mt.min()))try{const a=await W_(s.localStore);i.compareTo(a)>=0&&await function(h,d){const g=h.H_.ot(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const S=h.U_.get(v);S&&h.U_.set(v,S.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const S=h.U_.get(_);if(!S)return;h.U_.set(_,S.withResumeToken(Be.EMPTY_BYTE_STRING,S.snapshotVersion)),iv(h,_);const V=new _r(S.target,_,v,S.sequenceNumber);od(h,V)}),h.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(a){nt(fa,"Failed to raise snapshot:",a),await Ko(s,a)}}async function Ko(s,e,i){if(!bs(e))throw e;s.W_.add(1),await Wl(s),s.j_.set("Offline"),i||(i=()=>W_(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{nt(fa,"Retrying IndexedDB access"),await i(),s.W_.delete(1),await sc(s)})}function av(s,e){return e().catch(i=>Ko(s,i,e))}async function lc(s){const e=pt(s),i=Dr(e);let a=e.K_.length>0?e.K_[e.K_.length-1].batchId:Yf;for(;u1(e);)try{const u=await jS(e.localStore,a);if(u===null){e.K_.length===0&&i.P_();break}a=u.batchId,o1(e,u)}catch(u){await Ko(e,u)}sv(e)&&lv(e)}function u1(s){return pa(s)&&s.K_.length<10}function o1(s,e){s.K_.push(e);const i=Dr(s);i.c_()&&i.b_&&i.S_(e.mutations)}function sv(s){return pa(s)&&!Dr(s).u_()&&s.K_.length>0}function lv(s){Dr(s).start()}async function c1(s){Dr(s).C_()}async function h1(s){const e=Dr(s);for(const i of s.K_)e.S_(i.mutations)}async function f1(s,e,i){const a=s.K_.shift(),u=ed.from(a,e,i);await av(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await lc(s)}async function d1(s,e){e&&Dr(s).b_&&await async function(a,u){if(function(d){return YA(d)&&d!==F.ABORTED}(u.code)){const h=a.K_.shift();Dr(a).h_(),await av(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,u)),await lc(a)}}(s,e),sv(s)&&lv(s)}async function Cy(s,e){const i=pt(s);i.asyncQueue.verifyOperationInProgress(),nt(fa,"RemoteStore received new credentials");const a=pa(i);i.W_.add(3),await Wl(i),a&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await sc(i)}async function m1(s,e){const i=pt(s);e?(i.W_.delete(2),await sc(i)):e||(i.W_.add(2),await Wl(i),i.j_.set("Unknown"))}function Rs(s){return s.J_||(s.J_=function(i,a,u){const h=pt(i);return h.M_(),new JS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{xo:r1.bind(null,s),No:a1.bind(null,s),Lo:s1.bind(null,s),p_:l1.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),hd(s)?cd(s):s.j_.set("Unknown")):(await s.J_.stop(),rv(s))})),s.J_}function Dr(s){return s.Y_||(s.Y_=function(i,a,u){const h=pt(i);return h.M_(),new WS(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:c1.bind(null,s),Lo:d1.bind(null,s),D_:h1.bind(null,s),v_:f1.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await lc(s)):(await s.Y_.stop(),s.K_.length>0&&(nt(fa,`Stopping write stream with ${s.K_.length} pending writes`),s.K_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,i,a,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=h,this.deferred=new oa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,u,h){const d=Date.now()+a,g=new fd(e,i,d,u,h);return g.start(a),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dd(s,e){if(Mi("AsyncQueue",`${e}: ${s}`),bs(s))return new rt(F.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{static emptySet(e){return new fs(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ot.comparator(i.key,a.key):(i,a)=>ot.comparator(i.key,a.key),this.keyedMap=xl(),this.sortedSet=new te(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof fs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new fs;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(){this.Z_=new te(ot.comparator)}track(e){const i=e.doc.key,a=this.Z_.get(i);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(i):e.type===1&&a.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):ft():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,a)=>{e.push(a)}),e}}class vs{constructor(e,i,a,u,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,u,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new vs(e,i,fs.emptySet(i),d,a,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class p1{constructor(){this.queries=Iy(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,a){const u=pt(i),h=u.queries;u.queries=Iy(),h.forEach((d,g)=>{for(const _ of g.ta)_.onError(a)})})(this,new rt(F.ABORTED,"Firestore shutting down"))}}function Iy(){return new ma(s=>D_(s),tc)}async function y1(s,e){const i=pt(s);let a=3;const u=e.query;let h=i.queries.get(u);h?!h.na()&&e.ra()&&(a=2):(h=new g1,a=e.ra()?0:1);try{switch(a){case 0:h.ea=await i.onListen(u,!0);break;case 1:h.ea=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=dd(d,`Initialization of query '${us(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&md(i)}async function _1(s,e){const i=pt(s),a=e.query;let u=3;const h=i.queries.get(a);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?u=e.ra()?0:1:!h.na()&&e.ra()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function v1(s,e){const i=pt(s);let a=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const g of d.ta)g.oa(u)&&(a=!0);d.ea=u}}a&&md(i)}function E1(s,e,i){const a=pt(s),u=a.queries.get(e);if(u)for(const h of u.ta)h.onError(i);a.queries.delete(e)}function md(s){s.ia.forEach(e=>{e.next()})}var kf,Ny;(Ny=kf||(kf={}))._a="default",Ny.Cache="cache";class T1{constructor(e,i,a){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const u of e.docChanges)u.type!==3&&a.push(u);e=new vs(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const a=i!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=vs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==kf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e){this.key=e}}class ov{constructor(e){this.key=e}}class A1{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Dt(),this.mutatedKeys=Dt(),this.ya=C_(e),this.wa=new fs(this.ya)}get ba(){return this.fa}Sa(e,i){const a=i?i.Da:new Vy,u=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,v=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((S,V)=>{const P=u.get(S),H=ec(this.query,V)?V:null,X=!!P&&this.mutatedKeys.has(P.key),J=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Z=!1;P&&H?P.data.isEqual(H.data)?X!==J&&(a.track({type:3,doc:H}),Z=!0):this.va(P,H)||(a.track({type:2,doc:H}),Z=!0,(_&&this.ya(H,_)>0||v&&this.ya(H,v)<0)&&(g=!0)):!P&&H?(a.track({type:0,doc:H}),Z=!0):P&&!H&&(a.track({type:1,doc:P}),Z=!0,(_||v)&&(g=!0)),Z&&(H?(d=d.add(H),h=J?h.add(S):h.delete(S)):(d=d.delete(S),h=h.delete(S)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),h=h.delete(S.key),a.track({type:1,doc:S})}return{wa:d,Da:a,ls:g,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,u){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((S,V)=>function(H,X){const J=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return J(H)-J(X)}(S.type,V.type)||this.ya(S.doc,V.doc)),this.Ca(a),u=u!=null&&u;const g=i&&!u?this.Fa():[],_=this.pa.size===0&&this.current&&!u?1:0,v=_!==this.ga;return this.ga=_,d.length!==0||v?{snapshot:new vs(this.query,e.wa,h,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Vy,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Dt(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const i=[];return e.forEach(a=>{this.pa.has(a)||i.push(new ov(a))}),this.pa.forEach(a=>{e.has(a)||i.push(new uv(a))}),i}Oa(e){this.fa=e.gs,this.pa=Dt();const i=this.Sa(e.documents);return this.applyChanges(i,!0)}Na(){return vs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const gd="SyncEngine";class S1{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class b1{constructor(e){this.key=e,this.Ba=!1}}class R1{constructor(e,i,a,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new ma(g=>D_(g),tc),this.qa=new Map,this.Qa=new Set,this.$a=new te(ot.comparator),this.Ka=new Map,this.Ua=new rd,this.Wa={},this.Ga=new Map,this.za=_s.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function w1(s,e,i=!0){const a=gv(s);let u;const h=a.ka.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.Na()):u=await cv(a,e,i,!0),u}async function D1(s,e){const i=gv(s);await cv(i,e,!0,!1)}async function cv(s,e,i,a){const u=await GS(s.localStore,ei(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await C1(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&nv(s.remoteStore,u),g}async function C1(s,e,i,a,u){s.Ha=(V,P,H)=>async function(J,Z,yt,dt){let Tt=Z.view.Sa(yt);Tt.ls&&(Tt=await Sy(J.localStore,Z.query,!1).then(({documents:M})=>Z.view.Sa(M,Tt)));const Ft=dt&&dt.targetChanges.get(Z.targetId),_t=dt&&dt.targetMismatches.get(Z.targetId)!=null,xt=Z.view.applyChanges(Tt,J.isPrimaryClient,Ft,_t);return My(J,Z.targetId,xt.Ma),xt.snapshot}(s,V,P,H);const h=await Sy(s.localStore,e,!0),d=new A1(e,h.gs),g=d.Sa(h.documents),_=Jl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",u),v=d.applyChanges(g,s.isPrimaryClient,_);My(s,i,v.Ma);const S=new S1(e,i,d);return s.ka.set(e,S),s.qa.has(i)?s.qa.get(i).push(e):s.qa.set(i,[e]),v.snapshot}async function V1(s,e,i){const a=pt(s),u=a.ka.get(e),h=a.qa.get(u.targetId);if(h.length>1)return a.qa.set(u.targetId,h.filter(d=>!tc(d,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||await Bf(a.localStore,u.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(u.targetId),i&&ud(a.remoteStore,u.targetId),Hf(a,u.targetId)}).catch(Ss)):(Hf(a,u.targetId),await Bf(a.localStore,u.targetId,!0))}async function I1(s,e){const i=pt(s),a=i.ka.get(e),u=i.qa.get(a.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),ud(i.remoteStore,a.targetId))}async function N1(s,e,i){const a=P1(s);try{const u=await function(d,g){const _=pt(d),v=Se.now(),S=g.reduce((H,X)=>H.add(X.key),Dt());let V,P;return _.persistence.runTransaction("Locally write mutations","readwrite",H=>{let X=Ui(),J=Dt();return _.ds.getEntries(H,S).next(Z=>{X=Z,X.forEach((yt,dt)=>{dt.isValidDocument()||(J=J.add(yt))})}).next(()=>_.localDocuments.getOverlayedDocuments(H,X)).next(Z=>{V=Z;const yt=[];for(const dt of g){const Tt=jA(dt,V.get(dt.key).overlayedDocument);Tt!=null&&yt.push(new ga(dt.key,Tt,v_(Tt.value.mapValue),Ni.exists(!0)))}return _.mutationQueue.addMutationBatch(H,v,yt,g)}).next(Z=>{P=Z;const yt=Z.applyToLocalDocumentSet(V,J);return _.documentOverlayCache.saveOverlays(H,Z.batchId,yt)})}).then(()=>({batchId:P.batchId,changes:I_(V)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(u.batchId),function(d,g,_){let v=d.Wa[d.currentUser.toKey()];v||(v=new te(Vt)),v=v.insert(g,_),d.Wa[d.currentUser.toKey()]=v}(a,u.batchId,i),await tu(a,u.changes),await lc(a.remoteStore)}catch(u){const h=dd(u,"Failed to persist write");i.reject(h)}}async function hv(s,e){const i=pt(s);try{const a=await kS(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Ka.get(h);d&&(Ht(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?d.Ba=!0:u.modifiedDocuments.size>0?Ht(d.Ba):u.removedDocuments.size>0&&(Ht(d.Ba),d.Ba=!1))}),await tu(i,a,e)}catch(a){await Ss(a)}}function Oy(s,e,i){const a=pt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const u=[];a.ka.forEach((h,d)=>{const g=d.view.sa(e);g.snapshot&&u.push(g.snapshot)}),function(d,g){const _=pt(d);_.onlineState=g;let v=!1;_.queries.forEach((S,V)=>{for(const P of V.ta)P.sa(g)&&(v=!0)}),v&&md(_)}(a.eventManager,e),u.length&&a.La.p_(u),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function O1(s,e,i){const a=pt(s);a.sharedClientState.updateQueryState(e,"rejected",i);const u=a.Ka.get(e),h=u&&u.key;if(h){let d=new te(ot.comparator);d=d.insert(h,Qe.newNoDocument(h,mt.min()));const g=Dt().add(h),_=new rc(mt.min(),new Map,new te(Vt),d,g);await hv(a,_),a.$a=a.$a.remove(h),a.Ka.delete(e),pd(a)}else await Bf(a.localStore,e,!1).then(()=>Hf(a,e,i)).catch(Ss)}async function M1(s,e){const i=pt(s),a=e.batch.batchId;try{const u=await qS(i.localStore,e);dv(i,a,null),fv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await tu(i,u)}catch(u){await Ss(u)}}async function U1(s,e,i){const a=pt(s);try{const u=await function(d,g){const _=pt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let S;return _.mutationQueue.lookupMutationBatch(v,g).next(V=>(Ht(V!==null),S=V.keys(),_.mutationQueue.removeMutationBatch(v,V))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,S,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,S)).next(()=>_.localDocuments.getDocuments(v,S))})}(a.localStore,e);dv(a,e,i),fv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await tu(a,u)}catch(u){await Ss(u)}}function fv(s,e){(s.Ga.get(e)||[]).forEach(i=>{i.resolve()}),s.Ga.delete(e)}function dv(s,e,i){const a=pt(s);let u=a.Wa[a.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),a.Wa[a.currentUser.toKey()]=u}}function Hf(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.qa.get(e))s.ka.delete(a),i&&s.La.Ja(a,i);s.qa.delete(e),s.isPrimaryClient&&s.Ua.Sr(e).forEach(a=>{s.Ua.containsKey(a)||mv(s,a)})}function mv(s,e){s.Qa.delete(e.path.canonicalString());const i=s.$a.get(e);i!==null&&(ud(s.remoteStore,i),s.$a=s.$a.remove(e),s.Ka.delete(i),pd(s))}function My(s,e,i){for(const a of i)a instanceof uv?(s.Ua.addReference(a.key,e),x1(s,a)):a instanceof ov?(nt(gd,"Document no longer in limbo: "+a.key),s.Ua.removeReference(a.key,e),s.Ua.containsKey(a.key)||mv(s,a.key)):ft()}function x1(s,e){const i=e.key,a=i.path.canonicalString();s.$a.get(i)||s.Qa.has(a)||(nt(gd,"New document in limbo: "+i),s.Qa.add(a),pd(s))}function pd(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const i=new ot(Zt.fromString(e)),a=s.za.next();s.Ka.set(a,new b1(i)),s.$a=s.$a.insert(i,a),nv(s.remoteStore,new _r(ei(Wf(i.path)),a,"TargetPurposeLimboResolution",$o.ae))}}async function tu(s,e,i){const a=pt(s),u=[],h=[],d=[];a.ka.isEmpty()||(a.ka.forEach((g,_)=>{d.push(a.Ha(_,e,i).then(v=>{var S;if((v||i)&&a.isPrimaryClient){const V=v?!v.fromCache:(S=i==null?void 0:i.targetChanges.get(_.targetId))===null||S===void 0?void 0:S.current;a.sharedClientState.updateQueryState(_.targetId,V?"current":"not-current")}if(v){u.push(v);const V=sd.Yi(_.targetId,v);h.push(V)}}))}),await Promise.all(d),a.La.p_(u),await async function(_,v){const S=pt(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",V=>Q.forEach(v,P=>Q.forEach(P.Hi,H=>S.persistence.referenceDelegate.addReference(V,P.targetId,H)).next(()=>Q.forEach(P.Ji,H=>S.persistence.referenceDelegate.removeReference(V,P.targetId,H)))))}catch(V){if(!bs(V))throw V;nt(ld,"Failed to update sequence numbers: "+V)}for(const V of v){const P=V.targetId;if(!V.fromCache){const H=S.Ts.get(P),X=H.snapshotVersion,J=H.withLastLimboFreeSnapshotVersion(X);S.Ts=S.Ts.insert(P,J)}}}(a.localStore,h))}async function z1(s,e){const i=pt(s);if(!i.currentUser.isEqual(e)){nt(gd,"User change. New user:",e.toKey());const a=await J_(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(g=>{g.forEach(_=>{_.reject(new rt(F.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await tu(i,a.Rs)}}function L1(s,e){const i=pt(s),a=i.Ka.get(e);if(a&&a.Ba)return Dt().add(a.key);{let u=Dt();const h=i.qa.get(e);if(!h)return u;for(const d of h){const g=i.ka.get(d);u=u.unionWith(g.view.ba)}return u}}function gv(s){const e=pt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=hv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=L1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=O1.bind(null,e),e.La.p_=v1.bind(null,e.eventManager),e.La.Ja=E1.bind(null,e.eventManager),e}function P1(s){const e=pt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=M1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=U1.bind(null,e),e}class Yo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ac(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return BS(this.persistence,new zS,e.initialUser,this.serializer)}Xa(e){return new $_(ad.ri,this.serializer)}Za(e){return new FS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yo.provider={build:()=>new Yo};class B1 extends Yo{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){Ht(this.persistence.referenceDelegate instanceof Fo);const a=this.persistence.referenceDelegate.garbageCollector;return new TS(a,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new $_(a=>Fo.ri(a,i),this.serializer)}}class jf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Oy(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=z1.bind(null,this.syncEngine),await m1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new p1}()}createDatastore(e){const i=ac(e.databaseInfo.databaseId),a=function(h){return new $S(h)}(e.databaseInfo);return function(h,d,g,_){return new e1(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,u,h,d,g){return new i1(a,u,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>Oy(this.syncEngine,i,0),function(){return wy.D()?new wy:new KS}())}createSyncEngine(e,i){return function(u,h,d,g,_,v,S){const V=new R1(u,h,d,g,_,v);return S&&(V.ja=!0),V}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=pt(u);nt(fa,"RemoteStore shutting down."),h.W_.add(5),await Wl(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}jf.provider={build:()=>new jf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="FirestoreClient";class k1{constructor(e,i,a,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=Ge.UNAUTHENTICATED,this.clientId=o_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{nt(Cr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(nt(Cr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=dd(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Af(s,e){s.asyncQueue.verifyOperationInProgress(),nt(Cr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async u=>{a.isEqual(u)||(await J_(e.localStore,u),a=u)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function Uy(s,e){s.asyncQueue.verifyOperationInProgress();const i=await H1(s);nt(Cr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>Cy(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,u)=>Cy(e.remoteStore,u)),s._onlineComponents=e}async function H1(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){nt(Cr,"Using user provided OfflineComponentProvider");try{await Af(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===F.FAILED_PRECONDITION||u.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;ms("Error using user provided cache. Falling back to memory cache: "+i),await Af(s,new Yo)}}else nt(Cr,"Using default OfflineComponentProvider"),await Af(s,new B1(void 0));return s._offlineComponents}async function pv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(nt(Cr,"Using user provided OnlineComponentProvider"),await Uy(s,s._uninitializedComponentsProvider._online)):(nt(Cr,"Using default OnlineComponentProvider"),await Uy(s,new jf))),s._onlineComponents}function j1(s){return pv(s).then(e=>e.syncEngine)}async function xy(s){const e=await pv(s),i=e.eventManager;return i.onListen=w1.bind(null,e.syncEngine),i.onUnlisten=V1.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=D1.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=I1.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(s,e,i){if(!i)throw new rt(F.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function G1(s,e,i,a){if(e===!0&&a===!0)throw new rt(F.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Ly(s){if(!ot.isDocumentKey(s))throw new rt(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Py(s){if(ot.isDocumentKey(s))throw new rt(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function uc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":ft()}function ds(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new rt(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=uc(s);throw new rt(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="firestore.googleapis.com",By=!0;class qy{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new rt(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vv,this.ssl=By}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:By;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Z_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vS)throw new rt(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yv((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new rt(F.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new rt(F.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new rt(F.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,u){return a.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class oc{constructor(e,i,a,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new ZT;switch(a.type){case"firstParty":return new tA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new rt(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=zy.get(i);a&&(nt("ComponentProvider","Removing Datastore"),zy.delete(i),a.terminate())}(this),Promise.resolve()}}function Q1(s,e,i,a={}){var u;const h=(s=ds(s,oc))._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:s._getEmulatorOptions()}),g=`${e}:${i}`;h.host!==vv&&h.host!==g&&ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},h),{host:g,ssl:!1,emulatorOptions:a});if(!xo(_,d)&&(s._setSettings(_),a.mockUserToken)){let v,S;if(typeof a.mockUserToken=="string")v=a.mockUserToken,S=Ge.MOCK_USER;else{v=D0(a.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const V=a.mockUserToken.sub||a.mockUserToken.user_id;if(!V)throw new rt(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Ge(V)}s._authCredentials=new $T(new u_(v,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new ws(this.firestore,e,this._query)}}class rn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rn(this.firestore,e,this._key)}}class Ar extends ws{constructor(e,i,a){super(e,i,Wf(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rn(this.firestore,null,new ot(e))}withConverter(e){return new Ar(this.firestore,e,this._path)}}function F1(s,e,...i){if(s=ca(s),_v("collection","path",e),s instanceof oc){const a=Zt.fromString(e,...i);return Py(a),new Ar(s,null,a)}{if(!(s instanceof rn||s instanceof Ar))throw new rt(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Zt.fromString(e,...i));return Py(a),new Ar(s.firestore,null,a)}}function K1(s,e,...i){if(s=ca(s),arguments.length===1&&(e=o_.newId()),_v("doc","path",e),s instanceof oc){const a=Zt.fromString(e,...i);return Ly(a),new rn(s,null,new ot(a))}{if(!(s instanceof rn||s instanceof Ar))throw new rt(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Zt.fromString(e,...i));return Ly(a),new rn(s.firestore,s instanceof Ar?s.converter:null,new ot(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="AsyncQueue";class Hy{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new tv(this,"async_queue_retry"),this.bu=()=>{const a=Tf();a&&nt(ky,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.Su=e;const i=Tf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=Tf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new oa;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!bs(e))throw e;nt(ky,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.Su.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const u=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(a);throw Mi("INTERNAL UNHANDLED ERROR: ",u),a}).then(a=>(this.pu=!1,a))));return this.Su=i,i}enqueueAfterDelay(e,i,a){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const u=fd.createAndSchedule(this,e,i,a,h=>this.Fu(h));return this.fu.push(u),u}Du(){this.gu&&ft()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}function jy(s){return function(i,a){if(typeof i!="object"||i===null)return!1;const u=i;for(const h of a)if(h in u&&typeof u[h]=="function")return!0;return!1}(s,["next","error","complete"])}class Xo extends oc{constructor(e,i,a,u){super(e,i,a,u),this.type="firestore",this._queue=new Hy,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Hy(e),this._firestoreClient=void 0,await e}}}function Y1(s,e){const i=typeof s=="object"?s:LT(),a=typeof s=="string"?s:Bo,u=OT(i,"firestore").getImmediate({identifier:a});if(!u._initialized){const h=R0("firestore");h&&Q1(u,...h)}return u}function Ev(s){if(s._terminated)throw new rt(F.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||X1(s),s._firestoreClient}function X1(s){var e,i,a;const u=s._freezeSettings(),h=function(g,_,v,S){return new mA(g,_,v,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,yv(S.experimentalLongPollingOptions),S.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=u.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new k1(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Es(Be.fromBase64String(e))}catch(i){throw new rt(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Es(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new rt(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new rt(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new rt(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,u){if(a.length!==u.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=/^__.*__$/;class $1{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new ga(e,this.data,this.fieldMask,i,this.fieldTransforms):new $l(e,this.data,i,this.fieldTransforms)}}function Av(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class Ed{constructor(e,i,a,u,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Ed(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:a,Qu:!1});return u.$u(e),u}Ku(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:a,Qu:!1});return u.Bu(),u}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Zo(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Av(this.Lu)&&Z1.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class J1{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||ac(e)}ju(e,i,a,u=!1){return new Ed({Lu:e,methodName:i,zu:a,path:Pe.emptyPath(),Qu:!1,Gu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sv(s){const e=s._freezeSettings(),i=ac(s._databaseId);return new J1(s._databaseId,!!e.ignoreUndefinedProperties,i)}function W1(s,e,i,a,u,h={}){const d=s.ju(h.merge||h.mergeFields?2:0,e,i,u);wv("Data must be an object, but it was:",d,a);const g=bv(a,d);let _,v;if(h.merge)_=new zn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const S=[];for(const V of h.mergeFields){const P=eb(e,V,i);if(!d.contains(P))throw new rt(F.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);ib(S,P)||S.push(P)}_=new zn(S),v=d.fieldTransforms.filter(V=>_.covers(V.field))}else _=null,v=d.fieldTransforms;return new $1(new Vn(g),_,v)}function tb(s,e,i,a=!1){return Td(i,s.ju(a?4:3,e))}function Td(s,e){if(Rv(s=ca(s)))return wv("Unsupported field value:",e,s),bv(s,e);if(s instanceof Tv)return function(a,u){if(!Av(u.Lu))throw u.Wu(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Wu(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,u){const h=[];let d=0;for(const g of a){let _=Td(g,u.Uu(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,u){if((a=ca(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return LA(u.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Se.fromDate(a);return{timestampValue:Qo(u.serializer,h)}}if(a instanceof Se){const h=new Se(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Qo(u.serializer,h)}}if(a instanceof _d)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Es)return{bytesValue:j_(u.serializer,a._byteString)};if(a instanceof rn){const h=u.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw u.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:id(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof vd)return function(d,g){return{mapValue:{fields:{[y_]:{stringValue:__},[qo]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Wu("VectorValues must only contain numeric values.");return td(g.serializer,v)})}}}}}}(a,u);throw u.Wu(`Unsupported field value: ${uc(a)}`)}(s,e)}function bv(s,e){const i={};return h_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):da(s,(a,u)=>{const h=Td(u,e.qu(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function Rv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Se||s instanceof _d||s instanceof Es||s instanceof rn||s instanceof Tv||s instanceof vd)}function wv(s,e,i){if(!Rv(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const a=uc(i);throw a==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+a)}}function eb(s,e,i){if((e=ca(e))instanceof yd)return e._internalPath;if(typeof e=="string")return Dv(s,e);throw Zo("Field path arguments must be of type string or ",s,!1,void 0,i)}const nb=new RegExp("[~\\*/\\[\\]]");function Dv(s,e,i){if(e.search(nb)>=0)throw Zo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new yd(...e.split("."))._internalPath}catch{throw Zo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Zo(s,e,i,a,u){const h=a&&!a.isEmpty(),d=u!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${u}`),_+=")"),new rt(F.INVALID_ARGUMENT,g+s+_)}function ib(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,i,a,u,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new rn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Vv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class rb extends Cv{data(){return super.data()}}function Vv(s,e){return typeof e=="string"?Dv(s,e):e instanceof yd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new rt(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ad{}class sb extends Ad{}function lb(s,e,...i){let a=[];e instanceof Ad&&a.push(e),a=a.concat(i),function(h){const d=h.filter(_=>_ instanceof bd).length,g=h.filter(_=>_ instanceof Sd).length;if(d>1||d>0&&g>0)throw new rt(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const u of a)s=u._apply(s);return s}class Sd extends sb{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Sd(e,i,a)}_apply(e){const i=this._parse(e);return Iv(e._query,i),new ws(e.firestore,e.converter,Mf(e._query,i))}_parse(e){const i=Sv(e.firestore);return function(h,d,g,_,v,S,V){let P;if(v.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new rt(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){Qy(V,S);const X=[];for(const J of V)X.push(Gy(_,h,J));P={arrayValue:{values:X}}}else P=Gy(_,h,V)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||Qy(V,S),P=tb(g,d,V,S==="in"||S==="not-in");return ge.create(v,S,P)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class bd extends Ad{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new bd(e,i)}_parse(e){const i=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return i.length===1?i[0]:Ln.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(u,h){let d=u;const g=h.getFlattenedFilters();for(const _ of g)Iv(d,_),d=Mf(d,_)}(e._query,i),new ws(e.firestore,e.converter,Mf(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Gy(s,e,i){if(typeof(i=ca(i))=="string"){if(i==="")throw new rt(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!w_(e)&&i.indexOf("/")!==-1)throw new rt(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(Zt.fromString(i));if(!ot.isDocumentKey(a))throw new rt(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return ry(s,new ot(a))}if(i instanceof rn)return ry(s,i._key);throw new rt(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uc(i)}.`)}function Qy(s,e){if(!Array.isArray(s)||s.length===0)throw new rt(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Iv(s,e){const i=function(u,h){for(const d of u)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null}(s.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new rt(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new rt(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class ub{convertValue(e,i="none"){switch(wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw ft()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return da(e,(u,h)=>{a[u]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,u;const h=(u=(a=(i=e.fields)===null||i===void 0?void 0:i[qo].arrayValue)===null||a===void 0?void 0:a.values)===null||u===void 0?void 0:u.map(d=>ue(d.doubleValue));return new vd(h)}convertGeoPoint(e){return new _d(ue(e.latitude),ue(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Wo(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ql(e));default:return null}}convertTimestamp(e){const i=br(e);return new Se(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Zt.fromString(e);Ht(X_(a));const u=new Fl(a.get(1),a.get(3)),h=new ot(a.popFirst(5));return u.isEqual(i)||Mi(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(s,e,i){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Nv extends Cv{constructor(e,i,a,u,h,d){super(e,i,a,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Mo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Vv("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Mo extends Nv{data(e={}){return super.data(e)}}class cb{constructor(e,i,a,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Ll(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new Mo(this._firestore,this._userDataWriter,a.key,a,new Ll(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(g=>{const _=new Mo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Ll(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new Mo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Ll(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let v=-1,S=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:hb(g.type),doc:_,oldIndex:v,newIndex:S}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function hb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}class Ov extends ub{constructor(e){super(),this.firestore=e}convertBytes(e){return new Es(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new rn(this.firestore,null,i)}}function fb(s,e,i){s=ds(s,rn);const a=ds(s.firestore,Xo),u=ob(s.converter,e);return mb(a,[W1(Sv(a),"setDoc",s._key,u,s.converter!==null,i).toMutation(s._key,Ni.none())])}function db(s,...e){var i,a,u;s=ca(s);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||jy(e[d])||(h=e[d],d++);const g={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(jy(e[d])){const V=e[d];e[d]=(i=V.next)===null||i===void 0?void 0:i.bind(V),e[d+1]=(a=V.error)===null||a===void 0?void 0:a.bind(V),e[d+2]=(u=V.complete)===null||u===void 0?void 0:u.bind(V)}let _,v,S;if(s instanceof rn)v=ds(s.firestore,Xo),S=Wf(s._key.path),_={next:V=>{e[d]&&e[d](gb(v,s,V))},error:e[d+1],complete:e[d+2]};else{const V=ds(s,ws);v=ds(V.firestore,Xo),S=V._query;const P=new Ov(v);_={next:H=>{e[d]&&e[d](new cb(v,P,V,H))},error:e[d+1],complete:e[d+2]},ab(s._query)}return function(P,H,X,J){const Z=new q1(J),yt=new T1(H,Z,X);return P.asyncQueue.enqueueAndForget(async()=>y1(await xy(P),yt)),()=>{Z.su(),P.asyncQueue.enqueueAndForget(async()=>_1(await xy(P),yt))}}(Ev(v),S,g,_)}function mb(s,e){return function(a,u){const h=new oa;return a.asyncQueue.enqueueAndForget(async()=>N1(await j1(a),u,h)),h.promise}(Ev(s),e)}function gb(s,e,i){const a=i.docs.get(e._key),u=new Ov(s);return new Nv(s,u,e._key,a,new Ll(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(u){As=u})(zT),Lo(new Hl("firestore",(a,{instanceIdentifier:u,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new Xo(new JT(a.getProvider("auth-internal")),new eA(d,a.getProvider("app-check-internal")),function(v,S){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new rt(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(v.options.projectId,S)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),hs(Kp,Yp,e),hs(Kp,Yp,"esm2017")})();const pb={apiKey:"AIzaSyBA_wxPnS30lA3AUwm3uU91fSe4toI19Kw",authDomain:"forum-mitapp.firebaseapp.com",databaseURL:"https://forum-mitapp-default-rtdb.firebaseio.com",projectId:"forum-mitapp",storageBucket:"forum-mitapp.firebasestorage.app",messagingSenderId:"781341417234",appId:"1:781341417234:web:36be5c5278f29318b89dcb"},yb=Wy(pb),Mv=Y1(yb);function _b(){const s=new Date,e=String(s.getDate()).padStart(2,"0"),i=String(s.getMonth()+1).padStart(2,"0"),a=String(s.getFullYear()).slice(-2),u=String(s.getHours()).padStart(2,"0"),h=String(s.getMinutes()).padStart(2,"0"),d=u>=12?"pm":"am",_=`${u%12||12}:${h}${d}`;return`${e}/${i}/${a} ${_}`}const vb=async(s,e,i,a)=>{try{const u=Date.now().toString(),h=K1(Mv,"posts",u);await fb(h,{userPfpUrl:s,userName:e,postTitle:i,postMsg:a,postDate:_b()}),console.log("Document added with ID:",u)}catch(u){console.error("Error adding document:",u)}},Eb=s=>{const e=lb(F1(Mv,"posts"));return db(e,a=>{const u=[];a.forEach(h=>{u.push({id:h.id,...h.data()})}),s(u)})},Tb=({setShowCreateNewPost:s,userPfpUrl:e,userName:i})=>{const[a,u]=nn.useState(""),[h,d]=nn.useState(""),g=nn.useRef(null),_=nn.useRef(null),[v,S]=nn.useState(!1);nn.useEffect(()=>{},[]);const V=J=>{u(J.target.value),J.target.value.trim().length>0?S(!1):S(!0)},P=J=>{d(J.target.value),J.target.value.trim().length>0?S(!1):S(!0)},H=J=>{const Z=J.current;Z.style.height="auto",Z.style.height=`${Z.scrollHeight}px`};console.log(e);const X=()=>{a!=null&&a.trim().length>0&&h!=null&&h.trim().length>0?(vb(e,i,a,h),s(!1),window.scrollTo({top:0,behavior:"smooth"})):(console.log("error de inputs"),S(!0))};return wt.jsxs("div",{className:"create-post",children:[wt.jsx("div",{className:"pfp-container",children:wt.jsx("img",{src:e,alt:""})}),wt.jsxs("div",{className:"content-container",children:[wt.jsx("div",{className:"hint1",children:"Nueva publicacin"}),wt.jsx("textarea",{className:"post-title",ref:g,value:a,onChange:V,onInput:()=>H(g),placeholder:"Ttulo...",autoFocus:!0}),wt.jsx("textarea",{className:"post-desc",ref:_,value:h,onChange:P,onInput:()=>H(_),placeholder:"Mensaje..."}),v?wt.jsx("div",{className:"err1",children:"Los campos no puden estar vacos"}):wt.jsx(wt.Fragment,{}),wt.jsxs("div",{className:"btns-container",children:[wt.jsx("button",{className:"btn-cancelar",onClick:()=>s(!1),children:"Cancelar"}),wt.jsx("button",{className:"btn-publicar",onClick:X,children:"Publicar"})]})]})]})},Ab="/foro2/assets/plus-icon-B5l5MeAM.png",Sb=({setShowCreateNewPost:s})=>wt.jsx("div",{className:"createPost",children:wt.jsx("img",{onClick:()=>s(!0),src:Ab,alt:""})});function bb(){const[s,e]=nn.useState(null),[i,a]=nn.useState("vacio"),[u,h]=nn.useState(!1),[d,g]=nn.useState(null),[_,v]=nn.useState(null),S=()=>{const H=new URLSearchParams(window.location.search).get("data");if(console.log(H),H){const X=H.split("^");g(X[0]),v(X[1].split("/revision")[0]),console.log(X[0],X[1]),a(H)}},V=()=>{Eb(P=>{console.log("Posts:",P),e(P.reverse())})};return nn.useEffect(()=>{S()},[]),nn.useEffect(()=>{V()},[]),wt.jsx("div",{id:"MAIN-CONTAINER",children:wt.jsxs("div",{className:"main",children:[u?wt.jsx(Tb,{setShowCreateNewPost:h,userPfpUrl:_,userName:d}):wt.jsx(Sb,{setShowCreateNewPost:h}),s==null?void 0:s.map(P=>wt.jsx(wt.Fragment,{children:wt.jsx(m0,{post:P},P.id)}))]})})}d0.createRoot(document.getElementById("root")).render(wt.jsx(nn.StrictMode,{children:wt.jsx(bb,{})}));
